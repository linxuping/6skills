
2016:10:07 03:22:55 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:G6_rOddmEkzTBfD1rYGBChiz72-DPKcZ1Kl_NLJ2Wqx4DZhDCAzG2VDw3huHBnPrg3F8rcd7GSN27_hm3sdmEzBpUUkHTlmGXtIv1eAHJFw
2016:10:07 03:22:55 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:fl1GS1tWjZLQdK3e8RW5s1y3v3duKcZ7fnwXeuB57sgdFU1_18gAUSUyT3_4HR1hoIWVqzcaGBzSA-unZ7osb7AkJE4aHB-DowRnLAJC5us
2016:10:07 03:23:40 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [115.28.122.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 03:47:03 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [218.75.70.3] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 04:02:22 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:CfdqNbqXPxNo_kRx9-HVRCu-TbiQx7cDoma3ZbsinM1l56eUXNxfMhByu7CRYQL6ncnETw7a4Tpx5M8lRkVyqR_uDPou4MB2fDgE92yqxko
2016:10:07 04:02:22 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:FE9TMWEZAZ3xaA-JXA9ke8uFnmdwqnk4NjnQUh-ySCsOTkyhkto0BYmXz-tb9TjR78AauJX7x2dTTC7-ufe1njqvFFy7GnFgLTim6f0-pRM
2016:10:07 04:09:52 21138 139673904994048 [INFO _update_base_access_token 981] [TOKEN] update base_access_token: edx3rRXI0ok1s4YCGiOyBfNbvCIYbXY56nsKgMWTOhikx9Tnqsbwav4Ke5AyDlyWa_lA-nHsGlSVay77vcl8vijaBX7zirdY01xMeeeeCBC5Sj7RqK3zCLcv2oxIzsjdNHFjAAABVT
2016:10:07 04:20:14 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:IrKFBa4YxwmRg6gI9fGuGEsbO6QqxNnoLUIhqUFwc1eAutwvu3WC4q1FiuHBcN6ZmAEWQFyxs_qeQw5zLnsQUGGA3PbSb-tvU9yntlAMzFo
2016:10:07 04:20:14 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:JoXb8zJ3hDxRfGlTewDI9bryhNgK29Kktm8YxeOlmstxfhODirwk6JWtoyalup8zHpI0Ge3bEWvlS1Gg9pauc1IJvRdZ48T3vjjdO7dOAeQ
2016:10:07 04:23:03 21138 139673904994048 [INFO _update_js_signature 1029] [TOKEN] update js_signature:kgt8ON7yVITDhtdwci0qedWxJyz1VVx-TqXRisJtz8ecWaF1heKPRhDEwcWMAberjPZToyzZhwOmABPP9vmNgA 7200
2016:10:07 04:33:22 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:U2m687Fyeuqz6rfSSLjViKJidNkXSBL70dOQZ-nID32FfFJxx75JGXhem4gtzpg8wu2bbhvz7V-9hqlrFPUaTDh6pWBBu6fo8SbZN1LJxco
2016:10:07 04:33:22 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:wNBAM1R5pLJl8rSFVoRAKf5ZrH0gjxyb4R6GXImqna6vuw0xL5ockbOYIr7uvclKlyelnRxYlTjopxcC8dhcMbnJZCnl8K3WBdsoVxBmup8
2016:10:07 04:34:19 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:ertqKlhRmE9ef5rS_MaTFJSh9lAsCRohh3v9BCNCT4z-YOO6-UxNj6UGWiF0mkrAUI7JVYSEuyP6A_Vm5RE_9OdIZIJBj-fnrIWD9nniEkw
2016:10:07 04:34:19 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:wk8PDgObq-EbXvdryeXKb88uEYNwKW1LYPONKK6GkK8k53jPodFJoWX39B8NpQuEZgpWa_9AuGe7f8XR121C0Nj1iC_DQcy35MbfQbWaaPY
2016:10:07 04:40:53 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:4CnsZnIWuEy1V5MP9Sz9i_llB01Uy6QCkBufzQoueauMIfCj2njOZFETnHeOQ_y7IpS3Po5KS77Oxwd2PsnDkRKIOqHsmRB4k-sddpnwxs4
2016:10:07 04:40:53 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:O_RdvnDUYc5_7zkb9b1_v90kx75h52r91QEDHbaa_ejlvWrQ43udXWBIbdUaBUBRfI5j7pWVgCY4fzILFyOFtbfl0Qcv-3it5nmDeh4PmI8
2016:10:07 04:41:49 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:yA6zLX05U33VJfM5Fz8bBF6wOyYqHyPkYccSGsNhVHZb7GUNWW1ngYSa0G_v4h599BuFSDrPFeroPSNxDvfHWlu6SYaaMior71wBcMsyung
2016:10:07 04:41:49 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:RX1oXF51FxzuhPccr2l3NoWqVisw4l23NyS4uaTgOvcnFwENPdkZuu71hL3D1ogXaVoAEw3qmj0pcjX3FkDOXuH5wMXgcfpX4-vgCuwvEWM
2016:10:07 04:49:20 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:CIrkZ8PMmITAkRvnBpz2FJ0I88lsZX8Y_EbNt72kDtrxr2mW9Lg8h0o1Vojj-whrD2K4FBaT-Gw6nIIpoHQGN-vJ0B1l0Ne0xxKjFT17RX0
2016:10:07 04:49:20 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:Z8N9ak3Gzmb94O6w7trk6KO3l2RGNI8EWOazg30bEEqkQ_1v1KyvskbzBg4QZ44xYWEPcnnRfUY-678qnfSAozcmmdfIiPgK76hQeaejrPM
2016:10:07 04:52:09 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:7iJcPjMPD8YS65P6dPJLqPsZ7GbLcF5b2axqAFBnTPVU_0aCyLwlHuhqJeLvt88vwyIx7dGA2gbEDGfpiDeF_S3wXUMOADRgmZc-ZF0Y4go
2016:10:07 04:52:09 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:Pi6US4uLwJ1q9u7DRRxkbpqDMpXxOGAHJG04Y3FZx1Q_TjFvECVv9RJDUBNXnelKr6xWaVljm9KfCF-CWJiX5eRgTmteOvK0yi2_6R68Wb4
2016:10:07 04:53:05 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:ArrdENXQGILD0FzTenzNIVMAyjNg8Cx9YiNDVi0SIbZA6tgbWJHpVrvnzPBLyFVzMjQvLHW4orSurygxpGmbqUvJp9w3BWHP7FQJAHp-r08
2016:10:07 04:53:05 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:ZH3X8Dvtyi9QV7ttWmbLzE3rJHjqW70sAZyR70N4cW6DtjDvag1FetUfWSbOu7iUZua_AXgCmJ6yuOEtPy4_qOM0o8c_y-lUvpjoxnqevrE
2016:10:07 04:54:43 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [115.28.122.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 04:57:46 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:x72vYiwKiJdLbUstjgKvIsEIrYLQCP5I9GsTz8dUWOsvBAsiAbmRG-C13txys2t3uYn2uRgFJQj005_CBLbuJxahwUTBNR1SPpF5nSBeb60
2016:10:07 04:57:46 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:1DQqBwPrkv_fiQJkeDLs0ooS6f4l4cO6LjGWx-kqGJ4KGjAY4TQiWj6Y6DCRWSXbV6di5BPlK0T4-_qy3TQ7Yv2_lJfB43WYqkSM9QHxZj8
2016:10:07 05:22:11 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:G6_rOddmEkzTBfD1rYGBChiz72-DPKcZ1Kl_NLJ2Wqx4DZhDCAzG2VDw3huHBnPrg3F8rcd7GSN27_hm3sdmEzBpUUkHTlmGXtIv1eAHJFw
2016:10:07 05:22:11 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:fl1GS1tWjZLQdK3e8RW5s1y3v3duKcZ7fnwXeuB57sgdFU1_18gAUSUyT3_4HR1hoIWVqzcaGBzSA-unZ7osb7AkJE4aHB-DowRnLAJC5us
2016:10:07 06:01:37 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:CfdqNbqXPxNo_kRx9-HVRCu-TbiQx7cDoma3ZbsinM1l56eUXNxfMhByu7CRYQL6ncnETw7a4Tpx5M8lRkVyqR_uDPou4MB2fDgE92yqxko
2016:10:07 06:01:37 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:FE9TMWEZAZ3xaA-JXA9ke8uFnmdwqnk4NjnQUh-ySCsOTkyhkto0BYmXz-tb9TjR78AauJX7x2dTTC7-ufe1njqvFFy7GnFgLTim6f0-pRM
2016:10:07 06:08:02 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [42.156.251.185] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 06:09:08 21138 139673904994048 [INFO _update_base_access_token 981] [TOKEN] update base_access_token: H6wumoo37P6hlIyuGkdx8QciFVJzVwtWJWfZONkol9JF8XxoXjyabkaA2Pf1LLqnHArz9zVy4NmBXhA8XcagN9l-q3RydSCQs-pANjC1jRu4pzrpI6gtx4tiNs8Ety2dGQAdAFAJTD
2016:10:07 06:16:29 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [115.28.122.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 06:19:29 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:IrKFBa4YxwmRg6gI9fGuGEsbO6QqxNnoLUIhqUFwc1eAutwvu3WC4q1FiuHBcN6ZmAEWQFyxs_qeQw5zLnsQUGGA3PbSb-tvU9yntlAMzFo
2016:10:07 06:19:29 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:JoXb8zJ3hDxRfGlTewDI9bryhNgK29Kktm8YxeOlmstxfhODirwk6JWtoyalup8zHpI0Ge3bEWvlS1Gg9pauc1IJvRdZ48T3vjjdO7dOAeQ
2016:10:07 06:22:18 21138 139673904994048 [INFO _update_js_signature 1029] [TOKEN] update js_signature:kgt8ON7yVITDhtdwci0qedWxJyz1VVx-TqXRisJtz8dwq5bluxfUZtEnyB_H5-YW9_7GiJJKg3WJG-ztiv6mfw 7200
2016:10:07 06:32:37 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:U2m687Fyeuqz6rfSSLjViKJidNkXSBL70dOQZ-nID32FfFJxx75JGXhem4gtzpg8wu2bbhvz7V-9hqlrFPUaTDh6pWBBu6fo8SbZN1LJxco
2016:10:07 06:32:37 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:wNBAM1R5pLJl8rSFVoRAKf5ZrH0gjxyb4R6GXImqna6vuw0xL5ockbOYIr7uvclKlyelnRxYlTjopxcC8dhcMbnJZCnl8K3WBdsoVxBmup8
2016:10:07 06:33:34 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:ertqKlhRmE9ef5rS_MaTFJSh9lAsCRohh3v9BCNCT4z-YOO6-UxNj6UGWiF0mkrAUI7JVYSEuyP6A_Vm5RE_9OdIZIJBj-fnrIWD9nniEkw
2016:10:07 06:33:34 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:wk8PDgObq-EbXvdryeXKb88uEYNwKW1LYPONKK6GkK8k53jPodFJoWX39B8NpQuEZgpWa_9AuGe7f8XR121C0Nj1iC_DQcy35MbfQbWaaPY
2016:10:07 06:36:29 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [42.156.251.188] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 06:40:09 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:4CnsZnIWuEy1V5MP9Sz9i_llB01Uy6QCkBufzQoueauMIfCj2njOZFETnHeOQ_y7IpS3Po5KS77Oxwd2PsnDkRKIOqHsmRB4k-sddpnwxs4
2016:10:07 06:40:09 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:O_RdvnDUYc5_7zkb9b1_v90kx75h52r91QEDHbaa_ejlvWrQ43udXWBIbdUaBUBRfI5j7pWVgCY4fzILFyOFtbfl0Qcv-3it5nmDeh4PmI8
2016:10:07 06:41:04 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:yA6zLX05U33VJfM5Fz8bBF6wOyYqHyPkYccSGsNhVHZb7GUNWW1ngYSa0G_v4h599BuFSDrPFeroPSNxDvfHWlu6SYaaMior71wBcMsyung
2016:10:07 06:41:04 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:RX1oXF51FxzuhPccr2l3NoWqVisw4l23NyS4uaTgOvcnFwENPdkZuu71hL3D1ogXaVoAEw3qmj0pcjX3FkDOXuH5wMXgcfpX4-vgCuwvEWM
2016:10:07 06:48:36 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:CIrkZ8PMmITAkRvnBpz2FJ0I88lsZX8Y_EbNt72kDtrxr2mW9Lg8h0o1Vojj-whrD2K4FBaT-Gw6nIIpoHQGN-vJ0B1l0Ne0xxKjFT17RX0
2016:10:07 06:48:36 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:Z8N9ak3Gzmb94O6w7trk6KO3l2RGNI8EWOazg30bEEqkQ_1v1KyvskbzBg4QZ44xYWEPcnnRfUY-678qnfSAozcmmdfIiPgK76hQeaejrPM
2016:10:07 06:51:25 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:7iJcPjMPD8YS65P6dPJLqPsZ7GbLcF5b2axqAFBnTPVU_0aCyLwlHuhqJeLvt88vwyIx7dGA2gbEDGfpiDeF_S3wXUMOADRgmZc-ZF0Y4go
2016:10:07 06:51:25 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:Pi6US4uLwJ1q9u7DRRxkbpqDMpXxOGAHJG04Y3FZx1Q_TjFvECVv9RJDUBNXnelKr6xWaVljm9KfCF-CWJiX5eRgTmteOvK0yi2_6R68Wb4
2016:10:07 06:52:21 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:ArrdENXQGILD0FzTenzNIVMAyjNg8Cx9YiNDVi0SIbZA6tgbWJHpVrvnzPBLyFVzMjQvLHW4orSurygxpGmbqUvJp9w3BWHP7FQJAHp-r08
2016:10:07 06:52:21 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:ZH3X8Dvtyi9QV7ttWmbLzE3rJHjqW70sAZyR70N4cW6DtjDvag1FetUfWSbOu7iUZua_AXgCmJ6yuOEtPy4_qOM0o8c_y-lUvpjoxnqevrE
2016:10:07 06:57:03 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:x72vYiwKiJdLbUstjgKvIsEIrYLQCP5I9GsTz8dUWOsvBAsiAbmRG-C13txys2t3uYn2uRgFJQj005_CBLbuJxahwUTBNR1SPpF5nSBeb60
2016:10:07 06:57:03 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:1DQqBwPrkv_fiQJkeDLs0ooS6f4l4cO6LjGWx-kqGJ4KGjAY4TQiWj6Y6DCRWSXbV6di5BPlK0T4-_qy3TQ7Yv2_lJfB43WYqkSM9QHxZj8
2016:10:07 07:21:28 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:G6_rOddmEkzTBfD1rYGBChiz72-DPKcZ1Kl_NLJ2Wqx4DZhDCAzG2VDw3huHBnPrg3F8rcd7GSN27_hm3sdmEzBpUUkHTlmGXtIv1eAHJFw
2016:10:07 07:21:28 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:fl1GS1tWjZLQdK3e8RW5s1y3v3duKcZ7fnwXeuB57sgdFU1_18gAUSUyT3_4HR1hoIWVqzcaGBzSA-unZ7osb7AkJE4aHB-DowRnLAJC5us
2016:10:07 07:21:53 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [45.79.103.178] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 07:39:54 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [115.28.122.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 07:40:58 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [45.79.95.64] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 08:00:54 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:CfdqNbqXPxNo_kRx9-HVRCu-TbiQx7cDoma3ZbsinM1l56eUXNxfMhByu7CRYQL6ncnETw7a4Tpx5M8lRkVyqR_uDPou4MB2fDgE92yqxko
2016:10:07 08:00:54 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:FE9TMWEZAZ3xaA-JXA9ke8uFnmdwqnk4NjnQUh-ySCsOTkyhkto0BYmXz-tb9TjR78AauJX7x2dTTC7-ufe1njqvFFy7GnFgLTim6f0-pRM
2016:10:07 08:08:24 21138 139673904994048 [INFO _update_base_access_token 981] [TOKEN] update base_access_token: 6iFORsTwbBmvfx9vazknLwznpeWfJ3OQavQa1HgC9f-mne34RqciLTH0g9RBzzZQXdQhzskr4VyX9IRvt4QjUmb7yhI1ecU69ts10JpbELoRHHhAIAHXX
2016:10:07 08:18:45 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:IrKFBa4YxwmRg6gI9fGuGEsbO6QqxNnoLUIhqUFwc1eAutwvu3WC4q1FiuHBcN6ZmAEWQFyxs_qeQw5zLnsQUGGA3PbSb-tvU9yntlAMzFo
2016:10:07 08:18:45 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:JoXb8zJ3hDxRfGlTewDI9bryhNgK29Kktm8YxeOlmstxfhODirwk6JWtoyalup8zHpI0Ge3bEWvlS1Gg9pauc1IJvRdZ48T3vjjdO7dOAeQ
2016:10:07 08:21:35 21138 139673904994048 [INFO _update_js_signature 1029] [TOKEN] update js_signature:kgt8ON7yVITDhtdwci0qedWxJyz1VVx-TqXRisJtz8ctOoNjKiwFkdhtPItaBqvhUcIQGv4iAvS74pZ0mYA5VQ 7200
2016:10:07 08:31:54 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:U2m687Fyeuqz6rfSSLjViKJidNkXSBL70dOQZ-nID32FfFJxx75JGXhem4gtzpg8wu2bbhvz7V-9hqlrFPUaTDh6pWBBu6fo8SbZN1LJxco
2016:10:07 08:31:54 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:wNBAM1R5pLJl8rSFVoRAKf5ZrH0gjxyb4R6GXImqna6vuw0xL5ockbOYIr7uvclKlyelnRxYlTjopxcC8dhcMbnJZCnl8K3WBdsoVxBmup8
2016:10:07 08:32:51 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:ertqKlhRmE9ef5rS_MaTFJSh9lAsCRohh3v9BCNCT4z-YOO6-UxNj6UGWiF0mkrAUI7JVYSEuyP6A_Vm5RE_9OdIZIJBj-fnrIWD9nniEkw
2016:10:07 08:32:51 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:wk8PDgObq-EbXvdryeXKb88uEYNwKW1LYPONKK6GkK8k53jPodFJoWX39B8NpQuEZgpWa_9AuGe7f8XR121C0Nj1iC_DQcy35MbfQbWaaPY
2016:10:07 08:37:19 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [121.42.0.39] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 08:37:24 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.39] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'price': [u'0.01'], u'actid': [u'38']}>, args:()
2016:10:07 08:37:24 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.title,a.price_child,b.price_child from 6s_activity a left join 6s_preinfo b on a.preinfo_id=b.id where a.id=38;, count:1, time:0.001.
2016:10:07 08:37:25 21138 139673987737344 [INFO get_wx_payinfo 1465] wxpay: trade_no:1475800644, openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, ret:{'trade_type': 'JSAPI', 'prepay_id': 'wx20161007083725d3b0d698430626689165', 'nonce_str': 'RJTqCYI3f7jhZSMz', 'return_code': 'SUCCESS', 'return_msg': 'OK', 'sign': '6C01322D3D3944776692C6345D026BF1', 'mch_id': '1395115702', 'appid': 'wxe6d40d1e6b8d010e', 'result_code': 'SUCCESS'}
2016:10:07 08:37:25 21138 139673987737344 [INFO db_exec 84] [sql_w] insert into 6s_prepay_info(act_id,out_trade_no,body,total_fee,trade_type,openid,prepay_id) values ('38','1475800644','小机器人开班了，赶紧报名啦','1','JSAPI','oYgYJwUkw7GldFuggLCD-N1BVrJ4','wx20161007083725d3b0d698430626689165'), count:1, time:0.013.
2016:10:07 08:37:25 21138 139673987737344 [ERROR get_wx_payinfo 1479] save prepay_info OK. oYgYJwUkw7GldFuggLCD-N1BVrJ4
2016:10:07 08:37:28 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [121.42.0.39] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 08:37:33 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [121.42.0.39] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 08:38:42 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [121.42.0.15] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 08:39:25 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:4CnsZnIWuEy1V5MP9Sz9i_llB01Uy6QCkBufzQoueauMIfCj2njOZFETnHeOQ_y7IpS3Po5KS77Oxwd2PsnDkRKIOqHsmRB4k-sddpnwxs4
2016:10:07 08:39:25 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:O_RdvnDUYc5_7zkb9b1_v90kx75h52r91QEDHbaa_ejlvWrQ43udXWBIbdUaBUBRfI5j7pWVgCY4fzILFyOFtbfl0Qcv-3it5nmDeh4PmI8
2016:10:07 08:40:21 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:yA6zLX05U33VJfM5Fz8bBF6wOyYqHyPkYccSGsNhVHZb7GUNWW1ngYSa0G_v4h599BuFSDrPFeroPSNxDvfHWlu6SYaaMior71wBcMsyung
2016:10:07 08:40:21 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:RX1oXF51FxzuhPccr2l3NoWqVisw4l23NyS4uaTgOvcnFwENPdkZuu71hL3D1ogXaVoAEw3qmj0pcjX3FkDOXuH5wMXgcfpX4-vgCuwvEWM
2016:10:07 08:42:28 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [121.42.0.39] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 08:42:39 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.39] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'price': [u'0.01'], u'actid': [u'38']}>, args:()
2016:10:07 08:42:39 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.title,a.price_child,b.price_child from 6s_activity a left join 6s_preinfo b on a.preinfo_id=b.id where a.id=38;, count:1, time:0.001.
2016:10:07 08:42:40 21138 139673987737344 [INFO get_wx_payinfo 1465] wxpay: trade_no:1475800959, openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, ret:{'trade_type': 'JSAPI', 'prepay_id': 'wx201610070842406278f1cb500794119492', 'nonce_str': 'yPRedsvgqQTkWQ4i', 'return_code': 'SUCCESS', 'return_msg': 'OK', 'sign': 'E44F58E747347F3ECE12E870DFC58C80', 'mch_id': '1395115702', 'appid': 'wxe6d40d1e6b8d010e', 'result_code': 'SUCCESS'}
2016:10:07 08:42:40 21138 139673987737344 [INFO db_exec 84] [sql_w] insert into 6s_prepay_info(act_id,out_trade_no,body,total_fee,trade_type,openid,prepay_id) values ('38','1475800959','小机器人开班了，赶紧报名啦','1','JSAPI','oYgYJwUkw7GldFuggLCD-N1BVrJ4','wx201610070842406278f1cb500794119492'), count:1, time:0.012.
2016:10:07 08:42:40 21138 139673987737344 [ERROR get_wx_payinfo 1479] save prepay_info OK. oYgYJwUkw7GldFuggLCD-N1BVrJ4
2016:10:07 08:42:46 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [121.42.0.39] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 08:44:55 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [121.42.0.55] POST:<QueryDict: {}>, GET:<QueryDict: {u'.tmp': [u't']}>, args:()
2016:10:07 08:45:01 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.55] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'price': [u'0.01'], u'actid': [u'38']}>, args:()
2016:10:07 08:45:01 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.title,a.price_child,b.price_child from 6s_activity a left join 6s_preinfo b on a.preinfo_id=b.id where a.id=38;, count:1, time:0.001.
2016:10:07 08:45:01 21138 139673987737344 [INFO get_wx_payinfo 1465] wxpay: trade_no:1475801101, openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, ret:{'trade_type': 'JSAPI', 'prepay_id': 'wx2016100708450130136e88090755992385', 'nonce_str': 'j8nT1oRuxzNEpDXx', 'return_code': 'SUCCESS', 'return_msg': 'OK', 'sign': '7C0D92BF3269CE9891E9FFC1773F6E84', 'mch_id': '1395115702', 'appid': 'wxe6d40d1e6b8d010e', 'result_code': 'SUCCESS'}
2016:10:07 08:45:01 21138 139673987737344 [INFO db_exec 84] [sql_w] insert into 6s_prepay_info(act_id,out_trade_no,body,total_fee,trade_type,openid,prepay_id) values ('38','1475801101','小机器人开班了，赶紧报名啦','1','JSAPI','oYgYJwUkw7GldFuggLCD-N1BVrJ4','wx2016100708450130136e88090755992385'), count:1, time:0.013.
2016:10:07 08:45:01 21138 139673987737344 [ERROR get_wx_payinfo 1479] save prepay_info OK. oYgYJwUkw7GldFuggLCD-N1BVrJ4
2016:10:07 08:45:01 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [121.42.0.39] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 08:45:05 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [121.42.0.55] POST:<QueryDict: {}>, GET:<QueryDict: {u'.tmp': [u't']}>, args:()
2016:10:07 08:46:10 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [121.42.0.39] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 08:46:16 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.39] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'price': [u'0.01'], u'actid': [u'38']}>, args:()
2016:10:07 08:46:16 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.title,a.price_child,b.price_child from 6s_activity a left join 6s_preinfo b on a.preinfo_id=b.id where a.id=38;, count:1, time:0.001.
2016:10:07 08:46:17 21138 139673987737344 [INFO get_wx_payinfo 1465] wxpay: trade_no:1475801176, openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, ret:{'trade_type': 'JSAPI', 'prepay_id': 'wx20161007084617951a2ad69e0547090922', 'nonce_str': 'fVgLf2kLfTt1eiqE', 'return_code': 'SUCCESS', 'return_msg': 'OK', 'sign': 'C6DDD3FFA3959F90E62F9BE1B775EA4A', 'mch_id': '1395115702', 'appid': 'wxe6d40d1e6b8d010e', 'result_code': 'SUCCESS'}
2016:10:07 08:46:17 21138 139673987737344 [INFO db_exec 84] [sql_w] insert into 6s_prepay_info(act_id,out_trade_no,body,total_fee,trade_type,openid,prepay_id) values ('38','1475801176','小机器人开班了，赶紧报名啦','1','JSAPI','oYgYJwUkw7GldFuggLCD-N1BVrJ4','wx20161007084617951a2ad69e0547090922'), count:1, time:0.025.
2016:10:07 08:46:17 21138 139673987737344 [ERROR get_wx_payinfo 1479] save prepay_info OK. oYgYJwUkw7GldFuggLCD-N1BVrJ4
2016:10:07 08:46:18 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [121.42.0.39] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 08:47:53 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:CIrkZ8PMmITAkRvnBpz2FJ0I88lsZX8Y_EbNt72kDtrxr2mW9Lg8h0o1Vojj-whrD2K4FBaT-Gw6nIIpoHQGN-vJ0B1l0Ne0xxKjFT17RX0
2016:10:07 08:47:53 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:Z8N9ak3Gzmb94O6w7trk6KO3l2RGNI8EWOazg30bEEqkQ_1v1KyvskbzBg4QZ44xYWEPcnnRfUY-678qnfSAozcmmdfIiPgK76hQeaejrPM
2016:10:07 08:48:37 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.39] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4i3946939i'], u'price': [u'0.01'], u'actid': [u'38']}>, args:()
2016:10:07 08:48:37 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.title,a.price_child,b.price_child from 6s_activity a left join 6s_preinfo b on a.preinfo_id=b.id where a.id=38;, count:1, time:0.001.
2016:10:07 08:48:38 21138 139673987737344 [INFO get_wx_payinfo 1465] wxpay: trade_no:1475801317, openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4i3946939i, ret:{'return_code': 'FAIL', 'return_msg': u'openid\u53c2\u6570\u957f\u5ea6\u6709\u8bef'}
2016:10:07 08:50:43 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:7iJcPjMPD8YS65P6dPJLqPsZ7GbLcF5b2axqAFBnTPVU_0aCyLwlHuhqJeLvt88vwyIx7dGA2gbEDGfpiDeF_S3wXUMOADRgmZc-ZF0Y4go
2016:10:07 08:50:43 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:Pi6US4uLwJ1q9u7DRRxkbpqDMpXxOGAHJG04Y3FZx1Q_TjFvECVv9RJDUBNXnelKr6xWaVljm9KfCF-CWJiX5eRgTmteOvK0yi2_6R68Wb4
2016:10:07 08:51:27 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.39] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4i3946939i'], u'price': [u'0.01'], u'actid': [u'38']}>, args:()
2016:10:07 08:51:27 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.title,a.price_child,b.price_child from 6s_activity a left join 6s_preinfo b on a.preinfo_id=b.id where a.id=38;, count:1, time:0.001.
2016:10:07 08:51:28 21138 139673987737344 [INFO get_wx_payinfo 1465] wxpay: trade_no:1475801487, openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4i3946939i, ret:{'return_code': 'FAIL', 'return_msg': u'openid\u53c2\u6570\u957f\u5ea6\u6709\u8bef'}
2016:10:07 08:51:39 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:ArrdENXQGILD0FzTenzNIVMAyjNg8Cx9YiNDVi0SIbZA6tgbWJHpVrvnzPBLyFVzMjQvLHW4orSurygxpGmbqUvJp9w3BWHP7FQJAHp-r08
2016:10:07 08:51:39 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:ZH3X8Dvtyi9QV7ttWmbLzE3rJHjqW70sAZyR70N4cW6DtjDvag1FetUfWSbOu7iUZua_AXgCmJ6yuOEtPy4_qOM0o8c_y-lUvpjoxnqevrE
2016:10:07 08:52:55 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.39] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4i3946939i'], u'price': [u'0.01'], u'actid': [u'38']}>, args:()
2016:10:07 08:52:55 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.title,a.price_child,b.price_child from 6s_activity a left join 6s_preinfo b on a.preinfo_id=b.id where a.id=38;, count:1, time:0.001.
2016:10:07 08:52:55 21138 139673987737344 [INFO get_wx_payinfo 1465] wxpay: trade_no:1475801575, openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4i3946939i, ret:{'return_code': 'FAIL', 'return_msg': u'openid\u53c2\u6570\u957f\u5ea6\u6709\u8bef'}
2016:10:07 08:54:18 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [38.100.21.67] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 08:54:36 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.71] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4\'"><iframe onload=alert()>'], u'price': [u'0.01'], u'actid': [u'38']}>, args:()
2016:10:07 08:54:36 21138 139673987737344 [ERROR _check_mysql_arg_json 178] 非法参数(s-openid-oYgYJwUkw7GldFuggLCD-N1BVrJ4'"><iframe onload=alert()>)
2016:10:07 08:54:36 21138 139673987737344 [ERROR wrapper 88] invalid arg:oYgYJwUkw7GldFuggLCD-N1BVrJ4  ><iframe onload=alert()> into 6s_trace.
2016:10:07 08:55:24 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.57] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'price': [u'0.01'], u'actid': [u'38\'"><iframe onload=alert()>']}>, args:()
2016:10:07 08:55:24 21138 139673987737344 [ERROR _check_mysql_arg_json 164] 非法参数(i-actid-38'"><iframe onload=alert()>)
2016:10:07 08:56:20 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:x72vYiwKiJdLbUstjgKvIsEIrYLQCP5I9GsTz8dUWOsvBAsiAbmRG-C13txys2t3uYn2uRgFJQj005_CBLbuJxahwUTBNR1SPpF5nSBeb60
2016:10:07 08:56:20 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:1DQqBwPrkv_fiQJkeDLs0ooS6f4l4cO6LjGWx-kqGJ4KGjAY4TQiWj6Y6DCRWSXbV6di5BPlK0T4-_qy3TQ7Yv2_lJfB43WYqkSM9QHxZj8
2016:10:07 08:56:24 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.64] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'price': [u'0.01\'"><iframe onload=alert()>'], u'actid': [u'38']}>, args:()
2016:10:07 08:56:24 21138 139673987737344 [ERROR _check_mysql_arg_json 171] 非法参数(f-price-0.01'"><iframe onload=alert()>)
2016:10:07 08:56:24 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.title,a.price_child,b.price_child from 6s_activity a left join 6s_preinfo b on a.preinfo_id=b.id where a.id=38;, count:1, time:0.001.
2016:10:07 08:56:25 21138 139673987737344 [INFO get_wx_payinfo 1465] wxpay: trade_no:1475801784, openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, ret:{'trade_type': 'JSAPI', 'prepay_id': 'wx201610070856240439d86cfc0439294128', 'nonce_str': 'mukAALshwy15meG6', 'return_code': 'SUCCESS', 'return_msg': 'OK', 'sign': 'AADE9B1D0C6DBC776FB4E1DF114DFD33', 'mch_id': '1395115702', 'appid': 'wxe6d40d1e6b8d010e', 'result_code': 'SUCCESS'}
2016:10:07 08:56:25 21138 139673987737344 [INFO db_exec 84] [sql_w] insert into 6s_prepay_info(act_id,out_trade_no,body,total_fee,trade_type,openid,prepay_id) values ('38','1475801784','小机器人开班了，赶紧报名啦','1','JSAPI','oYgYJwUkw7GldFuggLCD-N1BVrJ4','wx201610070856240439d86cfc0439294128'), count:1, time:0.014.
2016:10:07 08:56:25 21138 139673987737344 [ERROR get_wx_payinfo 1479] save prepay_info OK. oYgYJwUkw7GldFuggLCD-N1BVrJ4
2016:10:07 08:57:06 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.54] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4\'"><img src=x onerror=prompt()>'], u'price': [u'0.01'], u'actid': [u'38']}>, args:()
2016:10:07 08:57:06 21138 139673987737344 [ERROR _check_mysql_arg_json 178] 非法参数(s-openid-oYgYJwUkw7GldFuggLCD-N1BVrJ4'"><img src=x onerror=prompt()>)
2016:10:07 08:57:06 21138 139673987737344 [ERROR wrapper 88] invalid arg:oYgYJwUkw7GldFuggLCD-N1BVrJ4  ><img src=x onerror=prompt()> into 6s_trace.
2016:10:07 08:57:59 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.63] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'price': [u'0.01'], u'actid': [u'38\'"><img src=x onerror=prompt()>']}>, args:()
2016:10:07 08:57:59 21138 139673987737344 [ERROR _check_mysql_arg_json 164] 非法参数(i-actid-38'"><img src=x onerror=prompt()>)
2016:10:07 08:59:02 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.66] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'price': [u'0.01\'"><img src=x onerror=prompt()>'], u'actid': [u'38']}>, args:()
2016:10:07 08:59:02 21138 139673987737344 [ERROR _check_mysql_arg_json 171] 非法参数(f-price-0.01'"><img src=x onerror=prompt()>)
2016:10:07 08:59:02 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.title,a.price_child,b.price_child from 6s_activity a left join 6s_preinfo b on a.preinfo_id=b.id where a.id=38;, count:1, time:0.001.
2016:10:07 08:59:03 21138 139673987737344 [INFO get_wx_payinfo 1465] wxpay: trade_no:1475801942, openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, ret:{'trade_type': 'JSAPI', 'prepay_id': 'wx2016100708590369f99c75be0830753151', 'nonce_str': 'OCwsZD7TugY13RVu', 'return_code': 'SUCCESS', 'return_msg': 'OK', 'sign': '6A9AFE65F1C6EA6557DC891A25326030', 'mch_id': '1395115702', 'appid': 'wxe6d40d1e6b8d010e', 'result_code': 'SUCCESS'}
2016:10:07 08:59:03 21138 139673987737344 [INFO db_exec 84] [sql_w] insert into 6s_prepay_info(act_id,out_trade_no,body,total_fee,trade_type,openid,prepay_id) values ('38','1475801942','小机器人开班了，赶紧报名啦','1','JSAPI','oYgYJwUkw7GldFuggLCD-N1BVrJ4','wx2016100708590369f99c75be0830753151'), count:1, time:0.015.
2016:10:07 08:59:03 21138 139673987737344 [ERROR get_wx_payinfo 1479] save prepay_info OK. oYgYJwUkw7GldFuggLCD-N1BVrJ4
2016:10:07 09:00:33 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.57] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4\'"><svg onload=prompt()>'], u'price': [u'0.01'], u'actid': [u'38']}>, args:()
2016:10:07 09:00:33 21138 139673987737344 [ERROR _check_mysql_arg_json 178] 非法参数(s-openid-oYgYJwUkw7GldFuggLCD-N1BVrJ4'"><svg onload=prompt()>)
2016:10:07 09:00:33 21138 139673987737344 [ERROR wrapper 88] invalid arg:oYgYJwUkw7GldFuggLCD-N1BVrJ4  ><svg onload=prompt()> into 6s_trace.
2016:10:07 09:01:38 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.64] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'price': [u'0.01'], u'actid': [u'38\'"><svg onload=prompt()>']}>, args:()
2016:10:07 09:01:38 21138 139673987737344 [ERROR _check_mysql_arg_json 164] 非法参数(i-actid-38'"><svg onload=prompt()>)
2016:10:07 09:02:31 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.71] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'price': [u'0.01\'"><svg onload=prompt()>'], u'actid': [u'38']}>, args:()
2016:10:07 09:02:31 21138 139673987737344 [ERROR _check_mysql_arg_json 171] 非法参数(f-price-0.01'"><svg onload=prompt()>)
2016:10:07 09:02:31 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.title,a.price_child,b.price_child from 6s_activity a left join 6s_preinfo b on a.preinfo_id=b.id where a.id=38;, count:1, time:0.001.
2016:10:07 09:02:31 21138 139673987737344 [INFO get_wx_payinfo 1465] wxpay: trade_no:1475802151, openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, ret:{'trade_type': 'JSAPI', 'prepay_id': 'wx2016100709023125335b33f90707944119', 'nonce_str': 'WCCACqLTUeBdRGVL', 'return_code': 'SUCCESS', 'return_msg': 'OK', 'sign': '640F26A346D20DA0B03D0E0261FF0826', 'mch_id': '1395115702', 'appid': 'wxe6d40d1e6b8d010e', 'result_code': 'SUCCESS'}
2016:10:07 09:02:31 21138 139673987737344 [INFO db_exec 84] [sql_w] insert into 6s_prepay_info(act_id,out_trade_no,body,total_fee,trade_type,openid,prepay_id) values ('38','1475802151','小机器人开班了，赶紧报名啦','1','JSAPI','oYgYJwUkw7GldFuggLCD-N1BVrJ4','wx2016100709023125335b33f90707944119'), count:1, time:0.012.
2016:10:07 09:02:31 21138 139673987737344 [ERROR get_wx_payinfo 1479] save prepay_info OK. oYgYJwUkw7GldFuggLCD-N1BVrJ4
2016:10:07 09:03:29 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.39] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4i3946939i'], u'price': [u'0.01'], u'actid': [u'38']}>, args:()
2016:10:07 09:03:29 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.title,a.price_child,b.price_child from 6s_activity a left join 6s_preinfo b on a.preinfo_id=b.id where a.id=38;, count:1, time:0.001.
2016:10:07 09:03:29 21138 139673987737344 [INFO get_wx_payinfo 1465] wxpay: trade_no:1475802209, openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4i3946939i, ret:{'return_code': 'FAIL', 'return_msg': u'openid\u53c2\u6570\u957f\u5ea6\u6709\u8bef'}
2016:10:07 09:11:57 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [58.247.206.150] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'696808848'], u'timestamp': [u'1475802717'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'signature': [u'c66fc6584400531444c704c42aae4d1a1136f9c1']}>, args:()
2016:10:07 09:11:57 21138 139673987737344 [INFO default_process 1189] openid:oYgYJwX75E_sQR8AQfkzoa94E5rM, msg:event_LOCATION, bodylen:341
2016:10:07 09:11:57 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_position where name='越秀区';, count:1, time:0.001.
2016:10:07 09:11:57 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.000.
2016:10:07 09:11:57 21138 139673987737344 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010200,position_details='广州市 越秀区 恒福路恒福路270号' where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.040.
2016:10:07 09:12:01 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [58.247.206.157] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'909883566'], u'timestamp': [u'1475802721'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'signature': [u'c585f744e96b846b02b86a5a262f8f444d54d42e']}>, args:()
2016:10:07 09:12:01 21138 139673987737344 [INFO default_process 1189] openid:oYgYJwX75E_sQR8AQfkzoa94E5rM, msg:event_VIEW, bodylen:511
2016:10:07 09:12:03 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [183.232.118.15] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 09:12:03 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [163.177.93.219] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 09:12:04 21138 139673987737344 [INFO wrapper 75] >>>get_hot_activities<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 09:12:04 21138 139673987737344 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 09:12:04 21138 139673987737344 [INFO wrapper 75] >>>get_wx_acttypes<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 09:12:04 21138 139673987737344 [INFO wrapper 75] >>>get_openid<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'001YVjRP0co2Ve2zwMQP0NClRP0YVjR2']}>, args:()
2016:10:07 09:12:04 21138 139673987737344 [INFO get_openid 1284] [TOKEN] getopenid set web_access_token_oYgYJwX75E_sQR8AQfkzoa94E5rM: GGqmoA3RK-1hb3mZIoekMEB49rlQjkkq9ItzsQymIsV2t7jej4ayeXSeAWW6anpV1luxFmurVN8cugXD5vSZE7qvOJ4d5z6eH_Z3quKAabU 7200
2016:10:07 09:12:04 21138 139673987737344 [INFO get_openid 1286] [TOKEN] getopenid set web_refresh_token_oYgYJwX75E_sQR8AQfkzoa94E5rM: r4kDNi1rdvghLT9yUR6iEtegm1afPAOs_K9dT7tLHyxCm4svU-C8SyjQsEDS7R3X0ODFKoamMTcI8K3oD58kG6Ant3QIXX9_iXrt7GMJLRo 8640000
2016:10:07 09:12:04 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 09:12:04 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.000.
2016:10:07 09:12:04 21138 139673987737344 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Gamma老锅',gender='male',img='http://wx.qlogo.cn/mmopen/Jreh0PUDb40pu5TFftibxy5GiboB4ppjMsKtTVGCVyA7pW56ZSfiafBdUxYhmvlED1toAd0vAY6BVUPrGbIAqM9yyrMl1z7hq91/0',status=1 where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:0, time:0.000.
2016:10:07 09:12:04 21138 139673987737344 [INFO get_openid 1330] return openid. 001YVjRP0co2Ve2zwMQP0NClRP0YVjR2 -> {'openid': u'oYgYJwX75E_sQR8AQfkzoa94E5rM', 'errcode': 0, 'errmsg': ''}
2016:10:07 09:12:04 21138 139673987737344 [INFO wrapper 75] >>>activities_special_offers<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 09:12:04 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 09:12:04 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 09:12:04 21138 139673987737344 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM', count:1, time:0.001.
2016:10:07 09:12:04 21138 139673987737344 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010200 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010200 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.004.
2016:10:07 09:12:04 21138 139673987737344 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 09:12:20 21138 139673987737344 [INFO wrapper 75] >>>activities_details<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'actid': [u'63']}>, args:()
2016:10:07 09:12:20 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=63;, count:1, time:0.001.
2016:10:07 09:12:20 21138 139673987737344 [INFO wrapper 75] >>>activities_getsignupstatus<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'actid': [u'63']}>, args:()
2016:10:07 09:12:20 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwX75E_sQR8AQfkzoa94E5rM' and a.act_id=63 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 09:12:20 21138 139673987737344 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=63;, count:1, time:0.000.
2016:10:07 09:12:20 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM' and act_id=63 and status=1;, count:0, time:0.000.
2016:10:07 09:12:20 21138 139673987737344 [INFO wrapper 75] >>>get_js_signature<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=63']}>, args:()
2016:10:07 09:12:35 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [58.247.206.150] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'370418089'], u'timestamp': [u'1475802755'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'signature': [u'e060207f912e0f6d251e934599d27f7dcad45914']}>, args:()
2016:10:07 09:12:35 21138 139673987737344 [INFO default_process 1189] openid:oYgYJwX75E_sQR8AQfkzoa94E5rM, msg:event_LOCATION, bodylen:341
2016:10:07 09:12:36 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [115.28.122.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 09:12:37 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'31568255'], u'timestamp': [u'1475802757'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'signature': [u'dd8a1787eee360d936e5b68f5d3abc38ba166754']}>, args:()
2016:10:07 09:12:37 21138 139673987737344 [INFO default_process 1189] openid:oYgYJwX75E_sQR8AQfkzoa94E5rM, msg:event_VIEW, bodylen:511
2016:10:07 09:12:37 21138 139673987737344 [INFO wrapper 75] >>>get_hot_activities<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 09:12:37 21138 139673987737344 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 09:12:38 21138 139673987737344 [INFO wrapper 75] >>>get_openid<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041MvSbg1J9pLl0Q7lcg101Qbg1MvSb4']}>, args:()
2016:10:07 09:12:38 21138 139673987737344 [INFO get_openid 1284] [TOKEN] getopenid set web_access_token_oYgYJwX75E_sQR8AQfkzoa94E5rM: FbJ7zu5eqUKMLX2OwN5Dy4blAPG0aOf5YsEhQVmGfgxk8CJXVep9_9gxteajcnmtyr6RX7FLYsvEMAUhTdAufTXtqiSMtpMGY6HO1ihbz68 7200
2016:10:07 09:12:38 21138 139673987737344 [INFO get_openid 1286] [TOKEN] getopenid set web_refresh_token_oYgYJwX75E_sQR8AQfkzoa94E5rM: 5VTXVP7NHWeIrsbBDRVyLd6vcirhv3sWi8CLoTm-e89cWmzqgidOgHETXpH3eMVaHxK8nU5iM7wym7jU5_yGwY7fKDbk0Zyq-al8kKubPXc 8640000
2016:10:07 09:12:38 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 09:12:38 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.000.
2016:10:07 09:12:38 21138 139673987737344 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Gamma老锅',gender='male',img='http://wx.qlogo.cn/mmopen/Jreh0PUDb40pu5TFftibxy5GiboB4ppjMsKtTVGCVyA7pW56ZSfiafBdUxYhmvlED1toAd0vAY6BVUPrGbIAqM9yyrMl1z7hq91/0',status=1 where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:0, time:0.000.
2016:10:07 09:12:38 21138 139673987737344 [INFO get_openid 1330] return openid. 041MvSbg1J9pLl0Q7lcg101Qbg1MvSb4 -> {'openid': u'oYgYJwX75E_sQR8AQfkzoa94E5rM', 'errcode': 0, 'errmsg': ''}
2016:10:07 09:12:38 21138 139673987737344 [INFO wrapper 75] >>>get_wx_acttypes<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 09:12:38 21138 139673987737344 [INFO wrapper 75] >>>activities_special_offers<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 09:12:38 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 09:12:38 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 09:12:38 21138 139673987737344 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM', count:1, time:0.001.
2016:10:07 09:12:38 21138 139673987737344 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010200 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010200 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 09:12:38 21138 139673987737344 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 09:12:59 21138 139673987737344 [INFO wrapper 75] >>>activities_getsignupstatus<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'actid': [u'98']}>, args:()
2016:10:07 09:12:59 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwX75E_sQR8AQfkzoa94E5rM' and a.act_id=98 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 09:12:59 21138 139673987737344 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=98;, count:1, time:0.000.
2016:10:07 09:12:59 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM' and act_id=98 and status=1;, count:0, time:0.000.
2016:10:07 09:12:59 21138 139673987737344 [INFO wrapper 75] >>>activities_details<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'actid': [u'98']}>, args:()
2016:10:07 09:12:59 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=98;, count:1, time:0.001.
2016:10:07 09:13:00 21138 139673987737344 [INFO wrapper 75] >>>get_js_signature<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=98']}>, args:()
2016:10:07 09:13:21 21138 139673987737344 [INFO wrapper 75] >>>activities_details<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'actid': [u'90']}>, args:()
2016:10:07 09:13:21 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 09:13:21 21138 139673987737344 [INFO wrapper 75] >>>activities_getsignupstatus<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'actid': [u'90']}>, args:()
2016:10:07 09:13:21 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwX75E_sQR8AQfkzoa94E5rM' and a.act_id=90 and a.status=1 and b.status=1;, count:3, time:0.001.
2016:10:07 09:13:21 21138 139673987737344 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 09:13:21 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 09:13:21 21138 139673987737344 [INFO wrapper 75] >>>get_js_signature<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 09:13:43 21138 139673987737344 [INFO wrapper 75] >>>activities_getprofile<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM']}>, args:()
2016:10:07 09:13:43 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.001.
2016:10:07 09:13:43 21138 139673987737344 [INFO wrapper 75] >>>get_uploadtoken<<< [121.32.13.143] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475802822698.jpg']}>, args:()
2016:10:07 09:13:43 21138 139673987737344 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475802822698.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:IRrj4HHTRkl5IlyBzxKgLqh4BoM=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODAyODIyNjk4LmpwZyIsImRlYWRsaW5lIjoxNDc1ODA2NDIzfQ== 
2016:10:07 09:15:36 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [121.42.0.39] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4i3946939i'], u'price': [u'0.01'], u'actid': [u'38']}>, args:()
2016:10:07 09:15:36 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.title,a.price_child,b.price_child from 6s_activity a left join 6s_preinfo b on a.preinfo_id=b.id where a.id=38;, count:1, time:0.001.
2016:10:07 09:15:37 21138 139673987737344 [INFO get_wx_payinfo 1465] wxpay: trade_no:1475802936, openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4i3946939i, ret:{'return_code': 'FAIL', 'return_msg': u'openid\u53c2\u6570\u957f\u5ea6\u6709\u8bef'}
2016:10:07 09:20:46 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:G6_rOddmEkzTBfD1rYGBChiz72-DPKcZ1Kl_NLJ2Wqx4DZhDCAzG2VDw3huHBnPrg3F8rcd7GSN27_hm3sdmEzBpUUkHTlmGXtIv1eAHJFw
2016:10:07 09:20:46 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:fl1GS1tWjZLQdK3e8RW5s1y3v3duKcZ7fnwXeuB57sgdFU1_18gAUSUyT3_4HR1hoIWVqzcaGBzSA-unZ7osb7AkJE4aHB-DowRnLAJC5us
2016:10:07 09:25:02 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [45.79.95.64] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 09:31:24 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [58.247.206.141] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'687397019'], u'timestamp': [u'1475803884'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'signature': [u'4de7d38c761d5809a55d7bb6e6adb1c96b4572e8']}>, args:()
2016:10:07 09:31:24 21138 139673987737344 [INFO default_process 1189] openid:oYgYJwX75E_sQR8AQfkzoa94E5rM, msg:event_LOCATION, bodylen:341
2016:10:07 09:38:37 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1165061935'], u'timestamp': [u'1475804317'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'0eb9c6b41354b8a2287e7277e069fb60f8afdfb5']}>, args:()
2016:10:07 09:38:37 21138 139673987737344 [INFO default_process 1189] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 09:38:41 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [183.232.90.65] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 09:38:42 21138 139673987737344 [INFO wrapper 75] >>>get_hot_activities<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 09:38:42 21138 139673987737344 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 09:38:42 21138 139673987737344 [INFO wrapper 75] >>>get_wx_acttypes<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 09:38:42 21138 139673987737344 [INFO wrapper 75] >>>get_openid<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'0118hRh71EL6qX1MAFg718wRh718hRht']}>, args:()
2016:10:07 09:38:42 21138 139673987737344 [INFO get_openid 1284] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: IHknX8NnysDBePgR-f4A58DZn_TGl8bVGSQVfae-yUhqnjA1BDfdeXW892iGbo2SLfaC0ZAzxCelcDxkbzfj2rELFM4QcN66QXV8dwGnno0 7200
2016:10:07 09:38:42 21138 139673987737344 [INFO get_openid 1286] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: 4MOOx8gXNCkRBt6Q1OffN0XHQs7vPe34qYOL-RFVGcJTD7jrfp33x4-T6VxINbrueWqsHlPROTulz-Rx2UpUpLMrMJyVBngqnzKqcfZEFmU 8640000
2016:10:07 09:38:42 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 09:38:42 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 09:38:42 21138 139673987737344 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 09:38:42 21138 139673987737344 [INFO get_openid 1330] return openid. 0118hRh71EL6qX1MAFg718wRh718hRht -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 09:38:42 21138 139673987737344 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 09:38:42 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 09:38:42 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 09:38:42 21138 139673987737344 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 09:38:42 21138 139673987737344 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 09:38:42 21138 139673987737344 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 09:38:50 21138 139673987737344 [INFO wrapper 75] >>>activities_details<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 09:38:50 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 09:38:50 21138 139673987737344 [INFO wrapper 75] >>>activities_getsignupstatus<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 09:38:50 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 09:38:50 21138 139673987737344 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 09:38:50 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 09:38:51 21138 139673987737344 [INFO wrapper 75] >>>get_js_signature<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 09:38:52 21138 139673987737344 [INFO wrapper 75] >>>activities_getprofile<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 09:38:52 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 09:38:52 21138 139673987737344 [INFO wrapper 75] >>>get_uploadtoken<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475804331483.jpg']}>, args:()
2016:10:07 09:38:52 21138 139673987737344 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475804331483.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:br2h720j4M_XxTlSp7MNvQI7thw=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODA0MzMxNDgzLmpwZyIsImRlYWRsaW5lIjoxNDc1ODA3OTMyfQ== 
2016:10:07 09:38:54 21138 139673987737344 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 09:38:54 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 09:38:54 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 09:38:54 21138 139673987737344 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 09:38:54 21138 139673987737344 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 09:38:54 21138 139673987737344 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 09:38:58 21138 139673987737344 [INFO wrapper 75] >>>activities_details<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 09:38:58 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=53;, count:1, time:0.001.
2016:10:07 09:38:58 21138 139673987737344 [INFO wrapper 75] >>>activities_getsignupstatus<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 09:38:58 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=53 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 09:38:58 21138 139673987737344 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=53;, count:1, time:0.000.
2016:10:07 09:38:58 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=53 and status=1;, count:0, time:0.000.
2016:10:07 09:38:58 21138 139673987737344 [INFO wrapper 75] >>>get_js_signature<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=53']}>, args:()
2016:10:07 09:39:00 21138 139673987737344 [INFO wrapper 75] >>>activities_sign<<< [119.129.112.192] POST:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'name': [u'Kavin.XPL'], u'gender': [u'male'], u'age': [u'1'], u'phone': [u'15099994152'], u'actid': [u'53']}>, GET:<QueryDict: {}>, args:()
2016:10:07 09:39:00 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数city不能为空.
2016:10:07 09:39:00 21138 139673987737344 [INFO db_exec 86] [sql_r] select position_details from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 09:39:00 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数kids_name不能为空.
2016:10:07 09:39:00 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数birthdate不能为空.
2016:10:07 09:39:00 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数images不能为空.
2016:10:07 09:39:00 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数identity_card不能为空.
2016:10:07 09:39:00 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数program不能为空.
2016:10:07 09:39:00 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数company不能为空.
2016:10:07 09:39:00 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数teacher不能为空.
2016:10:07 09:39:00 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数teacher_phone不能为空.
2016:10:07 09:39:00 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数match_class不能为空.
2016:10:07 09:39:00 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数major不能为空.
2016:10:07 09:39:00 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数awards不能为空.
2016:10:07 09:39:00 21138 139673987737344 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=53;, count:1, time:0.001.
2016:10:07 09:39:00 21138 139673987737344 [INFO db_exec 86] [sql_r] select quantities_remain,img_qrcode from 6s_activity where id=53 and status=1;, count:1, time:0.000.
2016:10:07 09:39:00 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 09:39:00 21138 139673987737344 [INFO db_exec 86] [sql_r] select id,wechat from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and status=1;, count:1, time:0.000.
2016:10:07 09:39:00 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_signup where user_id=1114 and act_id=53 and status=1;, count:0, time:0.000.
2016:10:07 09:39:00 21138 139673987737344 [INFO db_exec 84] [sql_w] insert into 6s_signup(user_id,act_id,username_pa,age_ch,phone,gender,createtime,city,name_ch,birthdate,img,identity,program_name,organization,teacher,teacher_phone,part_group,part_profession,win_experience) values(1114,53,'Kavin.XPL',1,'15099994152','male',now(),'广州市','','','','','','','','','','','');, count:1, time:0.016.
2016:10:07 09:39:00 21138 139673987737344 [INFO db_exec 84] [sql_w] update 6s_activity set quantities_remain=quantities_remain-1 where id=53;, count:1, time:0.017.
2016:10:07 09:39:02 21138 139673987737344 [INFO wrapper 75] >>>activities_getsignupstatus<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 09:39:02 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=53 and a.status=1 and b.status=1;, count:1, time:0.001.
2016:10:07 09:39:02 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=53 and status=1;, count:0, time:0.000.
2016:10:07 09:39:03 21138 139673987737344 [INFO wrapper 75] >>>get_wx_payinfo<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'price': [u'160'], u'actid': [u'53']}>, args:()
2016:10:07 09:39:03 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.title,a.price_child,b.price_child from 6s_activity a left join 6s_preinfo b on a.preinfo_id=b.id where a.id=53;, count:1, time:0.001.
2016:10:07 09:39:04 21138 139673987737344 [INFO get_wx_payinfo 1465] wxpay: trade_no:1475804343, openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, ret:{'trade_type': 'JSAPI', 'prepay_id': 'wx20161007093904b6695339ae0491270185', 'nonce_str': 'SnVwJbqTBspkkyNL', 'return_code': 'SUCCESS', 'return_msg': 'OK', 'sign': '379FF76293A4471693F6BCAC32A869E9', 'mch_id': '1395115702', 'appid': 'wxe6d40d1e6b8d010e', 'result_code': 'SUCCESS'}
2016:10:07 09:39:04 21138 139673987737344 [INFO db_exec 84] [sql_w] insert into 6s_prepay_info(act_id,out_trade_no,body,total_fee,trade_type,openid,prepay_id) values ('53','1475804343','Secondlife周末休闲画吧','1','JSAPI','oYgYJwUkw7GldFuggLCD-N1BVrJ4','wx20161007093904b6695339ae0491270185'), count:1, time:0.015.
2016:10:07 09:39:04 21138 139673987737344 [ERROR get_wx_payinfo 1479] save prepay_info OK. oYgYJwUkw7GldFuggLCD-N1BVrJ4
2016:10:07 09:39:22 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'2103587103'], u'timestamp': [u'1475804362'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'ec6dc18d3dc968343e43b9c0187f8e85cc10d728']}>, args:()
2016:10:07 09:39:22 21138 139673987737344 [INFO default_process 1189] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 09:39:23 21138 139673987737344 [INFO wrapper 75] >>>get_hot_activities<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 09:39:23 21138 139673987737344 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 09:39:23 21138 139673987737344 [INFO wrapper 75] >>>get_wx_acttypes<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 09:39:23 21138 139673987737344 [INFO wrapper 75] >>>get_openid<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'011sAcVS1GMPGT0w4pWS1yx9VS1sAcVs']}>, args:()
2016:10:07 09:39:23 21138 139673987737344 [INFO get_openid 1284] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: RH9kNrOcCCJpN-_K2AehvIq9xl6qYCJ9yxTrYM6F6t8_m7ElL3__Gs-T-tIqDD1XyuFZvTw1DZgPgGWuqRgdx8ofN0E38rXeZ7HM31GYjCc 7200
2016:10:07 09:39:23 21138 139673987737344 [INFO get_openid 1286] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: a2q5A6twO1YqlIBDlgb9736H1l1xfmsgaFD0tPkRBpkbQsJ3p2tTyRO_o6m_nQBw2A0tZI9umDihYICz6QyP-ox775FUGqlPH9nEZkFMQao 8640000
2016:10:07 09:39:24 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 09:39:24 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 09:39:24 21138 139673987737344 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 09:39:24 21138 139673987737344 [INFO get_openid 1330] return openid. 011sAcVS1GMPGT0w4pWS1yx9VS1sAcVs -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 09:39:24 21138 139673987737344 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 09:39:24 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 09:39:24 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 09:39:24 21138 139673987737344 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 09:39:24 21138 139673987737344 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 09:39:24 21138 139673987737344 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 09:39:28 21138 139673987737344 [INFO wrapper 75] >>>activities_details<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 09:39:28 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=53;, count:1, time:0.001.
2016:10:07 09:39:28 21138 139673987737344 [INFO wrapper 75] >>>activities_getsignupstatus<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 09:39:28 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=53 and a.status=1 and b.status=1;, count:1, time:0.001.
2016:10:07 09:39:28 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=53 and status=1;, count:0, time:0.000.
2016:10:07 09:39:28 21138 139673987737344 [INFO wrapper 75] >>>get_js_signature<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=53']}>, args:()
2016:10:07 09:55:14 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [120.198.202.48] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 09:55:15 21138 139673987737344 [INFO wrapper 75] >>>get_hot_activities<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 09:55:15 21138 139673987737344 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 09:55:15 21138 139673987737344 [INFO wrapper 75] >>>get_wx_acttypes<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 09:55:15 21138 139673987737344 [INFO wrapper 75] >>>get_openid<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'001BgL702aPpA41ITMa02WLM702BgL7A']}>, args:()
2016:10:07 09:55:15 21138 139673987737344 [INFO get_openid 1284] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: q7FisnEpDTXnUMZSMya6QfTNTzOwOn_t4te8la5Z5eN37s_RhlOlgQoLueUsDdHsuGQ3Ti8eSBgXIeW_PiUc-PgLSeCzMwTgA4t_3-uAmqM 7200
2016:10:07 09:55:15 21138 139673987737344 [INFO get_openid 1286] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: QnvJ7sQVnflSBNhSNJbbrTZep2DzKqvxDc2dGS26C5KSubQG6w2kCNb5-wpC8MXTEFm0mu18xzq_2evbkgENP9mSeIYC_ecMfZJ-tilJFB0 8640000
2016:10:07 09:55:15 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 09:55:15 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 09:55:15 21138 139673987737344 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 09:55:15 21138 139673987737344 [INFO get_openid 1330] return openid. 001BgL702aPpA41ITMa02WLM702BgL7A -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 09:55:16 21138 139673987737344 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 09:55:16 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 09:55:16 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 09:55:16 21138 139673987737344 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 09:55:16 21138 139673987737344 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.006.
2016:10:07 09:55:16 21138 139673987737344 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 09:55:18 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [58.247.206.150] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'961956361'], u'timestamp': [u'1475805318'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'667b9402f43b428039ba01d9e9ed13e7da805546']}>, args:()
2016:10:07 09:55:18 21138 139673987737344 [INFO default_process 1189] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 09:55:18 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 09:55:18 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 09:55:18 21138 139673987737344 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 09:55:18 21138 139673987737344 [WARNING save_pos_wx 901] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 10:07:43 21138 139673904994048 [INFO _update_base_access_token 981] [TOKEN] update base_access_token: IhbjP2OgYdueegMSKq9nSyPRLfS53LdcLLOInbhxr91xy50ahiNke0d29oajo91fs4X-Vqli8MQ6klvr5ckgL9UBlfT3m5kzN5O5pJZxgb1Qh5RqsoSbE5Yf2ulOzfMoKMLcACAQSR
2016:10:07 10:18:04 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:IrKFBa4YxwmRg6gI9fGuGEsbO6QqxNnoLUIhqUFwc1eAutwvu3WC4q1FiuHBcN6ZmAEWQFyxs_qeQw5zLnsQUGGA3PbSb-tvU9yntlAMzFo
2016:10:07 10:18:04 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:JoXb8zJ3hDxRfGlTewDI9bryhNgK29Kktm8YxeOlmstxfhODirwk6JWtoyalup8zHpI0Ge3bEWvlS1Gg9pauc1IJvRdZ48T3vjjdO7dOAeQ
2016:10:07 10:20:53 21138 139673904994048 [INFO _update_js_signature 1029] [TOKEN] update js_signature:kgt8ON7yVITDhtdwci0qedWxJyz1VVx-TqXRisJtz8c-sQEdWoaOqMNic1oQKR9YxUr98YhmGABA8N1ABYmtCg 7200
2016:10:07 10:31:12 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:U2m687Fyeuqz6rfSSLjViKJidNkXSBL70dOQZ-nID32FfFJxx75JGXhem4gtzpg8wu2bbhvz7V-9hqlrFPUaTDh6pWBBu6fo8SbZN1LJxco
2016:10:07 10:31:12 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:wNBAM1R5pLJl8rSFVoRAKf5ZrH0gjxyb4R6GXImqna6vuw0xL5ockbOYIr7uvclKlyelnRxYlTjopxcC8dhcMbnJZCnl8K3WBdsoVxBmup8
2016:10:07 10:32:09 21138 139673904994048 [INFO _update_web_access_token 1008] [TOKEN] update web_ access_token:ertqKlhRmE9ef5rS_MaTFJSh9lAsCRohh3v9BCNCT4z-YOO6-UxNj6UGWiF0mkrAUI7JVYSEuyP6A_Vm5RE_9OdIZIJBj-fnrIWD9nniEkw
2016:10:07 10:32:09 21138 139673904994048 [INFO _update_web_access_token 1010] [TOKEN] upload web_ refresh_token:wk8PDgObq-EbXvdryeXKb88uEYNwKW1LYPONKK6GkK8k53jPodFJoWX39B8NpQuEZgpWa_9AuGe7f8XR121C0Nj1iC_DQcy35MbfQbWaaPY
2016:10:07 10:33:10 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1952349119'], u'timestamp': [u'1475807590'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'68816076b30e6b5de276cc164149c9d0a2089b04']}>, args:()
2016:10:07 10:33:10 21138 139673987737344 [INFO default_process 1189] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 10:33:10 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 10:33:10 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 10:33:10 21138 139673987737344 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 10:33:10 21138 139673987737344 [WARNING save_pos_wx 901] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 10:33:10 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1314435414'], u'timestamp': [u'1475807590'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'315a51bc35328b081dfd4c7ac4960380eae317f6']}>, args:()
2016:10:07 10:33:10 21138 139673987737344 [INFO default_process 1189] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 10:33:15 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [163.177.93.224] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 10:33:15 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [183.232.90.36] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 10:33:16 21138 139673987737344 [INFO wrapper 75] >>>get_hot_activities<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 10:33:16 21138 139673987737344 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 10:33:16 21138 139673987737344 [INFO wrapper 75] >>>get_wx_acttypes<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 10:33:16 21138 139673987737344 [INFO wrapper 75] >>>get_openid<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'001gNyVk1uVUbz0Lo0Wk1nQAVk1gNyVw']}>, args:()
2016:10:07 10:33:16 21138 139673987737344 [INFO get_openid 1284] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: shUfYl0RzBlgC0bgRr5ddF5fHBmoLMdX3EQIjT6UhvkOQrspZwC84aOfY8Cf8A-GvrfLJ-ob1RaWY_D9VnaPiPsYlQ_wlAnBgVQY-tgR_1I 7200
2016:10:07 10:33:16 21138 139673987737344 [INFO get_openid 1286] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: shUfYl0RzBlgC0bgRr5ddL3m9Ehc75u3q6iggdL0NAOZgq0SVMQxqwsWqg41hW6B1zYQc5OwofY2Dl8xm1VwsfymKzGV4z82VooeItDN4HM 8640000
2016:10:07 10:33:16 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 10:33:16 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 10:33:16 21138 139673987737344 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 10:33:16 21138 139673987737344 [INFO get_openid 1330] return openid. 001gNyVk1uVUbz0Lo0Wk1nQAVk1gNyVw -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 10:33:16 21138 139673987737344 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 10:33:16 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 10:33:16 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 10:33:16 21138 139673987737344 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 10:33:16 21138 139673987737344 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.004.
2016:10:07 10:33:16 21138 139673987737344 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 10:33:19 21138 139673987737344 [INFO wrapper 75] >>>activities_details<<< [119.129.114.11] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 10:33:19 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 10:33:19 21138 139673987737344 [INFO wrapper 75] >>>activities_getsignupstatus<<< [119.129.114.11] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 10:33:19 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 10:33:19 21138 139673987737344 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 10:33:19 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 10:33:19 21138 139673987737344 [INFO wrapper 75] >>>get_js_signature<<< [119.129.114.11] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 10:33:21 21138 139673987737344 [INFO wrapper 75] >>>activities_getprofile<<< [119.129.114.11] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 10:33:21 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 10:33:21 21138 139673987737344 [INFO wrapper 75] >>>get_uploadtoken<<< [119.129.114.11] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475807600382.jpg']}>, args:()
2016:10:07 10:33:21 21138 139673987737344 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475807600382.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:TB5E2qMhq-FOUOlsqZM0wSEaxkU=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODA3NjAwMzgyLmpwZyIsImRlYWRsaW5lIjoxNDc1ODExMjAxfQ== 
2016:10:07 10:35:30 21138 139673987737344 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'2041107130'], u'timestamp': [u'1475807730'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'9f2e65f40873053b9034b723366ecb65da2fbaae']}>, args:()
2016:10:07 10:35:30 21138 139673987737344 [INFO default_process 1189] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:511
2016:10:07 10:35:39 21138 139673987737344 [INFO wrapper 75] >>>get_wx_acttypes<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 10:35:39 21138 139673987737344 [INFO wrapper 75] >>>get_hot_activities<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 10:35:39 21138 139673987737344 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 10:35:39 21138 139673987737344 [INFO wrapper 75] >>>get_openid<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'021S8y2j2kJ0KL0B4h3j22my2j2S8y2H']}>, args:()
2016:10:07 10:35:39 21138 139673987737344 [INFO get_openid 1284] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: 2vNkyu-zzHuAycjx6ZQMzMVxEKqtUxO7djdE1xvlj6SKshnPUfG6hhmmJBBOUaDurb-PAXErEjiBRMNadBGB5O1auKX6MsdZlt4d8kxcdoU 7200
2016:10:07 10:35:39 21138 139673987737344 [INFO get_openid 1286] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: QCsUEpgVkA5-OUjr2qEOj4Z2iPrH7r_gnvMxIDhbRa4QXvm3MWiwMoovLYSDttosZ__AOh-52e8br3nKjPUGxhudVY0G3uFXO3_QdSwb8Sc 8640000
2016:10:07 10:35:39 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 10:35:39 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 10:35:39 21138 139673987737344 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 10:35:39 21138 139673987737344 [INFO get_openid 1330] return openid. 021S8y2j2kJ0KL0B4h3j22my2j2S8y2H -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 10:35:39 21138 139673987737344 [INFO wrapper 75] >>>activities_special_offers<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 10:35:39 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 10:35:39 21138 139673987737344 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 10:35:39 21138 139673987737344 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 10:35:39 21138 139673987737344 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 10:35:39 21138 139673987737344 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 10:35:50 21138 139673987737344 [INFO wrapper 75] >>>activities_getsignupstatus<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'73']}>, args:()
2016:10:07 10:35:50 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=73 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 10:35:50 21138 139673987737344 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=73;, count:1, time:0.000.
2016:10:07 10:35:50 21138 139673987737344 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=73 and status=1;, count:0, time:0.000.
2016:10:07 10:35:50 21138 139673987737344 [INFO wrapper 75] >>>activities_details<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'73']}>, args:()
2016:10:07 10:35:50 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=73;, count:1, time:0.001.
2016:10:07 10:35:52 21138 139673987737344 [INFO wrapper 75] >>>activities_getprofile<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 10:35:52 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 10:36:00 21138 139673987737344 [INFO wrapper 75] >>>activities_details<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'73']}>, args:()
2016:10:07 10:36:00 21138 139673987737344 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=73;, count:1, time:0.001.
2016:10:07 10:36:01 21138 139673987737344 [INFO wrapper 75] >>>get_js_signature<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=73']}>, args:()
2016:10:07 10:38:08 22312 140295386658560 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 10:38:08 22312 140295386658560 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 10:38:08 22312 140295386658560 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 10:38:08 22312 140295386658560 [INFO _get_user_status_map 235] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 10:38:08 22312 140295386658560 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 10:38:08 22312 140295386658560 [INFO <module> 1071] [TOKEN] start new thread.
2016:10:07 10:38:08 22312 140295386658560 [INFO wrapper 75] >>>default_process<<< [115.28.122.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 10:40:01 22312 140295303915264 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:yA6zLX05U33VJfM5Fz8bBF6wOyYqHyPkYccSGsNhVHZb7GUNWW1ngYSa0G_v4h599BuFSDrPFeroPSNxDvfHWlu6SYaaMior71wBcMsyung
2016:10:07 10:40:01 22312 140295303915264 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:RX1oXF51FxzuhPccr2l3NoWqVisw4l23NyS4uaTgOvcnFwENPdkZuu71hL3D1ogXaVoAEw3qmj0pcjX3FkDOXuH5wMXgcfpX4-vgCuwvEWM
2016:10:07 10:42:07 22322 140322487830272 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 10:42:07 22322 140322487830272 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 10:42:07 22322 140322487830272 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 10:42:07 22322 140322487830272 [INFO _get_user_status_map 235] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 10:42:07 22322 140322487830272 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 10:42:07 22322 140322487830272 [INFO <module> 1071] [TOKEN] start new thread.
2016:10:07 10:42:07 22322 140322487830272 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'449199709'], u'timestamp': [u'1475808127'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'aa18d1598f1b6012708b31227ebbd01d5d5c08ab']}>, args:()
2016:10:07 10:42:07 22322 140322487830272 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:508
2016:10:07 10:42:07 22322 140322487830272 [INFO wrapper 75] >>>get_openid<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'031pX5Sx09WFam1XU4Ux0GZ4Sx0pX5ST']}>, args:()
2016:10:07 10:42:07 22322 140322487830272 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: MqHnukAMU7Jr6MOQ1RzlixQsd0-g3a_Fiq3TU7uHOep1W3OTM05QASw25XeSpmV2bWYrQpyua-OgfoDTdm-Yo2l076snVED7p7rEj46vQrc 7200
2016:10:07 10:42:07 22322 140322487830272 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: pNWMeF9j12A22d1GegaciZ4DGO2GDrrblV6b3UXBvQVK1kPhNWlgSLSMnXgHwtJITne36Lz5faIKgsY3E7GI4dji0xjJxhkNPp9q4w_cATE 8640000
2016:10:07 10:42:07 22322 140322487830272 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 10:42:07 22322 140322487830272 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 10:42:07 22322 140322487830272 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 10:42:07 22322 140322487830272 [INFO get_openid 1331] return openid. 031pX5Sx09WFam1XU4Ux0GZ4Sx0pX5ST -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 10:42:08 22322 140322487830272 [INFO wrapper 75] >>>activities_getprofile<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 10:42:08 22322 140322487830272 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 10:42:10 22322 140322487830272 [INFO wrapper 75] >>>activities_my<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 10:42:10 22322 140322487830272 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:3, time:0.001.
2016:10:07 10:42:10 22322 140322487830272 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 10:42:15 22322 140322487830272 [INFO wrapper 75] >>>activities_reset<<< [182.111.92.222] POST:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signid': [u'100']}>, GET:<QueryDict: {}>, args:()
2016:10:07 10:42:15 22322 140322487830272 [INFO db_exec 84] [sql_w] update 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id set c.quantities_remain=c.quantities_remain+1, a.status=0 where a.id=100 and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:2, time:0.018.
2016:10:07 10:42:15 22322 140322487830272 [ERROR activities_reset 568] db fail.
2016:10:07 10:42:16 22322 140322487830272 [INFO wrapper 75] >>>activities_my<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 10:42:16 22322 140322487830272 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 10:42:16 22322 140322487830272 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 10:42:18 22322 140322487830272 [INFO wrapper 75] >>>activities_reset<<< [182.111.92.222] POST:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signid': [u'99']}>, GET:<QueryDict: {}>, args:()
2016:10:07 10:42:18 22322 140322487830272 [INFO db_exec 84] [sql_w] update 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id set c.quantities_remain=c.quantities_remain+1, a.status=0 where a.id=99 and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:2, time:0.013.
2016:10:07 10:42:18 22322 140322487830272 [ERROR activities_reset 568] db fail.
2016:10:07 10:42:18 22322 140322487830272 [INFO wrapper 75] >>>activities_my<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 10:42:18 22322 140322487830272 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 10:42:18 22322 140322487830272 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 10:42:20 22322 140322487830272 [INFO wrapper 75] >>>activities_reset<<< [182.111.92.222] POST:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signid': [u'101']}>, GET:<QueryDict: {}>, args:()
2016:10:07 10:42:20 22322 140322487830272 [INFO db_exec 84] [sql_w] update 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id set c.quantities_remain=c.quantities_remain+1, a.status=0 where a.id=101 and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:2, time:0.022.
2016:10:07 10:42:20 22322 140322487830272 [ERROR activities_reset 568] db fail.
2016:10:07 10:42:20 22322 140322487830272 [INFO wrapper 75] >>>activities_my<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 10:42:20 22322 140322487830272 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 10:42:20 22322 140322487830272 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 10:42:24 22322 140322487830272 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1933589422'], u'timestamp': [u'1475808144'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'58e98fc79d9c88b49534a54fc4ba1fd65b05621d']}>, args:()
2016:10:07 10:42:24 22322 140322487830272 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:511
2016:10:07 10:42:24 22322 140322487830272 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1425813328'], u'timestamp': [u'1475808144'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'4a1fd518725b421df9f56a59460321c72b0496de']}>, args:()
2016:10:07 10:42:24 22322 140322487830272 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:341
2016:10:07 10:42:25 22322 140322487830272 [INFO db_exec 86] [sql_r] select id from 6s_position where name='万载县';, count:0, time:0.001.
2016:10:07 10:42:25 22322 140322487830272 [ERROR save_pos_wx 893] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw city:宜春市 area:万载县 cannot be found.
2016:10:07 10:42:25 22322 140322487830272 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 10:42:25 22322 140322487830272 [INFO db_exec 84] [sql_w] update 6s_user set position_id=0,position_details='宜春市 万载县 环城北路' where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 10:42:25 22322 140322487830272 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw 0
2016:10:07 10:42:25 22322 140322487830272 [INFO wrapper 75] >>>get_wx_acttypes<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 10:42:25 22322 140322487830272 [INFO wrapper 75] >>>get_hot_activities<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 10:42:25 22322 140322487830272 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 10:42:25 22322 140322487830272 [INFO wrapper 75] >>>get_openid<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'021yIG4k1sBE2A0BNx2k1JkH4k1yIG4a']}>, args:()
2016:10:07 10:42:25 22322 140322487830272 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: i5SwDeFFaeyJlbOk_nc_8orhFy4465ulCOLtlxgp6uJTYcrhecdO0g56tpVQKi21t2NgewgeX_I-x8bVA5cd484yzjiaJq7SKdiUhHKNwaY 7200
2016:10:07 10:42:25 22322 140322487830272 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: YJhZ_BIadsl83XmLTo9rFGzlFe0wPJ4-yx9MlUnpKTJU4Zccbtj-B2z7JKNrJD5uYnieAmKS09nngevDEMvx1ZUY-U6n36O2MdbdPFMqlEA 8640000
2016:10:07 10:42:26 22322 140322487830272 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 10:42:26 22322 140322487830272 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 10:42:26 22322 140322487830272 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 10:42:26 22322 140322487830272 [INFO get_openid 1331] return openid. 021yIG4k1sBE2A0BNx2k1JkH4k1yIG4a -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 10:42:26 22322 140322487830272 [INFO wrapper 75] >>>activities_special_offers<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 10:42:26 22322 140322487830272 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 10:42:26 22322 140322487830272 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 10:42:26 22322 140322487830272 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 10:42:26 22322 140322487830272 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 10:42:26 22322 140322487830272 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 10:42:30 22322 140322487830272 [INFO wrapper 75] >>>activities_details<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 10:42:30 22322 140322487830272 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 10:42:30 22322 140322487830272 [INFO wrapper 75] >>>activities_getsignupstatus<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 10:42:30 22322 140322487830272 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 10:42:30 22322 140322487830272 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 10:42:30 22322 140322487830272 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=90 and status=1;, count:1, time:0.000.
2016:10:07 10:42:40 22322 140322487830272 [INFO wrapper 75] >>>activities_details<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 10:42:40 22322 140322487830272 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 10:42:41 22322 140322487830272 [INFO wrapper 75] >>>get_js_signature<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 10:42:47 22322 140322487830272 [INFO wrapper 75] >>>activities_getprofile<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 10:42:47 22322 140322487830272 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 10:42:47 22322 140322487830272 [INFO wrapper 75] >>>get_uploadtoken<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475808165074.jpg']}>, args:()
2016:10:07 10:42:47 22322 140322487830272 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475808165074.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:BnldtwzcmiQaqRuU9j9FjBzKuhs=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODA4MTY1MDc0LmpwZyIsImRlYWRsaW5lIjoxNDc1ODExNzY3fQ== 
2016:10:07 10:42:50 22322 140322487830272 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 10:42:50 22322 140322487830272 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 10:42:50 22322 140322487830272 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 10:42:50 22322 140322487830272 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 10:42:50 22322 140322487830272 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 10:42:50 22322 140322487830272 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 10:42:58 22322 140322487830272 [INFO wrapper 75] >>>default_process<<< [58.247.206.155] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1125945722'], u'timestamp': [u'1475808178'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'b504ca48a82328cd5091ef0978608ee36a8fe657']}>, args:()
2016:10:07 10:42:58 22322 140322487830272 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 10:42:58 22322 140322487830272 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 10:42:58 22322 140322487830272 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 10:42:58 22322 140322487830272 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 10:42:58 22322 140322487830272 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 10:44:12 22322 140322487830272 [INFO wrapper 75] >>>activities_sign<<< [182.111.92.222] POST:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'major': [u'\u58f0\u4e50'], u'name': [u'\u7fd4\u5b87'], u'identity_card': [u'123456789123456789'], u'gender': [u'male'], u'age': [u'1'], u'teacher': [u'\u9f99\u8001\u5e08'], u'phone': [u'13926010718'], u'program': [u'369'], u'company_tel': [u'020369'], u'kids_name': [u'\u8bd5\u8bd5'], u'teacher_phone': [u'13912345678'], u'images': [u''], u'awards': [u''], u'company': [u'369'], u'actid': [u'90'], u'match_class': [u'\u5e7c\u513f\u7ec4\uff08\u5b66\u9f84\u524d\uff09']}>, GET:<QueryDict: {}>, args:()
2016:10:07 10:44:12 22322 140322487830272 [ERROR _check_mysql_arg_json 160] 参数city不能为空.
2016:10:07 10:44:12 22322 140322487830272 [INFO db_exec 86] [sql_r] select position_details from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 10:44:12 22322 140322487830272 [ERROR _check_mysql_arg_json 160] 参数birthdate不能为空.
2016:10:07 10:44:12 22322 140322487830272 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 10:44:12 22322 140322487830272 [INFO db_exec 86] [sql_r] select quantities_remain,img_qrcode from 6s_activity where id=90 and status=1;, count:1, time:0.000.
2016:10:07 10:44:12 22322 140322487830272 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 10:44:12 22322 140322487830272 [INFO db_exec 86] [sql_r] select id,wechat from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and status=1;, count:1, time:0.000.
2016:10:07 10:44:12 22322 140322487830272 [INFO db_exec 86] [sql_r] select id from 6s_signup where user_id=1115 and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 10:44:12 22322 140322487830272 [ERROR db_exec 67] [sql error] retry.0, (<class '_mysql_exceptions.OperationalError'>, OperationalError(1054, "Unknown column 'company_tel' in 'field list'"), <traceback object at 0x37b8d40>), Traceback (most recent call last):
  File "./skills/dbmgr.py", line 62, in db_exec
    count=_cur.execute(_sql)
  File "/usr/local/lib/python2.7/dist-packages/MySQLdb/cursors.py", line 205, in execute
    self.errorhandler(self, exc, value)
  File "/usr/local/lib/python2.7/dist-packages/MySQLdb/connections.py", line 36, in defaulterrorhandler
    raise errorclass, errorvalue
OperationalError: (1054, "Unknown column 'company_tel' in 'field list'")
. [insert into 6s_signup(user_id,act_id,username_pa,age_ch,phone,gender,createtime,city,username_ch,birthdate,img,identity,program_name,organization,teacher,teacher_phone,part_group,part_profession,win_experience,company_tel) values(1115,90,'翔宇',1,'13926010718','male',now(),'宜春市','试试','','','123456789123456789','369','369','龙老师','13912345678','幼儿组（学龄前）','声乐','','020369');]
2016:10:07 10:44:12 22322 140322487830272 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 10:44:12 22322 140322487830272 [ERROR db_exec 67] [sql error] retry.1, (<class '_mysql_exceptions.OperationalError'>, OperationalError(1054, "Unknown column 'company_tel' in 'field list'"), <traceback object at 0x37dce60>), Traceback (most recent call last):
  File "./skills/dbmgr.py", line 62, in db_exec
    count=_cur.execute(_sql)
  File "/usr/local/lib/python2.7/dist-packages/MySQLdb/cursors.py", line 205, in execute
    self.errorhandler(self, exc, value)
  File "/usr/local/lib/python2.7/dist-packages/MySQLdb/connections.py", line 36, in defaulterrorhandler
    raise errorclass, errorvalue
OperationalError: (1054, "Unknown column 'company_tel' in 'field list'")
. [insert into 6s_signup(user_id,act_id,username_pa,age_ch,phone,gender,createtime,city,username_ch,birthdate,img,identity,program_name,organization,teacher,teacher_phone,part_group,part_profession,win_experience,company_tel) values(1115,90,'翔宇',1,'13926010718','male',now(),'宜春市','试试','','','123456789123456789','369','369','龙老师','13912345678','幼儿组（学龄前）','声乐','','020369');]
2016:10:07 10:44:12 22322 140322487830272 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 10:44:12 22322 140322487830272 [INFO db_exec 84] [sql_w] insert into 6s_signup(user_id,act_id,username_pa,age_ch,phone,gender,createtime,city,username_ch,birthdate,img,identity,program_name,organization,teacher,teacher_phone,part_group,part_profession,win_experience,company_tel) values(1115,90,'翔宇',1,'13926010718','male',now(),'宜春市','试试','','','123456789123456789','369','369','龙老师','13912345678','幼儿组（学龄前）','声乐','','020369');, count:-1, time:0.004.
2016:10:07 10:44:12 22322 140322487830272 [ERROR activities_sign 478] 报名失败. actid:90,uid:1115. 
2016:10:07 10:46:46 22358 140139179955968 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 10:46:46 22358 140139179955968 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 10:46:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 10:46:46 22358 140139179955968 [INFO _get_user_status_map 235] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 10:46:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 10:46:46 22358 140139179955968 [INFO <module> 1071] [TOKEN] start new thread.
2016:10:07 10:46:46 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [182.111.92.222] POST:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'major': [u'\u58f0\u4e50'], u'name': [u'\u7fd4\u5b87'], u'identity_card': [u'123456789123456789'], u'gender': [u'male'], u'age': [u'1'], u'teacher': [u'\u9f99\u8001\u5e08'], u'phone': [u'13926010718'], u'program': [u'369'], u'company_tel': [u'020369'], u'kids_name': [u'\u8bd5\u8bd5'], u'teacher_phone': [u'13912345678'], u'images': [u''], u'awards': [u''], u'company': [u'369'], u'actid': [u'90'], u'match_class': [u'\u5e7c\u513f\u7ec4\uff08\u5b66\u9f84\u524d\uff09']}>, GET:<QueryDict: {}>, args:()
2016:10:07 10:46:46 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数city不能为空.
2016:10:07 10:46:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_details from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 10:46:46 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数birthdate不能为空.
2016:10:07 10:46:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 10:46:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select quantities_remain,img_qrcode from 6s_activity where id=90 and status=1;, count:1, time:0.000.
2016:10:07 10:46:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 10:46:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select id,wechat from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and status=1;, count:1, time:0.000.
2016:10:07 10:46:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_signup where user_id=1115 and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 10:46:46 22358 140139179955968 [INFO db_exec 84] [sql_w] insert into 6s_signup(user_id,act_id,username_pa,age_ch,phone,gender,createtime,city,username_ch,birthdate,img,identity,program_name,organization,teacher,teacher_phone,part_group,part_profession,win_experience,company_phone) values(1115,90,'翔宇',1,'13926010718','male',now(),'宜春市','试试','','','123456789123456789','369','369','龙老师','13912345678','幼儿组（学龄前）','声乐','','020369');, count:1, time:0.021.
2016:10:07 10:46:46 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_activity set quantities_remain=quantities_remain-1 where id=90;, count:1, time:0.021.
2016:10:07 10:46:49 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 10:46:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=90 and a.status=1 and b.status=1;, count:3, time:0.001.
2016:10:07 10:46:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 10:46:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=90 and status=1;, count:1, time:0.000.
2016:10:07 10:47:43 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:CIrkZ8PMmITAkRvnBpz2FJ0I88lsZX8Y_EbNt72kDtrxr2mW9Lg8h0o1Vojj-whrD2K4FBaT-Gw6nIIpoHQGN-vJ0B1l0Ne0xxKjFT17RX0
2016:10:07 10:47:43 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:Z8N9ak3Gzmb94O6w7trk6KO3l2RGNI8EWOazg30bEEqkQ_1v1KyvskbzBg4QZ44xYWEPcnnRfUY-678qnfSAozcmmdfIiPgK76hQeaejrPM
2016:10:07 10:48:03 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'796232078'], u'timestamp': [u'1475808483'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'31c48a11685c364dff21be26eddef01c1e45b5eb']}>, args:()
2016:10:07 10:48:03 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:341
2016:10:07 10:48:03 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='万载县';, count:0, time:0.001.
2016:10:07 10:48:03 22358 140139179955968 [ERROR save_pos_wx 893] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw city:宜春市 area:万载县 cannot be found.
2016:10:07 10:48:03 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 10:48:03 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=0,position_details='宜春市 万载县 环城北路' where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 10:48:03 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw 0
2016:10:07 10:51:29 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:ArrdENXQGILD0FzTenzNIVMAyjNg8Cx9YiNDVi0SIbZA6tgbWJHpVrvnzPBLyFVzMjQvLHW4orSurygxpGmbqUvJp9w3BWHP7FQJAHp-r08
2016:10:07 10:51:29 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:ZH3X8Dvtyi9QV7ttWmbLzE3rJHjqW70sAZyR70N4cW6DtjDvag1FetUfWSbOu7iUZua_AXgCmJ6yuOEtPy4_qOM0o8c_y-lUvpjoxnqevrE
2016:10:07 10:54:13 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [114.215.239.201] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 10:56:10 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:x72vYiwKiJdLbUstjgKvIsEIrYLQCP5I9GsTz8dUWOsvBAsiAbmRG-C13txys2t3uYn2uRgFJQj005_CBLbuJxahwUTBNR1SPpF5nSBeb60
2016:10:07 10:56:10 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:1DQqBwPrkv_fiQJkeDLs0ooS6f4l4cO6LjGWx-kqGJ4KGjAY4TQiWj6Y6DCRWSXbV6di5BPlK0T4-_qy3TQ7Yv2_lJfB43WYqkSM9QHxZj8
2016:10:07 11:12:09 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:FbJ7zu5eqUKMLX2OwN5Dy4blAPG0aOf5YsEhQVmGfgxk8CJXVep9_9gxteajcnmtyr6RX7FLYsvEMAUhTdAufTXtqiSMtpMGY6HO1ihbz68
2016:10:07 11:12:09 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:5VTXVP7NHWeIrsbBDRVyLd6vcirhv3sWi8CLoTm-e89cWmzqgidOgHETXpH3eMVaHxK8nU5iM7wym7jU5_yGwY7fKDbk0Zyq-al8kKubPXc
2016:10:07 11:16:28 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.156] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1965462936'], u'timestamp': [u'1475810188'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'2bda03985215385f12a6cefae4af030d2cda6361']}>, args:()
2016:10:07 11:16:28 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 11:16:28 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.151] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'150284558'], u'timestamp': [u'1475810188'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'7b78184dea9c45d827374a752965773cbe588d9e']}>, args:()
2016:10:07 11:16:28 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 11:16:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 11:16:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 11:16:28 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 11:16:28 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 11:16:33 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [163.177.69.59] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 11:16:33 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [14.17.37.68] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 11:16:35 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 11:16:35 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 11:16:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 11:16:35 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'021uXQLt0F6zlq1zGJMt04jQLt0uXQLH']}>, args:()
2016:10:07 11:16:35 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: W8GVt4RXmsWf-wkrR6rA484fXYEqDxnJrUWaCIZPXIczBu-mLhEm4gR4hzzMGxMUmiuaL0R6x5FjYLWbyB8qeKSvWdb3_vOws-04uQf6-ms 7200
2016:10:07 11:16:35 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: T6dcbGUv1skb1y07haUp83MRNES9eJyXczcgOg1zlO99dMqgIQhFa5lbP7dtj-fRIealODjSRVoaxn6XhiNaUmFTyULSMbYWAh2nZeKlbtE 8640000
2016:10:07 11:16:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 11:16:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 11:16:35 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 11:16:35 22358 140139179955968 [INFO get_openid 1331] return openid. 021uXQLt0F6zlq1zGJMt04jQLt0uXQLH -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 11:16:35 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 11:16:35 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 11:16:35 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 11:16:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 11:16:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 11:16:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 11:16:50 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 11:16:50 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 11:16:50 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 11:16:50 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 11:16:50 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 11:16:50 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 11:16:50 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 11:17:00 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 11:17:00 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 11:17:01 22358 140139179955968 [INFO wrapper 75] >>>get_uploadtoken<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475810220797.jpg']}>, args:()
2016:10:07 11:17:01 22358 140139179955968 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475810220797.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:8_yn3vsprFVRBQIXf25oVM8FXio=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODEwMjIwNzk3LmpwZyIsImRlYWRsaW5lIjoxNDc1ODEzODIxfQ== 
2016:10:07 11:20:36 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:G6_rOddmEkzTBfD1rYGBChiz72-DPKcZ1Kl_NLJ2Wqx4DZhDCAzG2VDw3huHBnPrg3F8rcd7GSN27_hm3sdmEzBpUUkHTlmGXtIv1eAHJFw
2016:10:07 11:20:36 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:fl1GS1tWjZLQdK3e8RW5s1y3v3duKcZ7fnwXeuB57sgdFU1_18gAUSUyT3_4HR1hoIWVqzcaGBzSA-unZ7osb7AkJE4aHB-DowRnLAJC5us
2016:10:07 11:26:36 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 11:26:36 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 11:26:36 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 11:26:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 11:26:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.004.
2016:10:07 11:26:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 11:26:39 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 11:26:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 11:26:39 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 11:26:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 11:26:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 11:26:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 11:26:40 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.150] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1709025753'], u'timestamp': [u'1475810800'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'8a38fd3bda81a43ccfe476cf46131ff5f276e6a2']}>, args:()
2016:10:07 11:26:40 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 11:26:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 11:26:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 11:26:40 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 11:26:40 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 11:28:21 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1385955355'], u'timestamp': [u'1475810901'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'6a3d34694c22548c08c331aaefb22b37ad18c821']}>, args:()
2016:10:07 11:28:21 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 11:28:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 11:28:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 11:28:21 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 11:28:21 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 11:28:22 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.158] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1759977853'], u'timestamp': [u'1475810902'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'aa514c0b1e5649c9b106cca81d6b0cd04a666934']}>, args:()
2016:10:07 11:28:22 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 11:28:23 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 11:28:23 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 11:28:23 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 11:28:24 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'031BdoJj1Fsndi0f1AHj1VuqJj1BdoJ-']}>, args:()
2016:10:07 11:28:24 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: dl6tvoQHiyiSsC__zN9j4oSSFNigymPs4DEf7pt3U-eng6DXB_hU9iOeKGuyu7p22BCPbmHynIxjo-Wvu1z7zdd8BKV9SEdanCvnfzMmS2Q 7200
2016:10:07 11:28:24 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: j74dJ5aKXa-kHS5TYgvZnOS98BM1tWOVEdCjv2OMWrK_DaeonRDhsNDsEFLqEzHKceVc8wAyzt3X8wcul9sJMIy5uKMiZ4qBSgyFYQtU9Ng 8640000
2016:10:07 11:28:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 11:28:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 11:28:24 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 11:28:24 22358 140139179955968 [INFO get_openid 1331] return openid. 031BdoJj1Fsndi0f1AHj1VuqJj1BdoJ- -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 11:28:25 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 11:28:25 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 11:28:25 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 11:28:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 11:28:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 11:28:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 11:28:27 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 11:28:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 11:28:27 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 11:28:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 11:28:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 11:28:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 11:28:27 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 11:28:27 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 11:28:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 11:28:28 22358 140139179955968 [INFO wrapper 75] >>>get_uploadtoken<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475810907797.jpg']}>, args:()
2016:10:07 11:28:28 22358 140139179955968 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475810907797.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:hy3yqTguxMoiYj2ZBLRf_RENUgs=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODEwOTA3Nzk3LmpwZyIsImRlYWRsaW5lIjoxNDc1ODE0NTA4fQ== 
2016:10:07 12:01:32 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [115.28.122.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 12:02:54 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [14.17.37.72] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 12:02:55 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 12:02:55 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 12:02:55 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 12:02:55 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'031H8niS0k7Hpc2DV8mS0svmiS0H8niR']}>, args:()
2016:10:07 12:02:55 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: iH4ofZ_SmylzutmDjwc74QiFSe2R8TCWLPFnYiq3qF2tYWam2pYZzkRfOvq4ElmXBMd4LXmXnPLVPKKShnuECZF8qvOJd5N0tVWkB7lGBRI 7200
2016:10:07 12:02:55 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: hKWN-msMYimuYIMXtqN-YAld2l5aA4WStERBt58DomADTIF1YnxXiWZ3eLpJwoehxKXwofyU3NOX2pTRmwVbZVun8PdU3QPscyLawH4e7Qk 8640000
2016:10:07 12:02:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 12:02:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 12:02:56 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 12:02:56 22358 140139179955968 [INFO get_openid 1331] return openid. 031H8niS0k7Hpc2DV8mS0svmiS0H8niR -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 12:02:56 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 12:02:56 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 12:02:56 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 12:02:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 12:02:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.004.
2016:10:07 12:02:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 12:02:59 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1897989964'], u'timestamp': [u'1475812979'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'1cd82412f7098b7d536328435e673715b1f6e119']}>, args:()
2016:10:07 12:02:59 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 12:02:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 12:02:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 12:02:59 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 12:02:59 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 12:03:17 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.155] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'2101976406'], u'timestamp': [u'1475812997'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'12dd74789c571ed031e9a36c117a4db12194e3b7']}>, args:()
2016:10:07 12:03:17 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 12:03:18 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 12:03:18 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 12:03:18 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 12:03:18 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'011lZWEf2Ca33P0McKGf2og1Ff2lZWEZ']}>, args:()
2016:10:07 12:03:18 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: RgehK-eEJphcRfE0y0vJ7-XmEfUyClGWJtAxQ-mGWOG12884eAUa06qLcuuCBl7tLlv3FmoUgdHLAHscxm8zxdGZNr2xz8YupJp7JzV-zik 7200
2016:10:07 12:03:18 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: vYXiTKBK7N7pfTvfWsAreHEPQhWG3NF64N5POKoSYsVMyMW0855dRIGcBjcUshGGlMqTxPzumoR7Jj4wnkafU2v4BLPuaPXPi4vIVFimKrY 8640000
2016:10:07 12:03:18 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 12:03:18 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 12:03:18 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 12:03:18 22358 140139179955968 [INFO get_openid 1331] return openid. 011lZWEf2Ca33P0McKGf2og1Ff2lZWEZ -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 12:03:19 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 12:03:19 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 12:03:19 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 12:03:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 12:03:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 12:03:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 12:06:44 22358 140139097212672 [INFO _update_base_access_token 982] [TOKEN] update base_access_token: SBJPHevs3mxjXtONBspizlUX4dR0t-SM7rh0QTqVZksJKNIaPyxJXdu5R3a3u0eBulRrwax125BvXjsaL_b_R5TydNpL_ZJvaAE_kPd-R3GMmWnEM9dB4J96Bp-enm0fOGXiAAAZRI
2016:10:07 12:07:53 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [103.66.113.82] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 12:15:41 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 12:15:41 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 12:15:41 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 12:15:41 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'001kacav1NDSM601is7v1yBdav1kacap']}>, args:()
2016:10:07 12:15:41 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: 0WhGuIvVaUYIUkHwnHWNxQ7hsWpcYYyQlt69JXsYtHBRT0ZhZux1IMxgeBuj6V4JikxFG6_fFOw4X1VgQ_4zI2bfXcr6WvKCTUWuOeUZ8Ws 7200
2016:10:07 12:15:41 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: 8poXshzESnUlT8LvGR5z90L6X7MZoqO4eApLR65Kb9-IVTO4sf4Lnpr7VxhXNv5oKjcjaZcOTnJb6sZkLop0Y7P7o3b_ogNDQv8xI4Lfx-w 8640000
2016:10:07 12:15:41 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 12:15:41 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 12:15:41 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 12:15:41 22358 140139179955968 [INFO get_openid 1331] return openid. 001kacav1NDSM601is7v1yBdav1kacap -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 12:15:41 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 12:15:41 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 12:15:41 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 12:15:41 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 12:15:41 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 12:15:41 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 12:15:44 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'3590405'], u'timestamp': [u'1475813744'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'a0acbc4c68aebbdda76319e5dbe0570e9ce81711']}>, args:()
2016:10:07 12:15:44 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 12:15:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 12:15:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 12:15:45 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 12:15:45 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 12:17:16 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:IrKFBa4YxwmRg6gI9fGuGEsbO6QqxNnoLUIhqUFwc1eAutwvu3WC4q1FiuHBcN6ZmAEWQFyxs_qeQw5zLnsQUGGA3PbSb-tvU9yntlAMzFo
2016:10:07 12:17:16 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:JoXb8zJ3hDxRfGlTewDI9bryhNgK29Kktm8YxeOlmstxfhODirwk6JWtoyalup8zHpI0Ge3bEWvlS1Gg9pauc1IJvRdZ48T3vjjdO7dOAeQ
2016:10:07 12:20:06 22358 140139097212672 [INFO _update_js_signature 1030] [TOKEN] update js_signature:kgt8ON7yVITDhtdwci0qedWxJyz1VVx-TqXRisJtz8fCrkBnnhsZ33kQJRIKQWW0-V6OOSPuP6lKVA5sNx1_Dw 7200
2016:10:07 12:30:35 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:U2m687Fyeuqz6rfSSLjViKJidNkXSBL70dOQZ-nID32FfFJxx75JGXhem4gtzpg8wu2bbhvz7V-9hqlrFPUaTDh6pWBBu6fo8SbZN1LJxco
2016:10:07 12:30:35 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:wNBAM1R5pLJl8rSFVoRAKf5ZrH0gjxyb4R6GXImqna6vuw0xL5ockbOYIr7uvclKlyelnRxYlTjopxcC8dhcMbnJZCnl8K3WBdsoVxBmup8
2016:10:07 12:31:34 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:ertqKlhRmE9ef5rS_MaTFJSh9lAsCRohh3v9BCNCT4z-YOO6-UxNj6UGWiF0mkrAUI7JVYSEuyP6A_Vm5RE_9OdIZIJBj-fnrIWD9nniEkw
2016:10:07 12:31:34 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:wk8PDgObq-EbXvdryeXKb88uEYNwKW1LYPONKK6GkK8k53jPodFJoWX39B8NpQuEZgpWa_9AuGe7f8XR121C0Nj1iC_DQcy35MbfQbWaaPY
2016:10:07 12:34:32 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [42.199.131.31] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 12:39:17 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:yA6zLX05U33VJfM5Fz8bBF6wOyYqHyPkYccSGsNhVHZb7GUNWW1ngYSa0G_v4h599BuFSDrPFeroPSNxDvfHWlu6SYaaMior71wBcMsyung
2016:10:07 12:39:17 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:RX1oXF51FxzuhPccr2l3NoWqVisw4l23NyS4uaTgOvcnFwENPdkZuu71hL3D1ogXaVoAEw3qmj0pcjX3FkDOXuH5wMXgcfpX4-vgCuwvEWM
2016:10:07 12:42:09 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:i5SwDeFFaeyJlbOk_nc_8orhFy4465ulCOLtlxgp6uJTYcrhecdO0g56tpVQKi21t2NgewgeX_I-x8bVA5cd484yzjiaJq7SKdiUhHKNwaY
2016:10:07 12:42:09 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:YJhZ_BIadsl83XmLTo9rFGzlFe0wPJ4-yx9MlUnpKTJU4Zccbtj-B2z7JKNrJD5uYnieAmKS09nngevDEMvx1ZUY-U6n36O2MdbdPFMqlEA
2016:10:07 12:46:56 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:CIrkZ8PMmITAkRvnBpz2FJ0I88lsZX8Y_EbNt72kDtrxr2mW9Lg8h0o1Vojj-whrD2K4FBaT-Gw6nIIpoHQGN-vJ0B1l0Ne0xxKjFT17RX0
2016:10:07 12:46:56 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:Z8N9ak3Gzmb94O6w7trk6KO3l2RGNI8EWOazg30bEEqkQ_1v1KyvskbzBg4QZ44xYWEPcnnRfUY-678qnfSAozcmmdfIiPgK76hQeaejrPM
2016:10:07 12:50:42 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:ArrdENXQGILD0FzTenzNIVMAyjNg8Cx9YiNDVi0SIbZA6tgbWJHpVrvnzPBLyFVzMjQvLHW4orSurygxpGmbqUvJp9w3BWHP7FQJAHp-r08
2016:10:07 12:50:42 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:ZH3X8Dvtyi9QV7ttWmbLzE3rJHjqW70sAZyR70N4cW6DtjDvag1FetUfWSbOu7iUZua_AXgCmJ6yuOEtPy4_qOM0o8c_y-lUvpjoxnqevrE
2016:10:07 12:55:33 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:x72vYiwKiJdLbUstjgKvIsEIrYLQCP5I9GsTz8dUWOsvBAsiAbmRG-C13txys2t3uYn2uRgFJQj005_CBLbuJxahwUTBNR1SPpF5nSBeb60
2016:10:07 12:55:33 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:1DQqBwPrkv_fiQJkeDLs0ooS6f4l4cO6LjGWx-kqGJ4KGjAY4TQiWj6Y6DCRWSXbV6di5BPlK0T4-_qy3TQ7Yv2_lJfB43WYqkSM9QHxZj8
2016:10:07 13:06:42 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [45.79.103.178] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 13:11:39 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:FbJ7zu5eqUKMLX2OwN5Dy4blAPG0aOf5YsEhQVmGfgxk8CJXVep9_9gxteajcnmtyr6RX7FLYsvEMAUhTdAufTXtqiSMtpMGY6HO1ihbz68
2016:10:07 13:11:39 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:5VTXVP7NHWeIrsbBDRVyLd6vcirhv3sWi8CLoTm-e89cWmzqgidOgHETXpH3eMVaHxK8nU5iM7wym7jU5_yGwY7fKDbk0Zyq-al8kKubPXc
2016:10:07 13:20:12 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:G6_rOddmEkzTBfD1rYGBChiz72-DPKcZ1Kl_NLJ2Wqx4DZhDCAzG2VDw3huHBnPrg3F8rcd7GSN27_hm3sdmEzBpUUkHTlmGXtIv1eAHJFw
2016:10:07 13:20:12 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:fl1GS1tWjZLQdK3e8RW5s1y3v3duKcZ7fnwXeuB57sgdFU1_18gAUSUyT3_4HR1hoIWVqzcaGBzSA-unZ7osb7AkJE4aHB-DowRnLAJC5us
2016:10:07 13:21:12 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [115.28.122.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 13:22:05 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [142.54.174.84] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 13:32:59 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [42.199.131.31] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 13:33:00 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [42.199.131.31] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 13:33:01 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [42.199.131.31] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 13:57:27 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 13:57:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 13:57:27 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'9901'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 13:57:27 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 13:57:27 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 13:57:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='9901', count:1, time:0.001.
2016:10:07 13:57:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.009.
2016:10:07 13:57:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 13:57:36 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'9901'], u'actid': [u'90']}>, args:()
2016:10:07 13:57:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 13:57:36 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'9901'], u'actid': [u'90']}>, args:()
2016:10:07 13:57:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='9901' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.003.
2016:10:07 13:57:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 13:57:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='9901' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 13:57:51 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'9901']}>, args:()
2016:10:07 13:57:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='9901';, count:1, time:0.001.
2016:10:07 14:05:23 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [123.123.99.213] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 14:05:56 22358 140139097212672 [INFO _update_base_access_token 982] [TOKEN] update base_access_token: gUs9fXq1qBwR-FUS7gpuHHr93iGsL6WFth1B2G5fM2biA1AASNZM1nFsUvJ6VIxtpu4TYkNCWuu4naCfPg8SSMyI86iY1E-K3IlNBe-ub0F5byoYRljgc8wCNpkWNluBWGUhAIAAKY
2016:10:07 14:09:36 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'9901'], u'actid': [u'90']}>, args:()
2016:10:07 14:09:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 14:09:36 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'9901'], u'actid': [u'90']}>, args:()
2016:10:07 14:09:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='9901' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.002.
2016:10:07 14:09:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.001.
2016:10:07 14:09:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='9901' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 14:09:45 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'9901'], u'actid': [u'90']}>, args:()
2016:10:07 14:09:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 14:09:45 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'9901'], u'actid': [u'90']}>, args:()
2016:10:07 14:09:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='9901' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.002.
2016:10:07 14:09:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 14:09:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='9901' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 14:11:21 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1880549054'], u'timestamp': [u'1475820681'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'b2073cc16d140625548f03028d76c31188cab0b2']}>, args:()
2016:10:07 14:11:21 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 14:11:25 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [163.177.82.13] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 14:11:28 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 14:11:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 14:11:28 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 14:11:28 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'011mAK1N12AuAZ0rBV1N1OGG1N1mAK1h']}>, args:()
2016:10:07 14:11:28 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: ll9eN-dXv4vOmzLaBixUAR7CBkTCLtqFqZ5dRTEO75VQkv_9AjQQCGy8HCTth0aiEswWgybHx3zhzIiE7SyMms312PGoOqmNDz4edc-tG8I 7200
2016:10:07 14:11:28 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: U76XOLnoR0hEPvC7LUwDtbSm0h7NG4thdla7SDFxyWp3fxZF2a3ACjYiYqI-beO6BmgQ8voeOcx15IDK2Q52bQ6egUTj4-pfLGZYRvZzJ9s 8640000
2016:10:07 14:11:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 14:11:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 14:11:28 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 14:11:28 22358 140139179955968 [INFO get_openid 1331] return openid. 011mAK1N12AuAZ0rBV1N1OGG1N1mAK1h -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 14:11:29 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 14:11:29 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 14:11:29 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 14:11:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 14:11:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 14:11:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 14:11:32 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 14:11:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 14:11:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 14:11:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 14:11:32 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 14:11:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 14:11:32 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 14:11:34 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 14:11:34 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 14:11:43 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 14:11:43 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 14:11:43 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 14:11:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 14:11:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 14:11:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 14:11:45 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 14:11:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 14:11:45 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 14:11:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 14:11:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 14:11:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 14:11:45 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 14:11:46 22358 140139179955968 [INFO wrapper 75] >>>get_uploadtoken<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475820706238.jpg']}>, args:()
2016:10:07 14:11:46 22358 140139179955968 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475820706238.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:5MLC_hnpRReaix7Zwd--SOgHMfs=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODIwNzA2MjM4LmpwZyIsImRlYWRsaW5lIjoxNDc1ODI0MzA2fQ== 
2016:10:07 14:13:06 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [119.129.112.192] POST:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'major': [u'\u58f0\u4e50'], u'name': [u'Kavin.XPL'], u'identity_card': [u'441441125412541254'], u'gender': [u'male'], u'age': [u'1'], u'teacher': [u'32'], u'phone': [u'15099994152'], u'program': [u'65'], u'company_tel': [u'12345612345'], u'kids_name': [u'\u6c34\u5e93'], u'teacher_phone': [u'12312312312'], u'images': [u'http://img.6skills.com/custom-sign-1475820706238.jpg?1475820782945'], u'awards': [u'\u597d'], u'company': [u'32'], u'actid': [u'90'], u'match_class': [u'\u5e7c\u513f\u7ec4\uff08\u5b66\u9f84\u524d\uff09']}>, GET:<QueryDict: {}>, args:()
2016:10:07 14:13:06 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数city不能为空.
2016:10:07 14:13:06 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_details from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 14:13:06 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数birthdate不能为空.
2016:10:07 14:13:06 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 14:13:06 22358 140139179955968 [INFO db_exec 86] [sql_r] select quantities_remain,img_qrcode from 6s_activity where id=90 and status=1;, count:1, time:0.000.
2016:10:07 14:13:06 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 14:13:06 22358 140139179955968 [INFO db_exec 86] [sql_r] select id,wechat from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and status=1;, count:1, time:0.000.
2016:10:07 14:13:06 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_signup where user_id=1114 and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 14:13:06 22358 140139179955968 [INFO db_exec 84] [sql_w] insert into 6s_signup(user_id,act_id,username_pa,age_ch,phone,gender,createtime,city,username_ch,birthdate,img,identity,program_name,organization,teacher,teacher_phone,part_group,part_profession,win_experience,company_phone) values(1114,90,'Kavin.XPL',1,'15099994152','male',now(),'广州市','水库','','http://img.6skills.com/custom-sign-1475820706238.jpg?1475820782945','441441125412541254','65','32','32','12312312312','幼儿组（学龄前）','声乐','好','12345612345');, count:1, time:0.020.
2016:10:07 14:13:06 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_activity set quantities_remain=quantities_remain-1 where id=90;, count:1, time:0.024.
2016:10:07 14:13:08 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [119.129.112.192] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 14:13:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=90 and a.status=1 and b.status=1;, count:3, time:0.001.
2016:10:07 14:13:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 14:13:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 14:13:54 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1241341000'], u'timestamp': [u'1475820834'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'555ae348b1c58ba331b66409f5f44727236a7c4f']}>, args:()
2016:10:07 14:13:54 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 14:13:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='万载县';, count:0, time:0.001.
2016:10:07 14:13:54 22358 140139179955968 [ERROR save_pos_wx 893] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw city:宜春市 area:万载县 cannot be found.
2016:10:07 14:13:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 14:13:54 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=0,position_details='宜春市 万载县 环城北路' where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 14:13:54 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw 0
2016:10:07 14:13:54 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1370125604'], u'timestamp': [u'1475820834'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'5ba75ac4fbdf768e9e02dee1bdbd34efd9ed88c8']}>, args:()
2016:10:07 14:13:54 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:511
2016:10:07 14:13:58 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.73] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'412753942'], u'timestamp': [u'1475820838'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'ccc8992a3079aabbb35eadfe59af2cb33947fdec']}>, args:()
2016:10:07 14:13:58 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:508
2016:10:07 14:14:04 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041WKbC12Uk7631bqpF12wLdC12WKbCT']}>, args:()
2016:10:07 14:14:04 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: 2eBcnJzlh_sHHGHqY3nCxKdymNSif6mUbwGGPBqb-wB92jQPvg96sCSd14WVnQxLFZYcwjxLheyc3Ozl3NWhbYoWsNKKKZ-p1Tb2zYki2zA 7200
2016:10:07 14:14:04 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: IaRBxR046AZ5eIJ40Uu0Y63PbaQlhq2HDSaQS5wIFYpzzrVFWtoSYRQqgqj6g_EgPrs5visLOEM5JgUlF_CKqLBSsdhykxlspg1pPMjFvII 8640000
2016:10:07 14:14:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 14:14:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 14:14:04 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 14:14:04 22358 140139179955968 [INFO get_openid 1331] return openid. 041WKbC12Uk7631bqpF12wLdC12WKbCT -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 14:14:04 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 14:14:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 14:14:07 22358 140139179955968 [INFO wrapper 75] >>>activities_my<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 14:14:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 14:14:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 14:14:10 22358 140139179955968 [INFO wrapper 75] >>>activities_reset<<< [182.111.92.222] POST:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signid': [u'104']}>, GET:<QueryDict: {}>, args:()
2016:10:07 14:14:10 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id set c.quantities_remain=c.quantities_remain+1, a.status=0 where a.id=104 and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:2, time:0.014.
2016:10:07 14:14:10 22358 140139179955968 [ERROR activities_reset 568] db fail.
2016:10:07 14:14:10 22358 140139179955968 [INFO wrapper 75] >>>activities_my<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 14:14:10 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 14:14:10 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 14:14:28 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'260727567'], u'timestamp': [u'1475820868'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'fe5de34cb61caefe56be1548bbea819964df2635']}>, args:()
2016:10:07 14:14:28 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:341
2016:10:07 14:14:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='万载县';, count:0, time:0.001.
2016:10:07 14:14:28 22358 140139179955968 [ERROR save_pos_wx 893] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw city:宜春市 area:万载县 cannot be found.
2016:10:07 14:14:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 14:14:28 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=0,position_details='宜春市 万载县 环城北路' where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 14:14:28 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw 0
2016:10:07 14:14:31 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1180669516'], u'timestamp': [u'1475820870'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'7b36d5b62aca447e32a42df03d18a6c1165e94ea']}>, args:()
2016:10:07 14:14:31 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:511
2016:10:07 14:14:32 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'0210E5GG0ZE1S52VZEGG0e74GG00E5GI']}>, args:()
2016:10:07 14:14:32 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: aK4Eh8QJxbKDO4xBuA_zMyR2-73KL-iNxYldoaXxVD4b9VMMVKNXbJivP6eLztd-6vJZigAb48ILujc2YA2U95xAJ_U3OHATnfSDteB06-c 7200
2016:10:07 14:14:32 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: bypfSUDyNyREBtEZzQoRr82rnCG5Wt-XI661bK21YRiyusKuiWIALRjbG-fjJaiyrcjuL5MXFKvBSuzYOP4nnqymSNQzFcx1nu_3LuphB70 8640000
2016:10:07 14:14:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 14:14:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 14:14:33 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 14:14:33 22358 140139179955968 [INFO get_openid 1331] return openid. 0210E5GG0ZE1S52VZEGG0e74GG00E5GI -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 14:14:33 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 14:14:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 14:14:33 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 14:14:33 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 14:14:33 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 14:14:33 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 14:14:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 14:14:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.008.
2016:10:07 14:14:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 14:14:44 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 14:14:44 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.002.
2016:10:07 14:14:45 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 14:14:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 14:14:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 14:14:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=90 and status=1;, count:1, time:0.001.
2016:10:07 14:14:47 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 14:14:52 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 14:14:52 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 14:15:05 22358 140139179955968 [INFO wrapper 75] >>>get_uploadtoken<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475820902236.jpg']}>, args:()
2016:10:07 14:15:05 22358 140139179955968 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475820902236.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:cOzwL6-PmdHXq9CQFAK4e6d_3Lg=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODIwOTAyMjM2LmpwZyIsImRlYWRsaW5lIjoxNDc1ODI0NTA1fQ== 
2016:10:07 14:16:34 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:IrKFBa4YxwmRg6gI9fGuGEsbO6QqxNnoLUIhqUFwc1eAutwvu3WC4q1FiuHBcN6ZmAEWQFyxs_qeQw5zLnsQUGGA3PbSb-tvU9yntlAMzFo
2016:10:07 14:16:34 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:JoXb8zJ3hDxRfGlTewDI9bryhNgK29Kktm8YxeOlmstxfhODirwk6JWtoyalup8zHpI0Ge3bEWvlS1Gg9pauc1IJvRdZ48T3vjjdO7dOAeQ
2016:10:07 14:17:11 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1131864112'], u'timestamp': [u'1475821031'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'bc4e2893ad165c4b0662bfedc7704b97142f9d95']}>, args:()
2016:10:07 14:17:11 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:341
2016:10:07 14:17:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='万载县';, count:0, time:0.001.
2016:10:07 14:17:11 22358 140139179955968 [ERROR save_pos_wx 893] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw city:宜春市 area:万载县 cannot be found.
2016:10:07 14:17:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 14:17:11 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=0,position_details='宜春市 万载县 环城北路' where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 14:17:11 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw 0
2016:10:07 14:17:12 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'10413490'], u'timestamp': [u'1475821031'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'f122a7a06976c217861d822489f358a14a1b6b3d']}>, args:()
2016:10:07 14:17:12 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:511
2016:10:07 14:17:13 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 14:17:13 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 14:17:13 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 14:17:13 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'031smajS1CFxeU0UIDjS11PejS1smajb']}>, args:()
2016:10:07 14:17:13 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: ze1tFfwo0MEiEzJSG52PUF7eow0pGugoOBmno__44FLyghFj8Qc11sSe-WYZyvjZgwlrBlLkurq3jPa2aNk6bMO1wTnTgFLpGFwOpiWWlwk 7200
2016:10:07 14:17:13 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: uVcoYmd3NnsE6BPPkvMp68jFp8ThzOU_Fy9MxU3N2qjow5Y1MBYT5ZKeT9YaBHEmY490PsxEk8NLk8bFurH7Z-cZMISFta2qFtuHcoi_mzg 8640000
2016:10:07 14:17:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 14:17:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 14:17:14 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 14:17:14 22358 140139179955968 [INFO get_openid 1331] return openid. 031smajS1CFxeU0UIDjS11PejS1smajb -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 14:17:14 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 14:17:14 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 14:17:14 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 14:17:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 14:17:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.006.
2016:10:07 14:17:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 14:17:16 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 14:17:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 14:17:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 14:17:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=90 and status=1;, count:1, time:0.000.
2016:10:07 14:17:16 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 14:17:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 14:17:17 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 14:17:18 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 14:17:18 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 14:17:18 22358 140139179955968 [INFO wrapper 75] >>>get_uploadtoken<<< [182.111.92.222] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475821035801.jpg']}>, args:()
2016:10:07 14:17:18 22358 140139179955968 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475821035801.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:Tjs1LGCbPJYw2Xs-UjGuLYL8PO4=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODIxMDM1ODAxLmpwZyIsImRlYWRsaW5lIjoxNDc1ODI0NjM4fQ== 
2016:10:07 14:19:40 22358 140139097212672 [INFO _update_js_signature 1030] [TOKEN] update js_signature:kgt8ON7yVITDhtdwci0qedWxJyz1VVx-TqXRisJtz8e0UUO7jNNLERkF-ON66zU95oUQkX0mGQXsDhz9qgbbYA 7200
2016:10:07 14:30:35 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:U2m687Fyeuqz6rfSSLjViKJidNkXSBL70dOQZ-nID32FfFJxx75JGXhem4gtzpg8wu2bbhvz7V-9hqlrFPUaTDh6pWBBu6fo8SbZN1LJxco
2016:10:07 14:30:35 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:wNBAM1R5pLJl8rSFVoRAKf5ZrH0gjxyb4R6GXImqna6vuw0xL5ockbOYIr7uvclKlyelnRxYlTjopxcC8dhcMbnJZCnl8K3WBdsoVxBmup8
2016:10:07 14:30:36 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:ertqKlhRmE9ef5rS_MaTFJSh9lAsCRohh3v9BCNCT4z-YOO6-UxNj6UGWiF0mkrAUI7JVYSEuyP6A_Vm5RE_9OdIZIJBj-fnrIWD9nniEkw
2016:10:07 14:30:36 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:wk8PDgObq-EbXvdryeXKb88uEYNwKW1LYPONKK6GkK8k53jPodFJoWX39B8NpQuEZgpWa_9AuGe7f8XR121C0Nj1iC_DQcy35MbfQbWaaPY
2016:10:07 14:39:17 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:yA6zLX05U33VJfM5Fz8bBF6wOyYqHyPkYccSGsNhVHZb7GUNWW1ngYSa0G_v4h599BuFSDrPFeroPSNxDvfHWlu6SYaaMior71wBcMsyung
2016:10:07 14:39:17 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:RX1oXF51FxzuhPccr2l3NoWqVisw4l23NyS4uaTgOvcnFwENPdkZuu71hL3D1ogXaVoAEw3qmj0pcjX3FkDOXuH5wMXgcfpX4-vgCuwvEWM
2016:10:07 14:40:01 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [115.28.122.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 14:46:49 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:CIrkZ8PMmITAkRvnBpz2FJ0I88lsZX8Y_EbNt72kDtrxr2mW9Lg8h0o1Vojj-whrD2K4FBaT-Gw6nIIpoHQGN-vJ0B1l0Ne0xxKjFT17RX0
2016:10:07 14:46:49 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:Z8N9ak3Gzmb94O6w7trk6KO3l2RGNI8EWOazg30bEEqkQ_1v1KyvskbzBg4QZ44xYWEPcnnRfUY-678qnfSAozcmmdfIiPgK76hQeaejrPM
2016:10:07 14:49:49 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:ArrdENXQGILD0FzTenzNIVMAyjNg8Cx9YiNDVi0SIbZA6tgbWJHpVrvnzPBLyFVzMjQvLHW4orSurygxpGmbqUvJp9w3BWHP7FQJAHp-r08
2016:10:07 14:49:49 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:ZH3X8Dvtyi9QV7ttWmbLzE3rJHjqW70sAZyR70N4cW6DtjDvag1FetUfWSbOu7iUZua_AXgCmJ6yuOEtPy4_qOM0o8c_y-lUvpjoxnqevrE
2016:10:07 14:54:35 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:x72vYiwKiJdLbUstjgKvIsEIrYLQCP5I9GsTz8dUWOsvBAsiAbmRG-C13txys2t3uYn2uRgFJQj005_CBLbuJxahwUTBNR1SPpF5nSBeb60
2016:10:07 14:54:35 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:1DQqBwPrkv_fiQJkeDLs0ooS6f4l4cO6LjGWx-kqGJ4KGjAY4TQiWj6Y6DCRWSXbV6di5BPlK0T4-_qy3TQ7Yv2_lJfB43WYqkSM9QHxZj8
2016:10:07 15:03:50 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [180.76.15.16] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 15:10:44 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:FbJ7zu5eqUKMLX2OwN5Dy4blAPG0aOf5YsEhQVmGfgxk8CJXVep9_9gxteajcnmtyr6RX7FLYsvEMAUhTdAufTXtqiSMtpMGY6HO1ihbz68
2016:10:07 15:10:44 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:5VTXVP7NHWeIrsbBDRVyLd6vcirhv3sWi8CLoTm-e89cWmzqgidOgHETXpH3eMVaHxK8nU5iM7wym7jU5_yGwY7fKDbk0Zyq-al8kKubPXc
2016:10:07 15:19:25 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:G6_rOddmEkzTBfD1rYGBChiz72-DPKcZ1Kl_NLJ2Wqx4DZhDCAzG2VDw3huHBnPrg3F8rcd7GSN27_hm3sdmEzBpUUkHTlmGXtIv1eAHJFw
2016:10:07 15:19:25 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:fl1GS1tWjZLQdK3e8RW5s1y3v3duKcZ7fnwXeuB57sgdFU1_18gAUSUyT3_4HR1hoIWVqzcaGBzSA-unZ7osb7AkJE4aHB-DowRnLAJC5us
2016:10:07 15:32:05 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [157.55.39.109] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 15:45:59 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [121.42.0.85] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 15:51:53 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'73']}>, args:()
2016:10:07 15:51:53 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=73 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 15:51:53 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=73;, count:1, time:0.000.
2016:10:07 15:51:53 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=73 and status=1;, count:0, time:0.000.
2016:10:07 15:51:53 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'73']}>, args:()
2016:10:07 15:51:53 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=73;, count:1, time:0.001.
2016:10:07 15:52:08 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'73']}>, args:()
2016:10:07 15:52:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=73;, count:1, time:0.001.
2016:10:07 15:52:08 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'73']}>, args:()
2016:10:07 15:52:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=73 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 15:52:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=73;, count:1, time:0.000.
2016:10:07 15:52:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=73 and status=1;, count:0, time:0.000.
2016:10:07 15:52:12 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 15:52:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 15:52:12 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 15:52:22 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 15:52:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 15:52:22 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 15:52:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 15:52:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 15:52:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 15:52:24 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 15:52:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 15:52:24 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 15:56:40 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 15:56:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 15:56:40 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 15:56:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 15:56:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 15:56:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.001.
2016:10:07 15:56:43 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 15:56:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 15:56:43 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 15:57:25 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 15:57:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 15:57:25 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 15:57:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 15:57:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 15:57:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 15:57:28 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 15:57:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 15:57:28 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:02:42 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 16:02:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 16:02:42 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 16:02:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:02:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 16:02:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 16:03:32 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 16:03:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 16:03:32 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 16:03:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:03:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 16:03:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 16:05:23 22358 140139097212672 [INFO _update_base_access_token 982] [TOKEN] update base_access_token: esAQE5yq6ydODmR_3qXfgXQ1SQejkzugJntyzL7WhuRqGXpiFZAS0MJHnYxaNGUw6vaMp7RfCCRI2VnfXK7XI4BSvx1c3xF04vbKpYmv_yaJ3QVDE2anAjXCfzA2kTACXFXjAGAKSK
2016:10:07 16:06:31 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:06:31 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:06:31 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:07:05 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:07:05 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:07:05 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:07:08 22358 140139179955968 [INFO wrapper 75] >>>activities_mycollections<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 16:07:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 16:07:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 16:07:09 22358 140139179955968 [INFO wrapper 75] >>>activities_my<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 16:07:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 16:07:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 16:08:20 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:08:20 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:08:20 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:08:24 22358 140139179955968 [INFO wrapper 75] >>>activities_mycollections<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 16:08:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 16:08:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 16:08:47 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:08:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:08:47 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:11:10 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:ll9eN-dXv4vOmzLaBixUAR7CBkTCLtqFqZ5dRTEO75VQkv_9AjQQCGy8HCTth0aiEswWgybHx3zhzIiE7SyMms312PGoOqmNDz4edc-tG8I
2016:10:07 16:11:10 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:U76XOLnoR0hEPvC7LUwDtbSm0h7NG4thdla7SDFxyWp3fxZF2a3ACjYiYqI-beO6BmgQ8voeOcx15IDK2Q52bQ6egUTj4-pfLGZYRvZzJ9s
2016:10:07 16:11:36 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:11:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:11:36 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:11:44 22358 140139179955968 [INFO wrapper 75] >>>activities_mycollections<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 16:11:44 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 16:11:44 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 16:11:54 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [14.17.44.215] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 16:11:55 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 16:11:55 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 16:11:55 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 16:11:55 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'021PlvUW0axzDP1Go3VW0SYsUW0PlvUe']}>, args:()
2016:10:07 16:11:56 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: olUEjs2yC4cxy5tw3ZFALGZKs6APTiWOAS1Die0slIi7rqgI6OZ7Z9rt8egn4eWBwpa0bohB8lOLRGfhllsxlt_CzgpTZFS6jKVhqHGfodQ 7200
2016:10:07 16:11:56 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: sc-nGOckSg55rltrjo8TH7YDnRQ6pbZ04CikkZ82Ta1wJRKskQBGuTFSHg0eQSGBYgZPU7RtcOI-872lPuMXF_wOeqW9OhGXMX2qOnq33uM 8640000
2016:10:07 16:11:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 16:11:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 16:11:56 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 16:11:56 22358 140139179955968 [INFO get_openid 1331] return openid. 021PlvUW0axzDP1Go3VW0SYsUW0PlvUe -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 16:11:56 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 16:11:56 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 16:11:56 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 16:11:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 16:11:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 16:11:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 16:12:04 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [115.28.122.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 16:12:07 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 16:12:07 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 16:12:07 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 16:12:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 16:12:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 16:12:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 16:12:16 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'136153935'], u'timestamp': [u'1475827936'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'abc427b3ac877446088b1fd7528c144ad28fcc0c']}>, args:()
2016:10:07 16:12:16 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 16:12:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 16:12:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 16:12:16 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 16:12:16 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 16:12:31 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:12:31 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:12:31 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:13:21 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:13:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:13:21 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:13:58 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:13:58 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:13:58 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:14:01 22358 140139179955968 [INFO wrapper 75] >>>activities_mycollections<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 16:14:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 16:14:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 16:15:54 22358 140139179955968 [INFO wrapper 75] >>>activities_my<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 16:15:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 16:15:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 16:15:56 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:IrKFBa4YxwmRg6gI9fGuGEsbO6QqxNnoLUIhqUFwc1eAutwvu3WC4q1FiuHBcN6ZmAEWQFyxs_qeQw5zLnsQUGGA3PbSb-tvU9yntlAMzFo
2016:10:07 16:15:56 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:JoXb8zJ3hDxRfGlTewDI9bryhNgK29Kktm8YxeOlmstxfhODirwk6JWtoyalup8zHpI0Ge3bEWvlS1Gg9pauc1IJvRdZ48T3vjjdO7dOAeQ
2016:10:07 16:15:57 22358 140139179955968 [INFO wrapper 75] >>>activities_mycollections<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 16:15:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 16:15:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 16:16:52 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:ze1tFfwo0MEiEzJSG52PUF7eow0pGugoOBmno__44FLyghFj8Qc11sSe-WYZyvjZgwlrBlLkurq3jPa2aNk6bMO1wTnTgFLpGFwOpiWWlwk
2016:10:07 16:16:52 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:uVcoYmd3NnsE6BPPkvMp68jFp8ThzOU_Fy9MxU3N2qjow5Y1MBYT5ZKeT9YaBHEmY490PsxEk8NLk8bFurH7Z-cZMISFta2qFtuHcoi_mzg
2016:10:07 16:16:55 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:16:55 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:16:55 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:17:27 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:17:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:17:27 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:18:46 22358 140139097212672 [INFO _update_js_signature 1030] [TOKEN] update js_signature:kgt8ON7yVITDhtdwci0qedWxJyz1VVx-TqXRisJtz8eFGiS427-OC3lw4wghXFaT_x7V70SeZdKpP8wCUGraOg 7200
2016:10:07 16:19:38 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'51335204'], u'timestamp': [u'1475828378'], u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A'], u'signature': [u'3d38ad117358398331d3532e2a90a53995a2574c']}>, args:()
2016:10:07 16:19:38 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwXWP9vbAVtIGWYJ5TDGky5A, msg:event_VIEW, bodylen:511
2016:10:07 16:19:43 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 16:19:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 16:19:43 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041Li9y40Y6hkx1S4Zy40C2cy40Li9yC']}>, args:()
2016:10:07 16:19:43 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwXWP9vbAVtIGWYJ5TDGky5A: P1NaqJkEkYqUB8xUfp1NU1baLn5cpMz6VJbBdUH2XZnylQkMbIn3Gp8LRkWpQjGvFRK2sp16CZnIRgbIYPe8mdxS_HhfdYQVS2WOe-bS8RY 7200
2016:10:07 16:19:43 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwXWP9vbAVtIGWYJ5TDGky5A: W26-kaCjwsWNjzU14snCLTloL26kgsw816nP5i-AWn0TXAwo2CuTejEPjEc2gAb6KiUUa4GLQufb3DuRf3ttn6vKj6oCwslkswdDDZ_qb10 8640000
2016:10:07 16:19:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 16:19:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A';, count:1, time:0.000.
2016:10:07 16:19:43 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='pavilion',gender='male',img='http://wx.qlogo.cn/mmopen/Jreh0PUDb4317HTFS9A9s5fHagVMZXDec53xtVFqmEOJvxIFHuQVAJYBrsicicC8pJlfEBnZHiaIGJAuoHVS1mhh2Pvrs0TPHwG/0',status=1 where openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A';, count:0, time:0.000.
2016:10:07 16:19:43 22358 140139179955968 [INFO get_openid 1331] return openid. 041Li9y40Y6hkx1S4Zy40C2cy40Li9yC -> {'openid': u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A', 'errcode': 0, 'errmsg': ''}
2016:10:07 16:19:43 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 16:19:43 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 16:19:43 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 16:19:43 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 16:19:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A', count:1, time:0.001.
2016:10:07 16:19:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.006.
2016:10:07 16:19:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 16:19:51 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A'], u'actid': [u'62']}>, args:()
2016:10:07 16:19:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=62;, count:1, time:0.001.
2016:10:07 16:19:51 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A'], u'actid': [u'62']}>, args:()
2016:10:07 16:19:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A' and a.act_id=62 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:19:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=62;, count:1, time:0.000.
2016:10:07 16:19:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A' and act_id=62 and status=1;, count:0, time:0.000.
2016:10:07 16:19:51 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=62']}>, args:()
2016:10:07 16:20:01 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A'], u'actid': [u'56']}>, args:()
2016:10:07 16:20:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=56;, count:1, time:0.001.
2016:10:07 16:20:01 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A'], u'actid': [u'56']}>, args:()
2016:10:07 16:20:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A' and a.act_id=56 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:20:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=56;, count:1, time:0.000.
2016:10:07 16:20:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A' and act_id=56 and status=1;, count:0, time:0.000.
2016:10:07 16:20:01 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=56']}>, args:()
2016:10:07 16:20:12 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A']}>, args:()
2016:10:07 16:20:12 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A']}>, args:()
2016:10:07 16:20:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A';, count:1, time:0.001.
2016:10:07 16:20:12 22358 140139179955968 [INFO wrapper 75] >>>get_nearbyareas<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A']}>, args:()
2016:10:07 16:20:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=(((select position_id from 6s_user where openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A') div 10000)*10000);, count:12, time:0.001.
2016:10:07 16:20:12 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A'], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u97f3\u4e50'], u'page': [u'1']}>, args:()
2016:10:07 16:20:12 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 16:20:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A', count:1, time:0.000.
2016:10:07 16:20:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '音乐' and  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '音乐' and  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 0;, count:10, time:0.003.
2016:10:07 16:20:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '音乐' and  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 16:20:19 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A'], u'actid': [u'94']}>, args:()
2016:10:07 16:20:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=94;, count:1, time:0.001.
2016:10:07 16:20:19 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A'], u'actid': [u'94']}>, args:()
2016:10:07 16:20:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A' and a.act_id=94 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:20:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=94;, count:1, time:0.000.
2016:10:07 16:20:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A' and act_id=94 and status=1;, count:0, time:0.000.
2016:10:07 16:20:19 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=94']}>, args:()
2016:10:07 16:20:29 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A'], u'actid': [u'96']}>, args:()
2016:10:07 16:20:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A' and a.act_id=96 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:20:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=96;, count:1, time:0.000.
2016:10:07 16:20:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A' and act_id=96 and status=1;, count:0, time:0.000.
2016:10:07 16:20:29 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A'], u'actid': [u'96']}>, args:()
2016:10:07 16:20:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=96;, count:1, time:0.001.
2016:10:07 16:20:29 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=96']}>, args:()
2016:10:07 16:20:43 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [27.46.137.60] POST:<QueryDict: {u'phone': [u'15989194150'], u'age': [u'1'], u'name': [u'pavilion'], u'gender': [u'female']}>, GET:<QueryDict: {}>, args:()
2016:10:07 16:20:43 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数openid不能为空.
2016:10:07 16:20:59 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=96']}>, args:()
2016:10:07 16:21:10 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [27.46.137.60] POST:<QueryDict: {u'phone': [u'15989194150'], u'age': [u'1'], u'name': [u'pavilion'], u'gender': [u'female']}>, GET:<QueryDict: {}>, args:()
2016:10:07 16:21:10 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数openid不能为空.
2016:10:07 16:21:14 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=96']}>, args:()
2016:10:07 16:22:32 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041w8i8d0kHsUG1Xn39d0Gdm8d0w8i8O']}>, args:()
2016:10:07 16:22:32 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwXWP9vbAVtIGWYJ5TDGky5A: xXQZorydOKK8qE76CpBnDW2MA2kvBctoq5OrnDpWvhvBoTojEpdT7dSW_gTA-KN4iSn_q3ngHK_RoTXgZAauZP66e9g5pT6qy1ZAGQYRs3I 7200
2016:10:07 16:22:32 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwXWP9vbAVtIGWYJ5TDGky5A: sg1BVvuiteGW4eNyW4Y5Jy9HsBwlsh6HPNqZIC94Yux78ZMa8qbHeecpZP4cnzd81DbDZN84PaHDkkmLXy83wremaqYAoQrNz_NOTjIngc0 8640000
2016:10:07 16:22:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 16:22:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A';, count:1, time:0.000.
2016:10:07 16:22:33 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='pavilion',gender='male',img='http://wx.qlogo.cn/mmopen/Jreh0PUDb4317HTFS9A9s5fHagVMZXDec53xtVFqmEOJvxIFHuQVAJYBrsicicC8pJlfEBnZHiaIGJAuoHVS1mhh2Pvrs0TPHwG/0',status=1 where openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A';, count:0, time:0.000.
2016:10:07 16:22:33 22358 140139179955968 [INFO get_openid 1331] return openid. 041w8i8d0kHsUG1Xn39d0Gdm8d0w8i8O -> {'openid': u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A', 'errcode': 0, 'errmsg': ''}
2016:10:07 16:22:33 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A'], u'actid': [u'96']}>, args:()
2016:10:07 16:22:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=96;, count:1, time:0.001.
2016:10:07 16:22:33 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A'], u'actid': [u'96']}>, args:()
2016:10:07 16:22:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A' and a.act_id=96 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:22:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=96;, count:1, time:0.000.
2016:10:07 16:22:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A' and act_id=96 and status=1;, count:0, time:0.000.
2016:10:07 16:22:33 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=96&code=041w8i8d0kHsUG1Xn39d0Gdm8d0w8i8O&state=123']}>, args:()
2016:10:07 16:23:14 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041w8i8d0kHsUG1Xn39d0Gdm8d0w8i8O']}>, args:()
2016:10:07 16:23:15 22358 140139179955968 [ERROR get_openid 1278] web_access_token fail. refresh_token invalid? 041w8i8d0kHsUG1Xn39d0Gdm8d0w8i8O
2016:10:07 16:23:15 22358 140139179955968 [ERROR get_openid 1278] web_access_token fail. refresh_token invalid? 041w8i8d0kHsUG1Xn39d0Gdm8d0w8i8O
2016:10:07 16:23:15 22358 140139179955968 [ERROR get_openid 1328] sns/oauth2/access_token return fail: {"errcode":40029,"errmsg":"invalid code, hints: [ req_id: rHRcya0595ns90 ]"}. https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe6d40d1e6b8d010e&secret=9560d101dc228aa5aab838312cbb0287&code=041w8i8d0kHsUG1Xn39d0Gdm8d0w8i8O&grant_type=authorization_code
2016:10:07 16:23:15 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'96']}>, args:()
2016:10:07 16:23:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=96;, count:1, time:0.001.
2016:10:07 16:23:15 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'96']}>, args:()
2016:10:07 16:23:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=96 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:23:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=96;, count:1, time:0.000.
2016:10:07 16:23:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=96 and status=1;, count:0, time:0.000.
2016:10:07 16:23:15 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=96&code=041w8i8d0kHsUG1Xn39d0Gdm8d0w8i8O&state=123']}>, args:()
2016:10:07 16:23:30 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=96&code=041w8i8d0kHsUG1Xn39d0Gdm8d0w8i8O&state=123']}>, args:()
2016:10:07 16:23:32 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041w8i8d0kHsUG1Xn39d0Gdm8d0w8i8O']}>, args:()
2016:10:07 16:23:33 22358 140139179955968 [ERROR get_openid 1278] web_access_token fail. refresh_token invalid? 041w8i8d0kHsUG1Xn39d0Gdm8d0w8i8O
2016:10:07 16:23:33 22358 140139179955968 [ERROR get_openid 1278] web_access_token fail. refresh_token invalid? 041w8i8d0kHsUG1Xn39d0Gdm8d0w8i8O
2016:10:07 16:23:33 22358 140139179955968 [ERROR get_openid 1328] sns/oauth2/access_token return fail: {"errcode":40029,"errmsg":"invalid code, hints: [ req_id: cwORIA0613s105 ]"}. https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxe6d40d1e6b8d010e&secret=9560d101dc228aa5aab838312cbb0287&code=041w8i8d0kHsUG1Xn39d0Gdm8d0w8i8O&grant_type=authorization_code
2016:10:07 16:23:43 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=96&code=041w8i8d0kHsUG1Xn39d0Gdm8d0w8i8O&state=123']}>, args:()
2016:10:07 16:23:51 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [101.226.33.201] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 16:23:51 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数phone不能为空.
2016:10:07 16:26:11 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:26:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:26:11 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:26:34 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 16:26:34 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:26:34 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 16:26:34 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 16:26:34 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 16:26:34 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 16:26:40 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'57']}>, args:()
2016:10:07 16:26:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=57;, count:1, time:0.001.
2016:10:07 16:26:40 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'57']}>, args:()
2016:10:07 16:26:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=57 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:26:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=57;, count:1, time:0.000.
2016:10:07 16:26:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=57 and status=1;, count:0, time:0.000.
2016:10:07 16:26:50 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'16']}>, args:()
2016:10:07 16:26:50 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=16;, count:1, time:0.001.
2016:10:07 16:26:50 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'16']}>, args:()
2016:10:07 16:26:50 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=16 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:26:50 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=16;, count:1, time:0.000.
2016:10:07 16:26:50 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=16 and status=1;, count:0, time:0.000.
2016:10:07 16:26:51 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [180.163.2.118] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 16:26:51 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数phone不能为空.
2016:10:07 16:27:22 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [123.123.102.226] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 16:27:23 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [123.123.102.226] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 16:27:24 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [123.123.102.226] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 16:28:19 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'16']}>, args:()
2016:10:07 16:28:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=16;, count:1, time:0.001.
2016:10:07 16:28:19 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'16']}>, args:()
2016:10:07 16:28:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=16 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:28:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=16;, count:1, time:0.000.
2016:10:07 16:28:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=16 and status=1;, count:0, time:0.000.
2016:10:07 16:28:36 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'16']}>, args:()
2016:10:07 16:28:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=16 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:28:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=16;, count:1, time:0.000.
2016:10:07 16:28:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=16 and status=1;, count:0, time:0.000.
2016:10:07 16:28:36 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'16']}>, args:()
2016:10:07 16:28:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=16;, count:1, time:0.001.
2016:10:07 16:29:11 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:29:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 16:29:11 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:29:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:29:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 16:29:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 16:29:14 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:29:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:29:14 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:30:05 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:30:05 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 16:30:05 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:30:05 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:30:05 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 16:30:05 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 16:30:12 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:30:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:30:12 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:30:25 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:U2m687Fyeuqz6rfSSLjViKJidNkXSBL70dOQZ-nID32FfFJxx75JGXhem4gtzpg8wu2bbhvz7V-9hqlrFPUaTDh6pWBBu6fo8SbZN1LJxco
2016:10:07 16:30:25 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:wNBAM1R5pLJl8rSFVoRAKf5ZrH0gjxyb4R6GXImqna6vuw0xL5ockbOYIr7uvclKlyelnRxYlTjopxcC8dhcMbnJZCnl8K3WBdsoVxBmup8
2016:10:07 16:30:27 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:ertqKlhRmE9ef5rS_MaTFJSh9lAsCRohh3v9BCNCT4z-YOO6-UxNj6UGWiF0mkrAUI7JVYSEuyP6A_Vm5RE_9OdIZIJBj-fnrIWD9nniEkw
2016:10:07 16:30:27 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:wk8PDgObq-EbXvdryeXKb88uEYNwKW1LYPONKK6GkK8k53jPodFJoWX39B8NpQuEZgpWa_9AuGe7f8XR121C0Nj1iC_DQcy35MbfQbWaaPY
2016:10:07 16:33:17 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:33:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 16:33:17 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:33:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:33:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 16:33:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 16:33:33 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:33:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 16:33:33 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:33:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:33:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 16:33:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 16:33:39 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:33:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 16:33:39 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:33:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:33:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 16:33:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 16:33:46 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:33:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 16:33:46 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:33:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:33:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 16:33:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 16:34:04 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:34:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 16:34:04 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:34:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:34:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 16:34:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.001.
2016:10:07 16:35:56 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:35:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:35:56 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:39:03 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:yA6zLX05U33VJfM5Fz8bBF6wOyYqHyPkYccSGsNhVHZb7GUNWW1ngYSa0G_v4h599BuFSDrPFeroPSNxDvfHWlu6SYaaMior71wBcMsyung
2016:10:07 16:39:03 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:RX1oXF51FxzuhPccr2l3NoWqVisw4l23NyS4uaTgOvcnFwENPdkZuu71hL3D1ogXaVoAEw3qmj0pcjX3FkDOXuH5wMXgcfpX4-vgCuwvEWM
2016:10:07 16:45:15 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [27.46.137.60] POST:<QueryDict: {u'openid': [u''], u'name': [u'123'], u'gender': [u'male'], u'age': [u'1'], u'phone': [u'12345678911'], u'actid': [u'38']}>, GET:<QueryDict: {}>, args:()
2016:10:07 16:45:15 22358 140139179955968 [ERROR activities_sign 381] openid is empty. [openid: actid:38]
2016:10:07 16:45:29 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:45:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 16:45:29 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:45:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:45:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 16:45:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 16:46:10 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:46:10 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 16:46:11 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:46:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:46:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 16:46:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 16:46:13 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:46:13 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:46:13 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:46:38 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:CIrkZ8PMmITAkRvnBpz2FJ0I88lsZX8Y_EbNt72kDtrxr2mW9Lg8h0o1Vojj-whrD2K4FBaT-Gw6nIIpoHQGN-vJ0B1l0Ne0xxKjFT17RX0
2016:10:07 16:46:38 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:Z8N9ak3Gzmb94O6w7trk6KO3l2RGNI8EWOazg30bEEqkQ_1v1KyvskbzBg4QZ44xYWEPcnnRfUY-678qnfSAozcmmdfIiPgK76hQeaejrPM
2016:10:07 16:47:12 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:47:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 16:47:12 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:47:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:47:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 16:47:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 16:47:16 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:47:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:47:16 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:47:54 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:47:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 16:47:54 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:47:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:47:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 16:47:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 16:48:07 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:48:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 16:48:07 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:48:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:48:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 16:48:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 16:48:09 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:48:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:48:09 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:48:14 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:48:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:48:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 16:48:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 16:48:33 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'82']}>, args:()
2016:10:07 16:48:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=82;, count:1, time:0.001.
2016:10:07 16:48:33 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'82']}>, args:()
2016:10:07 16:48:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=82 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:48:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=82;, count:1, time:0.000.
2016:10:07 16:48:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=82 and status=1;, count:0, time:0.000.
2016:10:07 16:48:35 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:48:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:48:35 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:48:42 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'82']}>, args:()
2016:10:07 16:48:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=82 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:48:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=82;, count:1, time:0.000.
2016:10:07 16:48:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=82 and status=1;, count:0, time:0.000.
2016:10:07 16:49:17 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'82']}>, args:()
2016:10:07 16:49:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=82;, count:1, time:0.001.
2016:10:07 16:49:17 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'82']}>, args:()
2016:10:07 16:49:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=82 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:49:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=82;, count:1, time:0.000.
2016:10:07 16:49:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=82 and status=1;, count:0, time:0.000.
2016:10:07 16:49:32 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:49:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:49:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 16:49:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 16:49:32 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:49:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 16:49:33 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:ArrdENXQGILD0FzTenzNIVMAyjNg8Cx9YiNDVi0SIbZA6tgbWJHpVrvnzPBLyFVzMjQvLHW4orSurygxpGmbqUvJp9w3BWHP7FQJAHp-r08
2016:10:07 16:49:33 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:ZH3X8Dvtyi9QV7ttWmbLzE3rJHjqW70sAZyR70N4cW6DtjDvag1FetUfWSbOu7iUZua_AXgCmJ6yuOEtPy4_qOM0o8c_y-lUvpjoxnqevrE
2016:10:07 16:49:34 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:49:34 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:49:34 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:49:39 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 16:49:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:49:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 16:49:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 16:52:18 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:52:18 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:52:18 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:52:32 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 16:52:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 16:52:32 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 16:52:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:52:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 16:52:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 16:52:35 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 16:52:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 16:52:35 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 16:53:39 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 16:53:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 16:53:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 16:53:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 16:54:18 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:x72vYiwKiJdLbUstjgKvIsEIrYLQCP5I9GsTz8dUWOsvBAsiAbmRG-C13txys2t3uYn2uRgFJQj005_CBLbuJxahwUTBNR1SPpF5nSBeb60
2016:10:07 16:54:18 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:1DQqBwPrkv_fiQJkeDLs0ooS6f4l4cO6LjGWx-kqGJ4KGjAY4TQiWj6Y6DCRWSXbV6di5BPlK0T4-_qy3TQ7Yv2_lJfB43WYqkSM9QHxZj8
2016:10:07 17:00:15 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:00:15 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:00:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 17:00:15 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 17:00:15 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 17:00:15 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 17:00:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 17:00:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 17:00:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 17:01:55 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:01:55 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 17:01:55 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:01:55 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 17:01:55 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 17:01:55 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 17:01:55 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 17:01:55 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 17:01:55 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 17:02:16 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:02:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 17:02:16 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:02:16 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 17:02:16 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 17:02:16 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 17:02:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 17:02:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 17:02:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 17:02:25 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:02:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 17:02:25 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:02:25 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 17:02:25 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 17:02:25 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 17:02:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 17:02:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 17:02:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 17:02:32 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:02:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 17:02:32 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 17:02:32 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 17:02:32 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 17:02:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 17:02:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 17:02:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 17:02:32 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:02:38 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:02:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:02:38 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:02:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:02:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:02:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:02:56 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:02:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:02:56 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:03:12 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:03:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:03:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:03:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:03:12 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:03:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:04:09 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:04:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:04:09 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:04:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:04:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:04:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:04:56 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:04:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:04:56 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:04:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:04:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:04:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:05:07 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:05:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:05:07 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:05:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:05:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:05:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:05:15 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:05:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:05:15 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:05:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:05:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:05:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:05:57 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:05:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:05:57 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:05:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:05:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:05:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:08:36 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:08:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:08:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:08:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.001.
2016:10:07 17:08:36 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:08:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:09:57 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:09:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:09:57 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:09:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:09:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:09:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:10:07 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:10:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:10:07 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:10:25 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:10:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:10:25 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:10:30 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:FbJ7zu5eqUKMLX2OwN5Dy4blAPG0aOf5YsEhQVmGfgxk8CJXVep9_9gxteajcnmtyr6RX7FLYsvEMAUhTdAufTXtqiSMtpMGY6HO1ihbz68
2016:10:07 17:10:30 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:5VTXVP7NHWeIrsbBDRVyLd6vcirhv3sWi8CLoTm-e89cWmzqgidOgHETXpH3eMVaHxK8nU5iM7wym7jU5_yGwY7fKDbk0Zyq-al8kKubPXc
2016:10:07 17:10:55 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:10:55 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:10:55 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:10:57 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 17:10:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 17:11:19 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 17:11:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 17:11:32 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 17:11:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 17:11:44 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 17:11:44 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 17:11:47 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 17:11:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 17:11:55 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 17:11:55 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 17:12:03 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 17:12:03 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 17:12:38 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:12:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:12:38 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:14:13 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:14:13 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:14:13 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:14:29 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:14:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:14:29 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:14:39 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:14:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:14:39 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:14:51 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:14:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:14:51 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:16:17 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:16:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:16:17 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:16:38 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:16:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:16:38 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:17:02 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:17:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:17:02 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:17:53 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'2']}>, args:()
2016:10:07 17:17:53 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=2;, count:1, time:0.001.
2016:10:07 17:17:53 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'2']}>, args:()
2016:10:07 17:17:53 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=2 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:17:53 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=2;, count:1, time:0.000.
2016:10:07 17:17:53 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=2 and status=1;, count:0, time:0.000.
2016:10:07 17:19:00 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:G6_rOddmEkzTBfD1rYGBChiz72-DPKcZ1Kl_NLJ2Wqx4DZhDCAzG2VDw3huHBnPrg3F8rcd7GSN27_hm3sdmEzBpUUkHTlmGXtIv1eAHJFw
2016:10:07 17:19:00 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:fl1GS1tWjZLQdK3e8RW5s1y3v3duKcZ7fnwXeuB57sgdFU1_18gAUSUyT3_4HR1hoIWVqzcaGBzSA-unZ7osb7AkJE4aHB-DowRnLAJC5us
2016:10:07 17:19:08 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:19:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:19:08 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:19:49 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:19:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:19:49 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:23:59 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:23:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:23:59 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:24:39 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:24:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:24:39 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:24:56 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:24:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:24:56 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:25:32 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:25:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:25:32 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:28:26 22358 140139179955968 [INFO wrapper 75] >>>activities_reset_collection<<< [27.46.137.60] POST:<QueryDict: {u'openid': [u'']}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:28:26 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数collid不能为空.
2016:10:07 17:29:05 22358 140139179955968 [INFO wrapper 75] >>>activities_reset_collection<<< [27.46.137.60] POST:<QueryDict: {u'openid': [u'']}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:29:05 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数collid不能为空.
2016:10:07 17:30:28 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:30:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:30:28 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:30:31 22358 140139179955968 [INFO wrapper 75] >>>activities_reset_collection<<< [27.46.137.60] POST:<QueryDict: {u'openid': [u'']}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:30:31 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数collid不能为空.
2016:10:07 17:30:49 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:30:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:30:49 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:30:53 22358 140139179955968 [INFO wrapper 75] >>>activities_reset_collection<<< [27.46.137.60] POST:<QueryDict: {u'openid': [u'']}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:30:53 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数collid不能为空.
2016:10:07 17:31:16 22358 140139179955968 [INFO wrapper 75] >>>activities_reset_collection<<< [27.46.137.60] POST:<QueryDict: {u'openid': [u'']}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:31:16 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数collid不能为空.
2016:10:07 17:31:45 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:31:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:31:45 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:32:01 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:32:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:32:01 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:32:18 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:32:18 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:32:18 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:32:24 22358 140139179955968 [INFO wrapper 75] >>>activities_reset_collection<<< [27.46.137.60] POST:<QueryDict: {u'openid': [u'']}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:32:24 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数collid不能为空.
2016:10:07 17:32:24 22358 140139179955968 [INFO wrapper 75] >>>activities_reset_collection<<< [27.46.137.60] POST:<QueryDict: {u'openid': [u'']}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:32:24 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数collid不能为空.
2016:10:07 17:32:30 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'2']}>, args:()
2016:10:07 17:32:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=2;, count:1, time:0.001.
2016:10:07 17:32:30 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'2']}>, args:()
2016:10:07 17:32:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=2 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:32:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=2;, count:1, time:0.000.
2016:10:07 17:32:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=2 and status=1;, count:0, time:0.000.
2016:10:07 17:33:25 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:33:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:33:25 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:33:43 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 17:33:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 17:33:43 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:33:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.000.
2016:10:07 17:33:43 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:34:24 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 17:34:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 17:34:24 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:34:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.000.
2016:10:07 17:34:24 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:34:38 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 17:34:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 17:34:38 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:34:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.000.
2016:10:07 17:34:38 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:34:48 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 17:34:48 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 17:34:48 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:34:48 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:34:48 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:35:25 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:35:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:35:25 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:35:33 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:35:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:35:33 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:35:34 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 17:35:34 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 17:35:53 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 17:35:53 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 17:35:53 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:35:53 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.000.
2016:10:07 17:35:53 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:35:59 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:35:59 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:35:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 17:35:59 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 17:35:59 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 17:35:59 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 17:35:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 17:35:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 17:35:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 17:36:02 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:36:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:36:02 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:36:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:36:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:36:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:36:16 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:36:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:36:16 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:36:30 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:36:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:36:30 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:36:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:36:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:36:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:36:35 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:36:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:36:35 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:36:44 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:36:44 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:36:44 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:36:44 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:36:44 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:36:44 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:37:01 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:37:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:37:01 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:37:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:37:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:37:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:37:25 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:37:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:37:25 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:37:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:37:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:37:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:37:45 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:37:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:37:45 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:40:01 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:40:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:40:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:40:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:40:01 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:40:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:40:19 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:40:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:40:19 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:40:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:40:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:40:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:41:16 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:41:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:41:16 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:41:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:41:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:41:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:41:25 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [115.28.122.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 17:43:28 22358 140139179955968 [INFO wrapper 75] >>>activities_mycollections<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 17:43:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 17:43:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 17:43:30 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 17:43:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 17:43:32 22358 140139179955968 [INFO wrapper 75] >>>activities_mycollections<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 17:43:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 17:43:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 17:53:30 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:53:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:53:30 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:53:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:53:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:53:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:53:54 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:53:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:53:54 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:53:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:53:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:53:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:54:09 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:54:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:54:09 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:54:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:54:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:54:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:54:10 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:54:10 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:54:10 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:57:54 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:57:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:57:54 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:57:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:57:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:57:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 17:57:56 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 17:57:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 17:57:56 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 17:59:41 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:59:41 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 17:59:41 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 17:59:41 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 17:59:41 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 17:59:41 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 18:05:04 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:05:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.002.
2016:10:07 18:05:04 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:05:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 18:05:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 18:05:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 18:05:07 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 18:05:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 18:05:07 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 18:05:15 22358 140139097212672 [INFO _update_base_access_token 982] [TOKEN] update base_access_token: GH4MpJayFqWUdoqJ87dSfDCn4T-tEZEWY9BJExC8aNwaIDRetBYmyKUIE9AtHfP7x_YQi2ufFT4wBnLGmFmdvSfwRR90ypNNytyFDbTFa4KFDp8IClSzl4UUsCCjcLd8GKUaAFAKOY
2016:10:07 18:06:48 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:06:48 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 18:06:49 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:06:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 18:06:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 18:06:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 18:06:54 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 18:06:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 18:06:54 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 18:08:37 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 18:08:37 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 18:08:37 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 18:08:37 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 18:08:37 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 18:08:37 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 18:08:40 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 18:08:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 18:08:40 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 18:09:04 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [121.42.0.14] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:09:25 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:09:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 18:09:26 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:09:26 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 18:09:26 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 18:09:26 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 18:09:28 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 18:09:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 18:09:28 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 18:10:27 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 18:10:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 18:10:27 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 18:10:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 18:10:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 18:10:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 18:10:29 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 18:10:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 18:10:29 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 18:11:48 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:11:48 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 18:11:48 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:11:48 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 18:11:48 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 18:11:48 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 18:11:50 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 18:11:50 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 18:11:50 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 18:11:51 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:olUEjs2yC4cxy5tw3ZFALGZKs6APTiWOAS1Die0slIi7rqgI6OZ7Z9rt8egn4eWBwpa0bohB8lOLRGfhllsxlt_CzgpTZFS6jKVhqHGfodQ
2016:10:07 18:11:51 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:sc-nGOckSg55rltrjo8TH7YDnRQ6pbZ04CikkZ82Ta1wJRKskQBGuTFSHg0eQSGBYgZPU7RtcOI-872lPuMXF_wOeqW9OhGXMX2qOnq33uM
2016:10:07 18:12:21 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:12:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 18:12:21 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:12:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 18:12:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 18:12:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 18:12:23 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 18:12:23 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 18:12:23 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 18:12:44 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 18:12:44 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 18:12:44 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 18:12:44 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 18:12:44 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 18:12:44 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 18:12:47 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 18:12:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 18:12:47 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 18:13:32 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 18:13:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 18:13:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 18:13:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 18:13:32 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'38']}>, args:()
2016:10:07 18:13:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 18:13:35 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 18:13:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 18:13:35 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 18:13:49 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'name': [u'qwe'], u'gender': [u'male'], u'age': [u'1'], u'phone': [u'12345678911'], u'actid': [u'38']}>, args:()
2016:10:07 18:13:49 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数phone不能为空.
2016:10:07 18:14:01 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:14:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 18:14:01 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:14:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 18:14:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 18:14:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 18:14:04 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 18:14:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 18:14:04 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 18:14:26 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'major': [u'\u58f0\u4e50'], u'name': [u'123'], u'identity_card': [u'121231231231231231'], u'gender': [u'male'], u'age': [u'4'], u'teacher': [u'12123'], u'phone': [u'12345678911'], u'program': [u'123123'], u'company_tel': [u'12312312312'], u'kids_name': [u'123'], u'teacher_phone': [u'12311111111'], u'images': [u''], u'awards': [u''], u'company': [u'123123'], u'actid': [u'90'], u'match_class': [u'\u5e7c\u513f\u7ec4\uff08\u5b66\u9f84\u524d\uff09']}>, args:()
2016:10:07 18:14:26 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数phone不能为空.
2016:10:07 18:14:49 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'major': [u'\u58f0\u4e50'], u'name': [u'123'], u'identity_card': [u'121231231231231231'], u'gender': [u'male'], u'age': [u'4'], u'teacher': [u'12123'], u'phone': [u'12345678911'], u'program': [u'123123'], u'company_tel': [u'12312312312'], u'kids_name': [u'123'], u'teacher_phone': [u'12311111111'], u'images': [u''], u'awards': [u''], u'company': [u'123123'], u'actid': [u'90'], u'match_class': [u'\u5e7c\u513f\u7ec4\uff08\u5b66\u9f84\u524d\uff09']}>, args:()
2016:10:07 18:14:49 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数phone不能为空.
2016:10:07 18:14:52 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:14:52 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 18:14:52 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:14:52 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 18:14:52 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 18:14:52 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 18:14:54 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 18:14:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 18:14:54 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 18:16:23 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:16:23 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 18:16:23 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:16:23 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 18:16:23 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 18:16:23 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 18:16:33 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:ze1tFfwo0MEiEzJSG52PUF7eow0pGugoOBmno__44FLyghFj8Qc11sSe-WYZyvjZgwlrBlLkurq3jPa2aNk6bMO1wTnTgFLpGFwOpiWWlwk
2016:10:07 18:16:33 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:uVcoYmd3NnsE6BPPkvMp68jFp8ThzOU_Fy9MxU3N2qjow5Y1MBYT5ZKeT9YaBHEmY490PsxEk8NLk8bFurH7Z-cZMISFta2qFtuHcoi_mzg
2016:10:07 18:18:27 22358 140139097212672 [INFO _update_js_signature 1030] [TOKEN] update js_signature:kgt8ON7yVITDhtdwci0qedWxJyz1VVx-TqXRisJtz8fMDNFUdwcrxS-SaGPfrgLVXLP2R4GFBJY5OvKVYV9lnA 7200
2016:10:07 18:18:46 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:18:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 18:18:46 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:18:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 18:18:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 18:18:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 18:19:21 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:19:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 18:19:21 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:19:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 18:19:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 18:19:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 18:20:25 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:20:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 18:20:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 18:20:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 18:20:25 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 18:20:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 18:22:12 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:xXQZorydOKK8qE76CpBnDW2MA2kvBctoq5OrnDpWvhvBoTojEpdT7dSW_gTA-KN4iSn_q3ngHK_RoTXgZAauZP66e9g5pT6qy1ZAGQYRs3I
2016:10:07 18:22:12 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:sg1BVvuiteGW4eNyW4Y5Jy9HsBwlsh6HPNqZIC94Yux78ZMa8qbHeecpZP4cnzd81DbDZN84PaHDkkmLXy83wremaqYAoQrNz_NOTjIngc0
2016:10:07 18:29:41 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:U2m687Fyeuqz6rfSSLjViKJidNkXSBL70dOQZ-nID32FfFJxx75JGXhem4gtzpg8wu2bbhvz7V-9hqlrFPUaTDh6pWBBu6fo8SbZN1LJxco
2016:10:07 18:29:41 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:wNBAM1R5pLJl8rSFVoRAKf5ZrH0gjxyb4R6GXImqna6vuw0xL5ockbOYIr7uvclKlyelnRxYlTjopxcC8dhcMbnJZCnl8K3WBdsoVxBmup8
2016:10:07 18:29:42 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:ertqKlhRmE9ef5rS_MaTFJSh9lAsCRohh3v9BCNCT4z-YOO6-UxNj6UGWiF0mkrAUI7JVYSEuyP6A_Vm5RE_9OdIZIJBj-fnrIWD9nniEkw
2016:10:07 18:29:42 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:wk8PDgObq-EbXvdryeXKb88uEYNwKW1LYPONKK6GkK8k53jPodFJoWX39B8NpQuEZgpWa_9AuGe7f8XR121C0Nj1iC_DQcy35MbfQbWaaPY
2016:10:07 18:33:48 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.155] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1512423844'], u'timestamp': [u'1475836428'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'signature': [u'd0f7e5c21d132b54fdeeff121a87a18bb4674e84']}>, args:()
2016:10:07 18:33:48 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwX75E_sQR8AQfkzoa94E5rM, msg:event_LOCATION, bodylen:341
2016:10:07 18:33:48 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='越秀区';, count:1, time:0.001.
2016:10:07 18:33:48 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.000.
2016:10:07 18:33:48 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010200,position_details='广州市 越秀区 恒福路' where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.016.
2016:10:07 18:33:50 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.155] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'185733537'], u'timestamp': [u'1475836430'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'signature': [u'fa419e773c049a28a7b59f141260272f126fe4ac']}>, args:()
2016:10:07 18:33:50 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwX75E_sQR8AQfkzoa94E5rM, msg:event_VIEW, bodylen:511
2016:10:07 18:33:51 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [14.17.44.215] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:34:03 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:34:03 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:34:03 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 18:34:03 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041VX7wd03BWwG1V5tud0qs2wd0VX7wO']}>, args:()
2016:10:07 18:34:04 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwX75E_sQR8AQfkzoa94E5rM: fMMNNiTzPN3MqGt35vTQ4YkLi1X5YerYh9fNk4LVNNayxrpTnY73Rq2GpsmBTzM5KsFsKi5aZlqCEtr6vwrZfl7aJbi-AXnaYH3pcuAJVYA 7200
2016:10:07 18:34:04 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwX75E_sQR8AQfkzoa94E5rM: dfc-eZtXtDgxweTb16XrLKV9afylixX7IOJiwS9LmgKwfSVT5ostaOyUFtqD-LfaOs_ThvdfRDKFVfCfCIBl5lEIxyOIoyIKa-FlN-LjlfQ 8640000
2016:10:07 18:34:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 18:34:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.000.
2016:10:07 18:34:04 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Gamma老锅',gender='male',img='http://wx.qlogo.cn/mmopen/Jreh0PUDb40pu5TFftibxy5GiboB4ppjMsKtTVGCVyA7pW56ZSfiafBdUxYhmvlED1toAd0vAY6BVUPrGbIAqM9yyrMl1z7hq91/0',status=1 where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:0, time:0.000.
2016:10:07 18:34:04 22358 140139179955968 [INFO get_openid 1331] return openid. 041VX7wd03BWwG1V5tud0qs2wd0VX7wO -> {'openid': u'oYgYJwX75E_sQR8AQfkzoa94E5rM', 'errcode': 0, 'errmsg': ''}
2016:10:07 18:34:04 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 18:34:04 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 18:34:04 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 18:34:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM', count:1, time:0.001.
2016:10:07 18:34:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010200 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010200 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.004.
2016:10:07 18:34:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 18:34:09 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'actid': [u'90']}>, args:()
2016:10:07 18:34:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 18:34:09 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'actid': [u'90']}>, args:()
2016:10:07 18:34:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwX75E_sQR8AQfkzoa94E5rM' and a.act_id=90 and a.status=1 and b.status=1;, count:3, time:0.001.
2016:10:07 18:34:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 18:34:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 18:34:09 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 18:35:39 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.149] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'144399597'], u'timestamp': [u'1475836539'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'signature': [u'6a998c3cddb11158dd2fc011a1ffadd96f548f03']}>, args:()
2016:10:07 18:35:39 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwX75E_sQR8AQfkzoa94E5rM, msg:event_LOCATION, bodylen:341
2016:10:07 18:35:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='越秀区';, count:1, time:0.001.
2016:10:07 18:35:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.000.
2016:10:07 18:35:39 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010200,position_details='广州市 越秀区 恒福路恒福路270号' where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.017.
2016:10:07 18:35:40 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'2079895722'], u'timestamp': [u'1475836540'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'signature': [u'362132d4eb952f69981f746216f4d91c5f313ce1']}>, args:()
2016:10:07 18:35:40 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwX75E_sQR8AQfkzoa94E5rM, msg:event_VIEW, bodylen:511
2016:10:07 18:36:11 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:36:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 18:36:11 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:36:11 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'021qN7Z12OzfJ21swP1222S2Z12qN7ZA']}>, args:()
2016:10:07 18:36:11 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwX75E_sQR8AQfkzoa94E5rM: UmOjVbw-IpkTdYvN7egCWR8iQh-x1g6kAzEE4GaLlSMgX6k3ESlmubLmQxmfYuWL8bT7AE31Pq8_ei99d7oIK7U9atGhyhDENFK9-LK7Jcw 7200
2016:10:07 18:36:11 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwX75E_sQR8AQfkzoa94E5rM: 7iJcPjMPD8YS65P6dPJLqIbT1A0izY8IDTGwLClF2vRuUM4TS7lO0K9m19ueQQETw4KQD99slTljLzv1TIeOp6VMLKyw05ewm5iCCT_Q4do 8640000
2016:10:07 18:36:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 18:36:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.000.
2016:10:07 18:36:12 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Gamma老锅',gender='male',img='http://wx.qlogo.cn/mmopen/Jreh0PUDb40pu5TFftibxy5GiboB4ppjMsKtTVGCVyA7pW56ZSfiafBdUxYhmvlED1toAd0vAY6BVUPrGbIAqM9yyrMl1z7hq91/0',status=1 where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:0, time:0.000.
2016:10:07 18:36:12 22358 140139179955968 [INFO get_openid 1331] return openid. 021qN7Z12OzfJ21swP1222S2Z12qN7ZA -> {'openid': u'oYgYJwX75E_sQR8AQfkzoa94E5rM', 'errcode': 0, 'errmsg': ''}
2016:10:07 18:36:12 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 18:36:12 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 18:36:12 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 18:36:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM', count:1, time:0.001.
2016:10:07 18:36:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010200 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010200 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 18:36:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 18:36:15 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'actid': [u'90']}>, args:()
2016:10:07 18:36:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.002.
2016:10:07 18:36:15 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'actid': [u'90']}>, args:()
2016:10:07 18:36:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwX75E_sQR8AQfkzoa94E5rM' and a.act_id=90 and a.status=1 and b.status=1;, count:3, time:0.001.
2016:10:07 18:36:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.001.
2016:10:07 18:36:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 18:36:16 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 18:36:19 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM']}>, args:()
2016:10:07 18:36:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.001.
2016:10:07 18:36:19 22358 140139179955968 [INFO wrapper 75] >>>get_uploadtoken<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475836574554.jpg']}>, args:()
2016:10:07 18:36:19 22358 140139179955968 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475836574554.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:BS7SFANF0WXiJHDsbFyg2S2GWlQ=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODM2NTc0NTU0LmpwZyIsImRlYWRsaW5lIjoxNDc1ODQwMTc5fQ== 
2016:10:07 18:38:09 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:yA6zLX05U33VJfM5Fz8bBF6wOyYqHyPkYccSGsNhVHZb7GUNWW1ngYSa0G_v4h599BuFSDrPFeroPSNxDvfHWlu6SYaaMior71wBcMsyung
2016:10:07 18:38:09 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:RX1oXF51FxzuhPccr2l3NoWqVisw4l23NyS4uaTgOvcnFwENPdkZuu71hL3D1ogXaVoAEw3qmj0pcjX3FkDOXuH5wMXgcfpX4-vgCuwvEWM
2016:10:07 18:38:32 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [121.32.12.173] POST:<QueryDict: {u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'major': [u'\u58f0\u4e50'], u'name': [u'Gamma\u8001\u9505'], u'identity_card': [u'333333333333333333'], u'gender': [u'male'], u'age': [u'1'], u'teacher': [u'\u94c3\u6728'], u'phone': [u'15800027800'], u'program': [u'\u5409\u6797'], u'company_tel': [u'11111122222'], u'kids_name': [u'\u963f\u5b9d'], u'teacher_phone': [u'22222222222'], u'images': [u'http://img.6skills.com/custom-sign-1475836574554.jpg?1475836650607'], u'awards': [u''], u'company': [u'\u6765\u54af\u4e2a'], u'actid': [u'90'], u'match_class': [u'\u5e7c\u513f\u7ec4\uff08\u5b66\u9f84\u524d\uff09']}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:38:32 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数city不能为空.
2016:10:07 18:38:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_details from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.001.
2016:10:07 18:38:32 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数birthdate不能为空.
2016:10:07 18:38:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 18:38:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select quantities_remain,img_qrcode from 6s_activity where id=90 and status=1;, count:1, time:0.000.
2016:10:07 18:38:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.000.
2016:10:07 18:38:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select id,wechat from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM' and status=1;, count:1, time:0.000.
2016:10:07 18:38:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_signup where user_id=1117 and act_id=90 and status=1;, count:1, time:0.000.
2016:10:07 18:38:32 22358 140139179955968 [ERROR activities_sign 482] 您已经对该活动报过名.  act:90,u:1117.
2016:10:07 18:38:39 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.150] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1196361044'], u'timestamp': [u'1475836719'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'signature': [u'737cd8ebdec64ba2c8c5bd342e4f214402d47d58']}>, args:()
2016:10:07 18:38:39 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwX75E_sQR8AQfkzoa94E5rM, msg:event_LOCATION, bodylen:341
2016:10:07 18:38:45 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'425412990'], u'timestamp': [u'1475836725'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'signature': [u'b4f7a6c65a2cbcd7ba37e2c01ebbf9164b1a3605']}>, args:()
2016:10:07 18:38:45 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwX75E_sQR8AQfkzoa94E5rM, msg:event_LOCATION, bodylen:341
2016:10:07 18:42:08 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'825546489'], u'timestamp': [u'1475836928'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'signature': [u'054d78cb8358efcabd367a3cdf8d04465c8ef705']}>, args:()
2016:10:07 18:42:08 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwX75E_sQR8AQfkzoa94E5rM, msg:event_LOCATION, bodylen:341
2016:10:07 18:42:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='越秀区';, count:1, time:0.001.
2016:10:07 18:42:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.000.
2016:10:07 18:42:08 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010200,position_details='广州市 越秀区 恒福路恒福路270号' where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:0, time:0.000.
2016:10:07 18:42:08 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwX75E_sQR8AQfkzoa94E5rM 101010200
2016:10:07 18:42:08 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.150] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'471133628'], u'timestamp': [u'1475836928'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'signature': [u'3aec77e225002ed213a5bc1f461945fb344c26e0']}>, args:()
2016:10:07 18:42:08 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwX75E_sQR8AQfkzoa94E5rM, msg:event_VIEW, bodylen:511
2016:10:07 18:42:09 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:42:09 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041yOmbf00VOVE1yyH9f0Fckbf0yOmbO']}>, args:()
2016:10:07 18:42:09 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwX75E_sQR8AQfkzoa94E5rM: xQQmScsWAZGtEWuZdN1UC0OgQ7oNXvnANDOI3jd7z7eNB6stki28V-XyNjsLZfjlSEFbNdM4dhRb6rQh-lj_zQzQfgwgqfTlNPFX7pmnkG4 7200
2016:10:07 18:42:09 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwX75E_sQR8AQfkzoa94E5rM: CAwBgg8oW8-phFH5dkAH98FDmhx7BtRwN8fZbgyJETi5xYrQ0NJRaCTCvQPDqBUKmstCOJf0TyA4ovJOZlPm2u9sWhRRRbppOdAfAB4gSkA 8640000
2016:10:07 18:42:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 18:42:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.000.
2016:10:07 18:42:09 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Gamma老锅',gender='male',img='http://wx.qlogo.cn/mmopen/Jreh0PUDb40pu5TFftibxy5GiboB4ppjMsKtTVGCVyA7pW56ZSfiafBdUxYhmvlED1toAd0vAY6BVUPrGbIAqM9yyrMl1z7hq91/0',status=1 where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:0, time:0.000.
2016:10:07 18:42:09 22358 140139179955968 [INFO get_openid 1331] return openid. 041yOmbf00VOVE1yyH9f0Fckbf0yOmbO -> {'openid': u'oYgYJwX75E_sQR8AQfkzoa94E5rM', 'errcode': 0, 'errmsg': ''}
2016:10:07 18:42:09 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:42:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 18:42:09 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 18:42:09 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 18:42:09 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 18:42:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM', count:1, time:0.001.
2016:10:07 18:42:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010200 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010200 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 18:42:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 18:42:30 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:42:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 18:42:30 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:42:30 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'0016bVYk1eZR3z0w6qXk15Z0Zk16bVYH']}>, args:()
2016:10:07 18:42:30 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwX75E_sQR8AQfkzoa94E5rM: GDydBRgquN0WNmAxJcRsfcy_Rtx3T7AnuAUDB8rQvfDMWTKjYMLowxZ9a2fcJBWSfOsisuR94OinYt44Nv7dmWCpMzwnEmIZpWLUkgRHEiY 7200
2016:10:07 18:42:30 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwX75E_sQR8AQfkzoa94E5rM: fMMNNiTzPN3MqGt35vTQ4a3TBIuLis11RUztHG_uSjXokHymbx6lyRi5JhUuRFnHdTb2zVJ9vU5nHqav360J6HTx0CfCrIl38KkU_M68i0k 8640000
2016:10:07 18:42:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 18:42:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.000.
2016:10:07 18:42:31 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Gamma老锅',gender='male',img='http://wx.qlogo.cn/mmopen/Jreh0PUDb40pu5TFftibxy5GiboB4ppjMsKtTVGCVyA7pW56ZSfiafBdUxYhmvlED1toAd0vAY6BVUPrGbIAqM9yyrMl1z7hq91/0',status=1 where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:0, time:0.000.
2016:10:07 18:42:31 22358 140139179955968 [INFO get_openid 1331] return openid. 0016bVYk1eZR3z0w6qXk15Z0Zk16bVYH -> {'openid': u'oYgYJwX75E_sQR8AQfkzoa94E5rM', 'errcode': 0, 'errmsg': ''}
2016:10:07 18:42:31 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [121.32.12.173] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 18:42:31 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 18:42:31 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 18:42:31 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM', count:1, time:0.001.
2016:10:07 18:42:31 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010200 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010200 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.006.
2016:10:07 18:42:31 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 18:45:40 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:CIrkZ8PMmITAkRvnBpz2FJ0I88lsZX8Y_EbNt72kDtrxr2mW9Lg8h0o1Vojj-whrD2K4FBaT-Gw6nIIpoHQGN-vJ0B1l0Ne0xxKjFT17RX0
2016:10:07 18:45:40 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:Z8N9ak3Gzmb94O6w7trk6KO3l2RGNI8EWOazg30bEEqkQ_1v1KyvskbzBg4QZ44xYWEPcnnRfUY-678qnfSAozcmmdfIiPgK76hQeaejrPM
2016:10:07 18:46:15 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:46:15 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 18:46:15 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 18:46:15 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 18:46:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 18:46:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.004.
2016:10:07 18:46:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 18:46:16 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:46:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.000.
2016:10:07 18:49:26 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:ArrdENXQGILD0FzTenzNIVMAyjNg8Cx9YiNDVi0SIbZA6tgbWJHpVrvnzPBLyFVzMjQvLHW4orSurygxpGmbqUvJp9w3BWHP7FQJAHp-r08
2016:10:07 18:49:26 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:ZH3X8Dvtyi9QV7ttWmbLzE3rJHjqW70sAZyR70N4cW6DtjDvag1FetUfWSbOu7iUZua_AXgCmJ6yuOEtPy4_qOM0o8c_y-lUvpjoxnqevrE
2016:10:07 18:51:08 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:51:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 18:51:08 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:51:08 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 18:51:08 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 18:51:08 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 18:51:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 18:51:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.006.
2016:10:07 18:51:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 18:53:12 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1853332536'], u'timestamp': [u'1475837592'], u'openid': [u'oYgYJwX75E_sQR8AQfkzoa94E5rM'], u'signature': [u'771b2147aaf97007014ff0846529cd9739ecc475']}>, args:()
2016:10:07 18:53:12 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwX75E_sQR8AQfkzoa94E5rM, msg:event_LOCATION, bodylen:341
2016:10:07 18:53:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='越秀区';, count:1, time:0.001.
2016:10:07 18:53:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:1, time:0.000.
2016:10:07 18:53:12 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010200,position_details='广州市 越秀区 恒福路恒福路270号' where openid='oYgYJwX75E_sQR8AQfkzoa94E5rM';, count:0, time:0.000.
2016:10:07 18:53:12 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwX75E_sQR8AQfkzoa94E5rM 101010200
2016:10:07 18:53:38 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:53:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 18:53:38 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:53:38 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 18:53:38 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 18:53:38 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 18:53:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 18:53:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 18:53:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 18:54:08 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:x72vYiwKiJdLbUstjgKvIsEIrYLQCP5I9GsTz8dUWOsvBAsiAbmRG-C13txys2t3uYn2uRgFJQj005_CBLbuJxahwUTBNR1SPpF5nSBeb60
2016:10:07 18:54:08 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:1DQqBwPrkv_fiQJkeDLs0ooS6f4l4cO6LjGWx-kqGJ4KGjAY4TQiWj6Y6DCRWSXbV6di5BPlK0T4-_qy3TQ7Yv2_lJfB43WYqkSM9QHxZj8
2016:10:07 18:56:01 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:56:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 18:56:01 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:56:01 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 18:56:01 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 18:56:01 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 18:56:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 18:56:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.004.
2016:10:07 18:56:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 18:57:04 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:57:04 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:57:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 18:57:04 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 18:57:04 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 18:57:04 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 18:57:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 18:57:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.006.
2016:10:07 18:57:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 18:57:11 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:57:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 18:57:11 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 18:57:11 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 18:57:11 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 18:57:11 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 18:57:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 18:57:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.011.
2016:10:07 18:57:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 18:59:53 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'57']}>, args:()
2016:10:07 18:59:53 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=57;, count:1, time:0.001.
2016:10:07 18:59:53 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'57']}>, args:()
2016:10:07 18:59:53 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=57 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 18:59:53 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=57;, count:1, time:0.000.
2016:10:07 18:59:53 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=57 and status=1;, count:0, time:0.000.
2016:10:07 19:00:34 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 19:00:34 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 19:00:34 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 19:00:34 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 19:00:34 22358 140139179955968 [INFO wrapper 75] >>>get_nearbyareas<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 19:00:34 22358 140139179955968 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=(((select position_id from 6s_user where openid='') div 10000)*10000);, count:0, time:0.001.
2016:10:07 19:00:34 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u821e\u8e48'], u'page': [u'1']}>, args:()
2016:10:07 19:00:34 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:00:34 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:00:34 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '舞蹈' and  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '舞蹈' and  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 0;, count:1, time:0.002.
2016:10:07 19:00:34 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '舞蹈' and  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:00:40 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u821e\u8e48'], u'page': [u'1']}>, args:()
2016:10:07 19:00:40 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:00:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:00:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '舞蹈' and  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '舞蹈' and  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 0;, count:1, time:0.002.
2016:10:07 19:00:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '舞蹈' and  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:00:43 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u4e66\u753b'], u'page': [u'1']}>, args:()
2016:10:07 19:00:43 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:00:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:00:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 0;, count:5, time:0.002.
2016:10:07 19:00:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.002.
2016:10:07 19:00:46 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u4e66\u753b'], u'page': [u'2']}>, args:()
2016:10:07 19:00:46 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:00:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:00:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 10;, count:0, time:0.002.
2016:10:07 19:00:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:00:46 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u4e66\u753b'], u'page': [u'3']}>, args:()
2016:10:07 19:00:46 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:00:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:00:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 20;, count:0, time:0.002.
2016:10:07 19:00:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:00:46 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u4e66\u753b'], u'page': [u'4']}>, args:()
2016:10:07 19:00:46 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:00:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:00:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 30;, count:0, time:0.002.
2016:10:07 19:00:46 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:00:48 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u4e66\u753b'], u'page': [u'5']}>, args:()
2016:10:07 19:00:48 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:00:48 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:00:48 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 40;, count:0, time:0.002.
2016:10:07 19:00:48 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:00:49 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u4e66\u753b'], u'page': [u'6']}>, args:()
2016:10:07 19:00:49 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:00:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:00:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 50;, count:0, time:0.002.
2016:10:07 19:00:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:00:49 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u4e66\u753b'], u'page': [u'7']}>, args:()
2016:10:07 19:00:49 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:00:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:00:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 60;, count:0, time:0.002.
2016:10:07 19:00:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:00:50 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u4e66\u753b'], u'page': [u'8']}>, args:()
2016:10:07 19:00:50 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:00:50 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:00:50 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 70;, count:0, time:0.002.
2016:10:07 19:00:50 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:00:51 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u4e66\u753b'], u'page': [u'9']}>, args:()
2016:10:07 19:00:51 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:00:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:00:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 80;, count:0, time:0.002.
2016:10:07 19:00:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:00:54 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u5168\u90e8'], u'page': [u'1']}>, args:()
2016:10:07 19:00:54 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:00:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:00:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 0;, count:10, time:0.004.
2016:10:07 19:00:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:00:58 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u5168\u90e8'], u'page': [u'2']}>, args:()
2016:10:07 19:00:58 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:00:58 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:00:58 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 10;, count:10, time:0.005.
2016:10:07 19:00:58 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:01:08 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u5168\u90e8'], u'page': [u'1']}>, args:()
2016:10:07 19:01:08 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:01:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:01:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 0;, count:10, time:0.005.
2016:10:07 19:01:08 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:05:33 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [115.28.122.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:08:40 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u5168\u90e8'], u'page': [u'1']}>, args:()
2016:10:07 19:08:40 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:08:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:08:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 0;, count:10, time:0.005.
2016:10:07 19:08:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:08:42 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u5168\u90e8'], u'page': [u'2']}>, args:()
2016:10:07 19:08:42 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:08:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:08:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 10;, count:10, time:0.005.
2016:10:07 19:08:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:18:34 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:G6_rOddmEkzTBfD1rYGBChiz72-DPKcZ1Kl_NLJ2Wqx4DZhDCAzG2VDw3huHBnPrg3F8rcd7GSN27_hm3sdmEzBpUUkHTlmGXtIv1eAHJFw
2016:10:07 19:18:34 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:fl1GS1tWjZLQdK3e8RW5s1y3v3duKcZ7fnwXeuB57sgdFU1_18gAUSUyT3_4HR1hoIWVqzcaGBzSA-unZ7osb7AkJE4aHB-DowRnLAJC5us
2016:10:07 19:22:31 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:22:31 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:22:31 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:22:31 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:22:31 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:22:31 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:22:31 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:22:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 19:22:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:23:11 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:23:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:23:11 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:23:11 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:23:11 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:23:11 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:23:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 19:23:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 19:23:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:23:33 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:23:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:23:33 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:23:33 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:23:33 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:23:33 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:23:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 19:23:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.007.
2016:10:07 19:23:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:24:26 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [63.141.250.156] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:25:22 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:25:22 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:25:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:25:22 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:25:22 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:25:22 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:25:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 19:25:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:25:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:26:28 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:26:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:26:28 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:26:28 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:26:28 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:26:28 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:26:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 19:26:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:26:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:26:49 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:26:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:26:49 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:26:49 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:26:49 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:26:49 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:26:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 19:26:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:26:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:26:59 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:26:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:26:59 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:26:59 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:26:59 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:26:59 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:26:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 19:26:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:26:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:27:29 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:27:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:27:29 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:27:29 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:27:29 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:27:29 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:27:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 19:27:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:27:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:27:33 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:27:33 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:27:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:27:33 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:27:33 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:27:33 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:27:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:27:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 19:27:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:27:40 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:27:40 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:27:40 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:27:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:27:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 19:27:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:28:02 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:28:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:28:02 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:28:02 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:28:02 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:28:02 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:28:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 19:28:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 19:28:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:28:30 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:28:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:28:30 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:28:30 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:28:30 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:28:30 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:28:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:28:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 19:28:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:28:35 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:28:35 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:28:35 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:28:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:28:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 19:28:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:28:40 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:28:40 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:28:40 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:28:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:28:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:28:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:28:51 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:28:51 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:28:51 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:28:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:28:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:28:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:29:04 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:29:04 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:29:04 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:29:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:29:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:29:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:29:09 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:29:09 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:29:09 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:29:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:29:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 19:29:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:30:17 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:30:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:30:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:30:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:30:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 19:30:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:30:23 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:30:23 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:30:23 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:30:23 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:30:23 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 19:30:23 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:30:51 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:30:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:30:51 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:30:51 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:30:51 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:30:51 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:30:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:30:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:30:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:30:55 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:30:55 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:30:55 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:30:55 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:30:55 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 19:30:55 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:34:53 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:34:53 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:34:53 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:34:53 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:34:53 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:34:53 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:38:17 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:38:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:38:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:38:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:38:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:38:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:39:23 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:39:23 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:39:23 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:40:21 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:40:21 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:40:21 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:40:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:40:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:40:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:40:31 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:40:31 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:40:31 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:40:32 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:40:32 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:40:32 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:40:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:40:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:40:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:44:12 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:44:13 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:44:13 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:45:02 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:45:02 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:45:02 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:45:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:45:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:45:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:46:24 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 19:46:24 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 19:46:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.000.
2016:10:07 19:46:24 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 19:46:24 22358 140139179955968 [INFO wrapper 75] >>>get_nearbyareas<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 19:46:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=(((select position_id from 6s_user where openid='') div 10000)*10000);, count:0, time:0.000.
2016:10:07 19:46:24 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u5168\u90e8'], u'page': [u'1']}>, args:()
2016:10:07 19:46:24 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:46:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:46:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 0;, count:10, time:0.005.
2016:10:07 19:46:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:46:37 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 19:46:37 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 19:46:37 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.000.
2016:10:07 19:46:37 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 19:46:37 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u5168\u90e8'], u'page': [u'1']}>, args:()
2016:10:07 19:46:37 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:46:37 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:46:37 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 0;, count:10, time:0.005.
2016:10:07 19:46:37 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:46:39 22358 140139179955968 [INFO wrapper 75] >>>get_nearbyareas<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 19:46:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=(((select position_id from 6s_user where openid='') div 10000)*10000);, count:0, time:0.001.
2016:10:07 19:46:41 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 19:46:41 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 19:46:41 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 19:46:44 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u5168\u90e8'], u'page': [u'2']}>, args:()
2016:10:07 19:46:44 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:46:44 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:46:44 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 10;, count:10, time:0.006.
2016:10:07 19:46:44 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:47:02 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 19:47:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 19:47:02 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 19:47:02 22358 140139179955968 [INFO wrapper 75] >>>get_nearbyareas<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 19:47:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=(((select position_id from 6s_user where openid='') div 10000)*10000);, count:0, time:0.001.
2016:10:07 19:47:02 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 19:48:15 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u5168\u90e8'], u'page': [u'1']}>, args:()
2016:10:07 19:48:15 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:48:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:48:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 0;, count:10, time:0.005.
2016:10:07 19:48:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:48:16 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [45.79.71.122] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:51:10 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:51:10 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:51:10 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:51:11 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:51:11 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:51:11 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:51:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:51:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 19:51:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:51:12 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 19:51:12 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:51:12 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:51:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:51:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.006.
2016:10:07 19:51:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:51:27 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:51:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:51:27 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:51:29 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:51:29 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:51:29 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:51:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:51:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 19:51:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:51:30 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 19:51:30 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:51:30 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:51:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:51:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.005.
2016:10:07 19:51:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:51:49 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'3']}>, args:()
2016:10:07 19:51:49 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:51:49 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:51:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:51:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 10;, count:5, time:0.004.
2016:10:07 19:51:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:51:50 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:51:50 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:51:50 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:51:57 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:51:57 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:51:57 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:51:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:51:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:51:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:51:57 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 19:51:57 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:51:57 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:51:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:51:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.004.
2016:10:07 19:51:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:52:28 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:52:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:52:28 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:52:28 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:52:28 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:52:28 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:52:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 19:52:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 19:52:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:52:29 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 19:52:29 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:52:29 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:52:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:52:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.004.
2016:10:07 19:52:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:52:32 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'3']}>, args:()
2016:10:07 19:52:32 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:52:32 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:52:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:52:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 10;, count:5, time:0.004.
2016:10:07 19:52:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:52:33 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'4']}>, args:()
2016:10:07 19:52:33 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:52:33 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:52:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:52:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 15;, count:5, time:0.005.
2016:10:07 19:52:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:52:35 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'5']}>, args:()
2016:10:07 19:52:35 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:52:35 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:52:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:52:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 20;, count:5, time:0.006.
2016:10:07 19:52:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.003.
2016:10:07 19:52:35 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'6']}>, args:()
2016:10:07 19:52:35 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:52:35 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:52:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:52:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 25;, count:5, time:0.007.
2016:10:07 19:52:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:52:42 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'7']}>, args:()
2016:10:07 19:52:42 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:52:42 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:52:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:52:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 30;, count:5, time:0.009.
2016:10:07 19:52:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:52:42 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'8']}>, args:()
2016:10:07 19:52:42 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:52:42 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:52:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:52:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 35;, count:5, time:0.012.
2016:10:07 19:52:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:52:43 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'9']}>, args:()
2016:10:07 19:52:43 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:52:43 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:52:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:52:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 40;, count:5, time:0.007.
2016:10:07 19:52:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.004.
2016:10:07 19:52:45 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'10']}>, args:()
2016:10:07 19:52:45 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:52:45 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:52:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:52:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 45;, count:5, time:0.010.
2016:10:07 19:52:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:54:09 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.155] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'755022113'], u'timestamp': [u'1475841249'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'9e2d02966aab178a23bd005d0f4f49ea05528991']}>, args:()
2016:10:07 19:54:09 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 19:54:09 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'237237655'], u'timestamp': [u'1475841249'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'a3ac6aa08d8c30bce71fbb71d13ab42e321ae795']}>, args:()
2016:10:07 19:54:09 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 19:54:12 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:54:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:54:12 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:54:12 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:54:12 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:54:12 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:54:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 19:54:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:54:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:54:13 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 19:54:13 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:54:13 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:54:13 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:54:13 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.005.
2016:10:07 19:54:13 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:54:13 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [219.133.40.13] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:54:14 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'3']}>, args:()
2016:10:07 19:54:14 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:54:14 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:54:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:54:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 10;, count:5, time:0.004.
2016:10:07 19:54:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:54:15 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'4']}>, args:()
2016:10:07 19:54:15 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:54:15 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:54:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:54:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 15;, count:5, time:0.004.
2016:10:07 19:54:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:54:16 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'5']}>, args:()
2016:10:07 19:54:16 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:54:16 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:54:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:54:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 20;, count:5, time:0.004.
2016:10:07 19:54:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:54:16 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'6']}>, args:()
2016:10:07 19:54:16 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:54:16 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:54:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:54:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 25;, count:5, time:0.005.
2016:10:07 19:54:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:54:18 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:54:18 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:54:18 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:54:18 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'7']}>, args:()
2016:10:07 19:54:18 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:54:18 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:54:18 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 19:54:18 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 30;, count:5, time:0.004.
2016:10:07 19:54:18 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:54:18 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041GAy8f2Mt6EP08UY6f2Nnz8f2GAy8R']}>, args:()
2016:10:07 19:54:18 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: Z7bQmCWF-kuC32vhhW4Lr4qzJck_Uz2qTQn7oaKNdFVowzvmXPjH8Jka8TlVMpY7De8PSLxxFviwufyKZSokBDiiqIy5q--hhks-LTyETvc 7200
2016:10:07 19:54:18 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: XSx4rWbjO5c4FbMYlsv2bMExsEwuI5UQQDhzYwCWQtoyjb43GE9XmC9mViY1KMJggBS6lMJdPKGjYg85A8CgD_Vfgbu1vBEvzE9KC8cwNZk 8640000
2016:10:07 19:54:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 19:54:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 19:54:19 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 19:54:19 22358 140139179955968 [INFO get_openid 1331] return openid. 041GAy8f2Mt6EP08UY6f2Nnz8f2GAy8R -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 19:54:19 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:54:19 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:54:19 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:54:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 19:54:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 19:54:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:54:30 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1565931104'], u'timestamp': [u'1475841269'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'434929e49b360c938f926964e9faa0bcee682553']}>, args:()
2016:10:07 19:54:30 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 19:54:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='万载县';, count:0, time:0.001.
2016:10:07 19:54:30 22358 140139179955968 [ERROR save_pos_wx 893] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw city:宜春市 area:万载县 cannot be found.
2016:10:07 19:54:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 19:54:30 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=0,position_details='宜春市 万载县 环城北路' where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 19:54:30 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw 0
2016:10:07 19:54:44 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.151] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1726027212'], u'timestamp': [u'1475841284'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'62d001c10a9fc948a502d3e593b2ab3b8ea200de']}>, args:()
2016:10:07 19:54:44 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 19:54:44 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.146] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'2074480610'], u'timestamp': [u'1475841284'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'2644539c49bc325a9981224d490411a9fdb2c259']}>, args:()
2016:10:07 19:54:44 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:508
2016:10:07 19:54:47 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'011O2SO62SU9JF0PZnP62riQO62O2SOQ']}>, args:()
2016:10:07 19:54:48 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: _oRjo6i2uSiXBTMv4VdzZabAAmuNUsostomUuZJMVK_2f4sJHwrrDTiFTSLOhQTLDc-sTiAnuvt_ffLn7l-SI-U3Ma8vo5kVKsM7OxKQKD4 7200
2016:10:07 19:54:48 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: a2q5A6twO1YqlIBDlgb97x9ndJPvFMpwE9tV2hPnW_4gcvjD6gMBGgnujH1_lQh9IH8Z617tVZF6qBFFR6UJxPzU1gLYID2cwFaKac_dzuA 8640000
2016:10:07 19:54:48 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 19:54:48 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 19:54:48 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 19:54:48 22358 140139179955968 [INFO get_openid 1331] return openid. 011O2SO62SU9JF0PZnP62riQO62O2SOQ -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 19:54:48 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 19:54:48 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 19:54:48 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:54:48 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:54:48 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:54:49 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:54:49 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:54:49 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:54:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:54:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:54:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:54:50 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 19:54:50 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 19:54:55 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1478965641'], u'timestamp': [u'1475841295'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'760f9994f919644f444411454714422d62b81a5d']}>, args:()
2016:10:07 19:54:55 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 19:54:55 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 19:54:55 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 19:54:55 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 19:54:55 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 19:54:56 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'2145197138'], u'timestamp': [u'1475841296'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'c915e4b275a1d186acc751b8b4a3562c5dd70486']}>, args:()
2016:10:07 19:54:56 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 19:54:56 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:54:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:54:56 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:54:56 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041tjQY30S3ITx15rR040EmUY30tjQYI']}>, args:()
2016:10:07 19:54:57 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: uIPuW6dswgWWTb0ItoJO0bt0152V46yYhDQ_lrSrYKwjEhilHl6ic2yDoCPi9RqHcaft42FqhC74A3Di10lS0nU0ZUJFFTkMS8GCPbTZoQY 7200
2016:10:07 19:54:57 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: 4MOOx8gXNCkRBt6Q1OffNwAOuQLbayeNpCrnpPMfpEopRaOam0zFRSAoNkoQ7JwCI6LYjwqmMG7kqzEHNA_DNF9fvCmG8gViXO35ejZ2NqA 8640000
2016:10:07 19:54:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 19:54:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 19:54:57 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 19:54:57 22358 140139179955968 [INFO get_openid 1331] return openid. 041tjQY30S3ITx15rR040EmUY30tjQYI -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 19:54:57 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:54:57 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:54:57 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:54:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 19:54:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 19:54:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:55:02 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'38']}>, args:()
2016:10:07 19:55:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 19:55:02 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'38']}>, args:()
2016:10:07 19:55:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=38 and a.status=1 and b.status=1;, count:25, time:0.001.
2016:10:07 19:55:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 19:55:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 19:55:03 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=38']}>, args:()
2016:10:07 19:55:04 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 19:55:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 19:55:06 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'name': [u'Kavin.XPL'], u'gender': [u'male'], u'age': [u'1'], u'phone': [u'15099994152'], u'actid': [u'38']}>, args:()
2016:10:07 19:55:06 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数phone不能为空.
2016:10:07 19:55:12 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'name': [u'Kavin.XPL'], u'gender': [u'male'], u'age': [u'1'], u'phone': [u'15099994152'], u'actid': [u'38']}>, args:()
2016:10:07 19:55:12 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数phone不能为空.
2016:10:07 19:55:18 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:55:18 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:55:18 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:55:26 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'name': [u'Kavin.XPL'], u'gender': [u'male'], u'age': [u'1'], u'phone': [u'15099994152'], u'actid': [u'38']}>, args:()
2016:10:07 19:55:26 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数phone不能为空.
2016:10:07 19:56:12 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.73] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1727256008'], u'timestamp': [u'1475841372'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'ca05b348c3810ea93ce11dc921ef80c8864162dd']}>, args:()
2016:10:07 19:56:12 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 19:56:14 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1809828944'], u'timestamp': [u'1475841374'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'45d88bc43ba129aae8c910e9c3e71eddd149bd5a']}>, args:()
2016:10:07 19:56:14 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:511
2016:10:07 19:56:21 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:56:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:56:21 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:56:21 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'001tTNC72QdoZE0OFiC72MaOC72tTNC6']}>, args:()
2016:10:07 19:56:22 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: FgJ3JE5sIzh64knRBZ3HkWyywh_ZjSlh7N56RzgzmJXTEoal5zEghVWAgkwJiuVrqUvv4xpYLzBg_PpvimFAyLBkYkRTJB6Dr27GVe1I2Eo 7200
2016:10:07 19:56:22 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: fCYa_wXU9NRjshMAysxlKlGxHGs4sbCR-PzifCpzvzGc7jsg-LgEtGaRMN9MVJWyYTMBw_OAF0Kg7JO_4ehAXmD6dzDEUKxk4Xy0x9sJqv8 8640000
2016:10:07 19:56:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 19:56:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 19:56:22 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 19:56:22 22358 140139179955968 [INFO get_openid 1331] return openid. 001tTNC72QdoZE0OFiC72MaOC72tTNC6 -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 19:56:22 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:56:22 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:56:22 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:56:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 19:56:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 19:56:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:56:57 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:56:57 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:56:57 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:56:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:56:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 19:56:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:56:58 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:56:58 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:56:58 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:57:01 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 19:57:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 19:57:02 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 19:57:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=90 and a.status=1 and b.status=1;, count:3, time:0.001.
2016:10:07 19:57:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 19:57:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 19:57:02 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 19:57:03 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 19:57:03 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 19:57:03 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 19:57:03 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u4e66\u753b'], u'page': [u'1']}>, args:()
2016:10:07 19:57:03 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:57:03 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 19:57:03 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 0;, count:5, time:0.003.
2016:10:07 19:57:03 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '书画' and  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:57:03 22358 140139179955968 [INFO wrapper 75] >>>get_nearbyareas<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 19:57:03 22358 140139179955968 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=(((select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw') div 10000)*10000);, count:0, time:0.001.
2016:10:07 19:57:07 22358 140139179955968 [INFO wrapper 75] >>>get_uploadtoken<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475841426456.jpg']}>, args:()
2016:10:07 19:57:07 22358 140139179955968 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475841426456.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:uBt9acyD5XTAEQY8bXRVlslBsR4=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODQxNDI2NDU2LmpwZyIsImRlYWRsaW5lIjoxNDc1ODQ1MDI3fQ== 
2016:10:07 19:57:11 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:57:11 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:57:11 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:57:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:57:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.006.
2016:10:07 19:57:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:57:12 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u97f3\u4e50'], u'page': [u'1']}>, args:()
2016:10:07 19:57:12 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:57:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 19:57:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '音乐' and  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '音乐' and  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 0;, count:10, time:0.003.
2016:10:07 19:57:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '音乐' and  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:57:15 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'375629797'], u'timestamp': [u'1475841435'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'56040a7c072c5910ca092e75b21aceb8a09de827']}>, args:()
2016:10:07 19:57:15 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 19:57:16 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1838095866'], u'timestamp': [u'1475841436'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'4ebb6610ed725e81bcf08a84a160f32ce8cc0997']}>, args:()
2016:10:07 19:57:16 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:511
2016:10:07 19:57:17 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041wSdv10CTfnA1yTUv109niv10wSdvZ']}>, args:()
2016:10:07 19:57:17 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: gUtYFjDTMVZJ8WeseesM9BGCWlKDMgiYZ7-fppXsC1BrqfME1ImrK3T4pbU8pdn_qOfxWLztijGfNYGFBKC85lupcpkqtk7Iw9FMmgkVTV4 7200
2016:10:07 19:57:17 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: vzsGyvtDOx2OzMBswAtJjDiRbOPvMzw-hZL31lDRVyoILBw2RTwPXO32lf-4O41sx3G4REA-f1AZdrrgKRToY3Zc8WljEo7FGMOWueXK9fw 8640000
2016:10:07 19:57:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 19:57:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 19:57:17 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 19:57:17 22358 140139179955968 [INFO get_openid 1331] return openid. 041wSdv10CTfnA1yTUv109niv10wSdvZ -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 19:57:17 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:57:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:57:17 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:57:17 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:57:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:57:17 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:57:17 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:57:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:57:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:57:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 19:57:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 19:57:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:57:19 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:57:19 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:57:19 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:57:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:57:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:57:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:57:47 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:57:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:57:47 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:58:10 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'357924263'], u'timestamp': [u'1475841490'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'b16d617868db63f60c1e0e20d5b052a6999f3c9e']}>, args:()
2016:10:07 19:58:10 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 19:58:11 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 19:58:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=90 and a.status=1 and b.status=1;, count:3, time:0.001.
2016:10:07 19:58:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 19:58:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 19:58:11 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 19:58:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 19:58:11 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.73] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1305512450'], u'timestamp': [u'1475841491'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'75f133612a06e8e6e22fa5d5a8c90d74526c6091']}>, args:()
2016:10:07 19:58:11 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:508
2016:10:07 19:58:12 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 19:58:13 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'0211W5tk29WAjK0dHNsk2R12tk21W5tT']}>, args:()
2016:10:07 19:58:13 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: KttfsIfJGm6WwFIE1O4QWlPGpGZpAM0eF-4XS1WV-UxFpZ0IaB5vIifrUu_RSwn6PueuX98rDoHTMTqRmHx8fj-buxpT2mcsBF4fOs9-v60 7200
2016:10:07 19:58:13 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: Erx_vmkLnQr__RP6MG71rZRQZztVkz4eez0iuLP7EhBy3wPGI32jg91Sq29bXvsS7eXmjmUnxMFk3Yru2ngIoRmGMIDYBmFVP4cSTm_RCrs 8640000
2016:10:07 19:58:13 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 19:58:13 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 19:58:13 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 19:58:13 22358 140139179955968 [INFO get_openid 1331] return openid. 0211W5tk29WAjK0dHNsk2R12tk21W5tT -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 19:58:13 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 19:58:13 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 19:58:14 22358 140139179955968 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 19:58:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 19:58:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 19:58:18 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 19:58:18 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 19:58:18 22358 140139179955968 [INFO wrapper 75] >>>get_uploadtoken<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475841497427.jpg']}>, args:()
2016:10:07 19:58:18 22358 140139179955968 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475841497427.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:0YkzUupH7VSOFsR1XgEHKQAi9oM=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODQxNDk3NDI3LmpwZyIsImRlYWRsaW5lIjoxNDc1ODQ1MDk4fQ== 
2016:10:07 19:58:20 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'483568249'], u'timestamp': [u'1475841500'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'4e148f755351e862e9d2555ca0ed71f11cbe2509']}>, args:()
2016:10:07 19:58:20 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 19:58:21 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'907511433'], u'timestamp': [u'1475841501'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'ddf82e888946326a0b829dd03be6ed0a5db3831c']}>, args:()
2016:10:07 19:58:21 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:511
2016:10:07 19:58:22 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:58:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:58:22 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:58:22 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'021BMtb418O8B02y2ha41dTxb41BMtbL']}>, args:()
2016:10:07 19:58:22 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: MSXWbjiI-UcIRBHLjVO0wt6vQdVPryMziMuJcKYFdedmX8EgtaBB8MZojABMYYNwmjXetequvCOk4bpJqeUOAm38_j1LSBKGmjbKwRSGjyM 7200
2016:10:07 19:58:22 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: dtS94HtbYoBsU-G0MC5oF5WsmRNCpD0QBCgKmHJ6E8gcX0dtpTwQT0fOEfLv5nW3H0oRFYoZs9qn40C6m95Xzw5fVqlm3VBFfT9lxhvzZ8E 8640000
2016:10:07 19:58:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 19:58:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 19:58:22 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 19:58:22 22358 140139179955968 [INFO get_openid 1331] return openid. 021BMtb418O8B02y2ha41dTxb41BMtbL -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 19:58:23 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:58:23 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:58:23 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:58:23 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 19:58:23 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.006.
2016:10:07 19:58:23 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:58:25 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 19:58:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 19:58:25 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 19:58:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 19:58:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 19:58:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=90 and status=1;, count:1, time:0.001.
2016:10:07 19:58:25 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 19:58:33 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:58:33 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:58:33 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:58:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:58:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 19:58:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:59:09 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 19:59:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 19:59:10 22358 140139179955968 [INFO wrapper 75] >>>get_uploadtoken<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475841547417.jpg']}>, args:()
2016:10:07 19:59:10 22358 140139179955968 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475841547417.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:5BGGldz9L8pbZ9dToyxXj6Ez8WA=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODQxNTQ3NDE3LmpwZyIsImRlYWRsaW5lIjoxNDc1ODQ1MTUwfQ== 
2016:10:07 19:59:13 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.150] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1980269733'], u'timestamp': [u'1475841553'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'e39e62bed2732cbad2eadec8b460b71d1d2156c2']}>, args:()
2016:10:07 19:59:13 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 19:59:13 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 19:59:13 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 19:59:13 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 19:59:13 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 19:59:32 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:59:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:59:32 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:59:32 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:59:32 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:59:32 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:59:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:59:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.006.
2016:10:07 19:59:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.002.
2016:10:07 19:59:34 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 19:59:34 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:59:34 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:59:34 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:59:34 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.004.
2016:10:07 19:59:34 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:59:36 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:59:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 19:59:36 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 19:59:36 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 19:59:36 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:59:36 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:59:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 19:59:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 19:59:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:59:38 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'3']}>, args:()
2016:10:07 19:59:38 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:59:38 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:59:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:59:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 10;, count:5, time:0.004.
2016:10:07 19:59:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:59:40 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'4']}>, args:()
2016:10:07 19:59:40 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:59:40 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:59:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:59:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 15;, count:5, time:0.006.
2016:10:07 19:59:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:59:41 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'5']}>, args:()
2016:10:07 19:59:41 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:59:41 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:59:41 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:59:41 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 20;, count:5, time:0.004.
2016:10:07 19:59:41 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:59:42 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'6']}>, args:()
2016:10:07 19:59:42 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:59:42 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:59:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:59:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 25;, count:5, time:0.005.
2016:10:07 19:59:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 19:59:42 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'7']}>, args:()
2016:10:07 19:59:42 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 19:59:42 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 19:59:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 19:59:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 30;, count:5, time:0.005.
2016:10:07 19:59:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:00:07 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'8']}>, args:()
2016:10:07 20:00:07 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:00:07 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:00:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:00:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 35;, count:5, time:0.004.
2016:10:07 20:00:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:00:33 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:00:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:00:33 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:00:33 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:00:33 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:00:33 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:00:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:00:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 20:00:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:00:36 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 20:00:36 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:00:36 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:00:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:00:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.005.
2016:10:07 20:00:36 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:00:39 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'3']}>, args:()
2016:10:07 20:00:39 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:00:39 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:00:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:00:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 10;, count:5, time:0.004.
2016:10:07 20:00:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:00:52 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'4']}>, args:()
2016:10:07 20:00:52 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:00:52 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:00:52 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:00:52 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 15;, count:5, time:0.005.
2016:10:07 20:00:52 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:00:58 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:00:58 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:00:58 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:00:58 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:00:58 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 20:00:58 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:01:10 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:01:10 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:01:10 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:01:10 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:01:10 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 20:01:10 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:01:35 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 20:01:35 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:01:35 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:01:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:01:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.005.
2016:10:07 20:01:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:02:19 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:02:19 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:02:19 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:02:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:02:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 20:02:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:02:29 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:02:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:02:29 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:02:29 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:02:29 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:02:29 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:02:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 20:02:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 20:02:29 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:03:59 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:03:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:03:59 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:03:59 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:03:59 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:03:59 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:03:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 20:03:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 20:03:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:03:59 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 20:03:59 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:03:59 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:03:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:03:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.004.
2016:10:07 20:03:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:04:15 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:04:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:04:15 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:04:21 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'major': [u'\u8bed\u8a00'], u'name': [u'\u7fd4\u5b87'], u'identity_card': [u'123456789123456789'], u'gender': [u'male'], u'age': [u'2'], u'teacher': [u'\u949f\u8001\u5e08'], u'phone': [u'13926010718'], u'program': [u'\u9633\u5149\u821e'], u'company_tel': [u'123456789'], u'kids_name': [u'\u597d\u7684\u5427'], u'teacher_phone': [u'12345678912'], u'images': [u'http://img.6skills.com/custom-sign-1475841547417.jpg?1475841710895'], u'awards': [u''], u'company': [u'\u5eb7\u4e50\u56ed'], u'actid': [u'90'], u'match_class': [u'\u5e7c\u513f\u7ec4\uff08\u5b66\u9f84\u524d\uff09']}>, args:()
2016:10:07 20:04:21 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数phone不能为空.
2016:10:07 20:04:24 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:04:24 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:04:24 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:04:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:04:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 20:04:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:04:27 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 20:04:27 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:04:27 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:04:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:04:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.004.
2016:10:07 20:04:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:04:38 22358 140139097212672 [INFO _update_base_access_token 982] [TOKEN] update base_access_token: YKHW01zxmBTZEGs_MTAxcz6RDDO3ob5Kru7Bej_EEf4j4w0Nep4bkessmUrq-X-7fIJpp67l2oR2GI0CtydbZ4J35UbSKMV8fVc96HATeBVzlUDu0O9otVh2iu4oxrG9TENbAFAJUD
2016:10:07 20:04:48 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:04:48 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:04:48 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:04:51 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:04:51 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:04:51 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:04:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:04:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 20:04:51 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.002.
2016:10:07 20:05:23 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:05:23 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:05:24 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:05:24 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:05:24 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:05:24 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:05:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:05:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 20:05:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:05:27 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.148] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'6131001'], u'timestamp': [u'1475841927'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'2e6685fc096cecbc40df1b02388393877d34edde']}>, args:()
2016:10:07 20:05:27 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 20:05:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 20:05:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 20:05:27 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 20:05:27 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 20:05:27 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:05:27 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:05:31 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:05:31 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:05:31 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:05:43 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:05:43 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:05:43 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:05:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:05:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 20:05:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:05:45 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 20:05:45 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:05:45 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:05:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:05:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.005.
2016:10:07 20:05:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:05:45 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'3']}>, args:()
2016:10:07 20:05:45 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:05:45 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:05:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:05:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 10;, count:5, time:0.005.
2016:10:07 20:05:45 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:05:52 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'4']}>, args:()
2016:10:07 20:05:52 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:05:52 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:05:52 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:05:52 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 15;, count:5, time:0.004.
2016:10:07 20:05:52 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:05:54 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'5']}>, args:()
2016:10:07 20:05:54 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:05:54 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:05:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:05:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 20;, count:5, time:0.006.
2016:10:07 20:05:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:06:16 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:06:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:06:16 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:06:16 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:06:16 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:06:16 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:06:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:06:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 20:06:16 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:06:19 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 20:06:19 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:06:19 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:06:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:06:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.004.
2016:10:07 20:06:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:06:22 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'3']}>, args:()
2016:10:07 20:06:22 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:06:22 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:06:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:06:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 10;, count:5, time:0.004.
2016:10:07 20:06:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:06:30 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'4']}>, args:()
2016:10:07 20:06:30 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:06:30 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:06:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:06:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 15;, count:5, time:0.005.
2016:10:07 20:06:30 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:06:31 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'5']}>, args:()
2016:10:07 20:06:31 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:06:31 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:06:31 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:06:31 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 20;, count:5, time:0.005.
2016:10:07 20:06:31 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:06:33 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'6']}>, args:()
2016:10:07 20:06:33 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:06:33 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:06:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:06:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 25;, count:5, time:0.004.
2016:10:07 20:06:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:06:42 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:06:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:06:42 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:06:43 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:06:43 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:06:43 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:06:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:06:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 20:06:43 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:06:47 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 20:06:47 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:06:47 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:06:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:06:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.004.
2016:10:07 20:06:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:06:52 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:06:52 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:06:52 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:06:52 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:06:52 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 20:06:52 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:06:59 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 20:06:59 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:06:59 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:06:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:06:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.005.
2016:10:07 20:06:59 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:07:01 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'3']}>, args:()
2016:10:07 20:07:01 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:07:01 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:07:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:07:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 10;, count:5, time:0.005.
2016:10:07 20:07:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:07:04 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'4']}>, args:()
2016:10:07 20:07:04 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:07:04 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:07:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:07:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 15;, count:5, time:0.004.
2016:10:07 20:07:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:07:11 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:07:11 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:07:11 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:07:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:07:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 20:07:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:07:19 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 20:07:19 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 20:07:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.000.
2016:10:07 20:07:19 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 20:07:19 22358 140139179955968 [INFO wrapper 75] >>>get_nearbyareas<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 20:07:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=(((select position_id from 6s_user where openid='') div 10000)*10000);, count:0, time:0.000.
2016:10:07 20:07:19 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u821e\u8e48'], u'page': [u'1']}>, args:()
2016:10:07 20:07:19 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:07:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 20:07:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '舞蹈' and  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '舞蹈' and  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 0;, count:1, time:0.003.
2016:10:07 20:07:19 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '舞蹈' and  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:07:21 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'144424116'], u'timestamp': [u'1475842041'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'702f70d594a86b657afbaee2876f6f4d00ee4c1e']}>, args:()
2016:10:07 20:07:21 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 20:07:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 20:07:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 20:07:21 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 20:07:21 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 20:07:21 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'753719235'], u'timestamp': [u'1475842041'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'43b84ae7b3f49a246f3ddf3dac02fb9fd205d1ef']}>, args:()
2016:10:07 20:07:21 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:508
2016:10:07 20:07:24 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:07:24 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:07:24 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:07:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:07:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 20:07:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:07:26 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'021O3tun0g03oe1tDGvn0VMyun0O3tuE']}>, args:()
2016:10:07 20:07:26 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: XbaExjUE20RlGmJtPg4wbwvAbKcFpwe9EHmnbqTtqeGR92SW1ozlUs4z6FmW3Tmh7HDliav5VuPU7fPrxz8UP5bn3ECg6m1Z4W1Cf8VWvr4 7200
2016:10:07 20:07:26 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: 9Y1ffvGyULp8rq3AAEL--y7I1qQtHmzRWi-nAhiVdqhypOUZHwEdMmNbaRU0Cnk_-wbE19Y3km_UEfeAKuwSLaQq9sILc8IUeWn4i9D0C2k 8640000
2016:10:07 20:07:26 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:07:26 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 20:07:26 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 20:07:26 22358 140139179955968 [INFO get_openid 1331] return openid. 021O3tun0g03oe1tDGvn0VMyun0O3tuE -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:07:26 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 20:07:26 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 20:07:31 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1785370649'], u'timestamp': [u'1475842051'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'1b112f3c1b4202d3642fc1695579e4abfd7927bb']}>, args:()
2016:10:07 20:07:31 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:508
2016:10:07 20:07:32 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'011UZy300tmxTB1RuI300l7r300UZy3F']}>, args:()
2016:10:07 20:07:32 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: LZRn6Spf7FBEsrYiFYS2fP-OEM2tHa0PPKp9R9XZV5x2gr2RoEoBuSUiWLH1_3XM2w18XZ3np2KhDMjLMe7cdt7whbyKaRm1sqmXfZu73_A 7200
2016:10:07 20:07:32 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: 4MOOx8gXNCkRBt6Q1OffN49j38u8UAni-1ZEcuwmW0UzjvTrqYzZJR8n8O19ErA51og0xAbpcGYrbpl7y3JLZXF1AHKavBZ73WE8Yt6YJAI 8640000
2016:10:07 20:07:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:07:32 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 20:07:32 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 20:07:32 22358 140139179955968 [INFO get_openid 1331] return openid. 011UZy300tmxTB1RuI300l7r300UZy3F -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:07:33 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 20:07:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 20:07:35 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:07:35 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 20:07:38 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1737598284'], u'timestamp': [u'1475842058'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'044f5be32e5a8845a478134f2163684fc311b80f']}>, args:()
2016:10:07 20:07:38 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 20:07:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 20:07:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 20:07:38 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 20:07:38 22358 140139179955968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 20:07:41 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1413758378'], u'timestamp': [u'1475842061'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'0c8cf57188a0a88f0db333062ef4329f0754ff2e']}>, args:()
2016:10:07 20:07:41 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 20:07:42 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:07:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:07:42 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:07:42 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'0311WbhD18EPLg0LWwhD16U7hD11WbhG']}>, args:()
2016:10:07 20:07:42 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: AFPPk7gdQr2fpX8C5hAP9P5JRkPFO8I84tFCu99B6aiwUe_rhDkqSApLO3e3l6OHwSWYznM0YkLuhTDcsxu4FZ1V5WGqBCyx2LxcgrRk5eE 7200
2016:10:07 20:07:42 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: KsikaRIN6LbrtB8X-pOzk5jpjPLQ-kdaXI-V4b5PQW349thnB0V7UHFG8CNMsNvnE4Dn44oFlH1nI_ILD-5rK2lcr0qU0tMf_jj9V46Qdys 8640000
2016:10:07 20:07:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:07:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 20:07:42 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 20:07:42 22358 140139179955968 [INFO get_openid 1331] return openid. 0311WbhD18EPLg0LWwhD16U7hD11WbhG -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:07:42 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:07:42 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:07:42 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:07:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 20:07:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.004.
2016:10:07 20:07:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:07:47 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'38']}>, args:()
2016:10:07 20:07:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=38 and a.status=1 and b.status=1;, count:25, time:0.001.
2016:10:07 20:07:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 20:07:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 20:07:47 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'38']}>, args:()
2016:10:07 20:07:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 20:07:48 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=38']}>, args:()
2016:10:07 20:07:49 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 20:07:49 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 20:07:54 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [58.62.53.246] POST:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'name': [u'Kavin.XPL'], u'gender': [u'female'], u'age': [u'6'], u'phone': [u'15099994152'], u'actid': [u'38']}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:07:54 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数city不能为空.
2016:10:07 20:07:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_details from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 20:07:54 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数kids_name不能为空.
2016:10:07 20:07:54 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数birthdate不能为空.
2016:10:07 20:07:54 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数images不能为空.
2016:10:07 20:07:54 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数identity_card不能为空.
2016:10:07 20:07:54 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数program不能为空.
2016:10:07 20:07:54 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数company不能为空.
2016:10:07 20:07:54 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数teacher不能为空.
2016:10:07 20:07:54 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数teacher_phone不能为空.
2016:10:07 20:07:54 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数match_class不能为空.
2016:10:07 20:07:54 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数major不能为空.
2016:10:07 20:07:54 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数awards不能为空.
2016:10:07 20:07:54 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数company_tel不能为空.
2016:10:07 20:07:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 20:07:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select quantities_remain,img_qrcode from 6s_activity where id=38 and status=1;, count:1, time:0.000.
2016:10:07 20:07:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 20:07:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select id,wechat from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and status=1;, count:1, time:0.000.
2016:10:07 20:07:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_signup where user_id=1114 and act_id=38 and status=1;, count:1, time:0.001.
2016:10:07 20:07:54 22358 140139179955968 [ERROR activities_sign 482] 您已经对该活动报过名.  act:38,u:1114.
2016:10:07 20:08:11 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:08:11 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:08:11 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:08:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 20:08:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 20:08:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:08:14 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'38']}>, args:()
2016:10:07 20:08:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 20:08:15 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=38']}>, args:()
2016:10:07 20:08:15 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'38']}>, args:()
2016:10:07 20:08:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=38 and a.status=1 and b.status=1;, count:25, time:0.001.
2016:10:07 20:08:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 20:08:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 20:08:17 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [58.62.53.246] POST:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'name': [u'Kavin.XPL'], u'gender': [u'male'], u'age': [u'1'], u'phone': [u'15099994152'], u'actid': [u'38']}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:08:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数city不能为空.
2016:10:07 20:08:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_details from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 20:08:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数kids_name不能为空.
2016:10:07 20:08:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数birthdate不能为空.
2016:10:07 20:08:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数images不能为空.
2016:10:07 20:08:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数identity_card不能为空.
2016:10:07 20:08:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数program不能为空.
2016:10:07 20:08:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数company不能为空.
2016:10:07 20:08:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数teacher不能为空.
2016:10:07 20:08:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数teacher_phone不能为空.
2016:10:07 20:08:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数match_class不能为空.
2016:10:07 20:08:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数major不能为空.
2016:10:07 20:08:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数awards不能为空.
2016:10:07 20:08:17 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数company_tel不能为空.
2016:10:07 20:08:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 20:08:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select quantities_remain,img_qrcode from 6s_activity where id=38 and status=1;, count:1, time:0.000.
2016:10:07 20:08:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 20:08:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select id,wechat from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and status=1;, count:1, time:0.000.
2016:10:07 20:08:17 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_signup where user_id=1114 and act_id=38 and status=1;, count:1, time:0.000.
2016:10:07 20:08:17 22358 140139179955968 [ERROR activities_sign 482] 您已经对该活动报过名.  act:38,u:1114.
2016:10:07 20:09:21 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 20:09:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 20:09:21 22358 140139179955968 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 20:09:21 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 20:09:21 22358 140139179955968 [INFO wrapper 75] >>>get_nearbyareas<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 20:09:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=(((select position_id from 6s_user where openid='') div 10000)*10000);, count:0, time:0.001.
2016:10:07 20:09:21 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'openid': [u''], u'district': [u'\u5929\u6cb3\u533a'], u'pagesize': [u'10'], u'area': [u'*'], u'age': [u'0-100'], u'acttype': [u'\u821e\u8e48'], u'page': [u'1']}>, args:()
2016:10:07 20:09:21 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:09:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 20:09:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '舞蹈' and  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '舞蹈' and  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 10 offset 0;, count:1, time:0.002.
2016:10:07 20:09:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where b2.name = '舞蹈' and  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:09:33 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 20:09:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=53;, count:1, time:0.001.
2016:10:07 20:09:33 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 20:09:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=53 and a.status=1 and b.status=1;, count:1, time:0.001.
2016:10:07 20:09:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=53 and status=1;, count:0, time:0.000.
2016:10:07 20:09:33 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:09:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:09:33 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:09:33 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:09:33 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:09:33 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:09:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 20:09:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 20:09:33 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:09:33 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=53']}>, args:()
2016:10:07 20:09:37 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'major': [u'\u8bed\u8a00'], u'name': [u'\u7fd4\u5b87'], u'identity_card': [u'123456789123456789'], u'gender': [u'male'], u'age': [u'2'], u'teacher': [u'\u949f\u8001\u5e08'], u'phone': [u'13926010718'], u'program': [u'\u9633\u5149\u821e'], u'company_tel': [u'123456789'], u'kids_name': [u'\u597d\u7684\u5427'], u'teacher_phone': [u'12345678912'], u'images': [u'http://img.6skills.com/custom-sign-1475841547417.jpg?1475841710895'], u'awards': [u''], u'company': [u'\u5eb7\u4e50\u56ed'], u'actid': [u'90'], u'match_class': [u'\u5e7c\u513f\u7ec4\uff08\u5b66\u9f84\u524d\uff09']}>, args:()
2016:10:07 20:09:37 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数phone不能为空.
2016:10:07 20:09:40 22358 140139179955968 [INFO wrapper 75] >>>get_wx_payinfo<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'price': [u'160'], u'actid': [u'53']}>, args:()
2016:10:07 20:09:40 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.title,a.price_child,b.price_child from 6s_activity a left join 6s_preinfo b on a.preinfo_id=b.id where a.id=53;, count:1, time:0.001.
2016:10:07 20:09:42 22358 140139179955968 [INFO get_wx_payinfo 1466] wxpay: trade_no:1475842180, openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, ret:{'trade_type': 'JSAPI', 'prepay_id': 'wx20161007200941e5e7554dbe0985977420', 'nonce_str': 'KUAmDDdOGtnPNZxF', 'return_code': 'SUCCESS', 'return_msg': 'OK', 'sign': 'A16B7B5CFF87A399D894957200CA62BE', 'mch_id': '1395115702', 'appid': 'wxe6d40d1e6b8d010e', 'result_code': 'SUCCESS'}
2016:10:07 20:09:42 22358 140139179955968 [INFO db_exec 84] [sql_w] insert into 6s_prepay_info(act_id,out_trade_no,body,total_fee,trade_type,openid,prepay_id) values ('53','1475842180','Secondlife周末休闲画吧','1','JSAPI','oYgYJwUkw7GldFuggLCD-N1BVrJ4','wx20161007200941e5e7554dbe0985977420'), count:1, time:0.015.
2016:10:07 20:09:42 22358 140139179955968 [ERROR get_wx_payinfo 1480] save prepay_info OK. oYgYJwUkw7GldFuggLCD-N1BVrJ4
2016:10:07 20:09:43 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [183.232.90.37] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:09:58 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 20:09:58 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=53;, count:1, time:0.001.
2016:10:07 20:09:58 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 20:09:58 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=53 and a.status=1 and b.status=1;, count:2, time:0.001.
2016:10:07 20:09:58 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=53;, count:1, time:0.000.
2016:10:07 20:09:58 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=53 and status=1;, count:0, time:0.000.
2016:10:07 20:09:59 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=53']}>, args:()
2016:10:07 20:10:09 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'38']}>, args:()
2016:10:07 20:10:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 20:10:09 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'38']}>, args:()
2016:10:07 20:10:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=38 and a.status=1 and b.status=1;, count:25, time:0.001.
2016:10:07 20:10:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 20:10:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 20:10:09 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=38']}>, args:()
2016:10:07 20:10:14 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 20:10:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=53;, count:1, time:0.001.
2016:10:07 20:10:14 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 20:10:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=53 and a.status=1 and b.status=1;, count:2, time:0.001.
2016:10:07 20:10:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=53;, count:1, time:0.000.
2016:10:07 20:10:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=53 and status=1;, count:0, time:0.001.
2016:10:07 20:10:14 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=53']}>, args:()
2016:10:07 20:10:20 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 20:10:20 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 20:10:21 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 20:10:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=90 and a.status=1 and b.status=1;, count:3, time:0.001.
2016:10:07 20:10:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:10:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 20:10:21 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 20:10:39 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'38']}>, args:()
2016:10:07 20:10:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 20:10:39 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'38']}>, args:()
2016:10:07 20:10:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=38 and a.status=1 and b.status=1;, count:25, time:0.001.
2016:10:07 20:10:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 20:10:39 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 20:10:40 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=38']}>, args:()
2016:10:07 20:10:47 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 20:10:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=53 and a.status=1 and b.status=1;, count:2, time:0.001.
2016:10:07 20:10:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=53;, count:1, time:0.000.
2016:10:07 20:10:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=53 and status=1;, count:0, time:0.000.
2016:10:07 20:10:47 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 20:10:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=53;, count:1, time:0.001.
2016:10:07 20:10:47 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=53']}>, args:()
2016:10:07 20:10:54 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'82']}>, args:()
2016:10:07 20:10:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=82;, count:1, time:0.001.
2016:10:07 20:10:54 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'82']}>, args:()
2016:10:07 20:10:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=82 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 20:10:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=82;, count:1, time:0.000.
2016:10:07 20:10:54 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=82 and status=1;, count:0, time:0.000.
2016:10:07 20:10:55 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=82']}>, args:()
2016:10:07 20:10:55 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'199480508'], u'timestamp': [u'1475842255'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'8c44694534d3eb0a34d6ff72d1d0bf5f2d65eed3']}>, args:()
2016:10:07 20:10:55 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 20:10:56 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1148438386'], u'timestamp': [u'1475842256'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'341752403b9f94049aec48817de472f3ab2705f0']}>, args:()
2016:10:07 20:10:56 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:511
2016:10:07 20:10:57 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:10:57 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:10:57 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'001eOsd62S2YoG04Unb62kStd62eOsdj']}>, args:()
2016:10:07 20:10:58 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: DnTwOuaRrGBAd4rajKyfyLpAcMwLgzcdmtxDnay7Wvtca_oEYCPpNrIh0rYdA9xOrv6i3gjGZMIzfP6LukQ5-DsEy9XoXrODUHTBZmqDjPQ 7200
2016:10:07 20:10:58 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: pu64XW_LjUYdIoAFt4XUfTVWWDukUSsrFkI2f8PMvza7f7T4-xm_f3fh-AADMsyb5GRzadWojv9uaFdlgvghBPRYpZ2lWHvKU18X7vqvtLI 8640000
2016:10:07 20:10:58 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:10:58 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 20:10:58 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 20:10:58 22358 140139179955968 [INFO get_openid 1331] return openid. 001eOsd62S2YoG04Unb62kStd62eOsdj -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:10:58 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:10:58 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:10:58 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:10:58 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:10:58 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 20:10:58 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 20:10:58 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:11:04 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 20:11:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=53;, count:1, time:0.001.
2016:10:07 20:11:04 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 20:11:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=53 and a.status=1 and b.status=1;, count:2, time:0.001.
2016:10:07 20:11:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=53;, count:1, time:0.000.
2016:10:07 20:11:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=53 and status=1;, count:0, time:0.000.
2016:10:07 20:11:04 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 20:11:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 20:11:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:11:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=90 and status=1;, count:1, time:0.000.
2016:10:07 20:11:04 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 20:11:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 20:11:04 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=53']}>, args:()
2016:10:07 20:11:04 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 20:11:24 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 20:11:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=53 and a.status=1 and b.status=1;, count:2, time:0.001.
2016:10:07 20:11:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=53;, count:1, time:0.000.
2016:10:07 20:11:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=53 and status=1;, count:0, time:0.000.
2016:10:07 20:11:24 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 20:11:24 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=53;, count:1, time:0.001.
2016:10:07 20:11:24 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=53']}>, args:()
2016:10:07 20:11:25 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 20:11:25 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 20:11:26 22358 140139179955968 [INFO wrapper 75] >>>get_uploadtoken<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475842283375.jpg']}>, args:()
2016:10:07 20:11:26 22358 140139179955968 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475842283375.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:izZkE60jhTQ8pKSweWCmHUpRjRY=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODQyMjgzMzc1LmpwZyIsImRlYWRsaW5lIjoxNDc1ODQ1ODg2fQ== 
2016:10:07 20:11:28 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [58.62.53.246] POST:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'name': [u'Kavin.XPL'], u'gender': [u'male'], u'age': [u'1'], u'phone': [u'15099994152'], u'actid': [u'53']}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:11:28 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数city不能为空.
2016:10:07 20:11:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_details from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 20:11:28 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数kids_name不能为空.
2016:10:07 20:11:28 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数birthdate不能为空.
2016:10:07 20:11:28 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数images不能为空.
2016:10:07 20:11:28 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数identity_card不能为空.
2016:10:07 20:11:28 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数program不能为空.
2016:10:07 20:11:28 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数company不能为空.
2016:10:07 20:11:28 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数teacher不能为空.
2016:10:07 20:11:28 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数teacher_phone不能为空.
2016:10:07 20:11:28 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数match_class不能为空.
2016:10:07 20:11:28 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数major不能为空.
2016:10:07 20:11:28 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数awards不能为空.
2016:10:07 20:11:28 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数company_tel不能为空.
2016:10:07 20:11:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=53;, count:1, time:0.000.
2016:10:07 20:11:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select quantities_remain,img_qrcode from 6s_activity where id=53 and status=1;, count:1, time:0.000.
2016:10:07 20:11:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 20:11:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select id,wechat from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and status=1;, count:1, time:0.000.
2016:10:07 20:11:28 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_signup where user_id=1114 and act_id=53 and status=1;, count:1, time:0.000.
2016:10:07 20:11:28 22358 140139179955968 [ERROR activities_sign 482] 您已经对该活动报过名.  act:53,u:1114.
2016:10:07 20:12:38 22358 140139179955968 [INFO wrapper 75] >>>activities_sign<<< [117.136.49.43] POST:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'major': [u'\u821e\u8e48'], u'name': [u'\u7fd4\u5b87'], u'identity_card': [u'123456789123456789'], u'gender': [u'male'], u'age': [u'1'], u'teacher': [u'\u949f\u8001\u5e08'], u'phone': [u'13926010718'], u'program': [u'456'], u'company_tel': [u'369'], u'kids_name': [u'\u5b89\u4fdd'], u'teacher_phone': [u'12345678912'], u'images': [u'http://img.6skills.com/custom-sign-1475842283375.jpg?1475842305990'], u'awards': [u''], u'company': [u'369'], u'actid': [u'90'], u'match_class': [u'\u5e7c\u513f\u7ec4\uff08\u5b66\u9f84\u524d\uff09']}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:12:38 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数city不能为空.
2016:10:07 20:12:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_details from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 20:12:38 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数birthdate不能为空.
2016:10:07 20:12:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:12:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select quantities_remain,img_qrcode from 6s_activity where id=90 and status=1;, count:1, time:0.000.
2016:10:07 20:12:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 20:12:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select id,wechat from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and status=1;, count:1, time:0.000.
2016:10:07 20:12:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_signup where user_id=1115 and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 20:12:38 22358 140139179955968 [INFO db_exec 84] [sql_w] insert into 6s_signup(user_id,act_id,username_pa,age_ch,phone,gender,createtime,city,username_ch,birthdate,img,identity,program_name,organization,teacher,teacher_phone,part_group,part_profession,win_experience,company_phone) values(1115,90,'翔宇',1,'13926010718','male',now(),'宜春市','安保','','http://img.6skills.com/custom-sign-1475842283375.jpg?1475842305990','123456789123456789','456','369','钟老师','12345678912','幼儿组（学龄前）','舞蹈','','369');, count:1, time:0.020.
2016:10:07 20:12:38 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_activity set quantities_remain=quantities_remain-1 where id=90;, count:1, time:0.015.
2016:10:07 20:12:38 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 20:12:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=90 and a.status=1 and b.status=1;, count:3, time:0.001.
2016:10:07 20:12:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:12:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=90 and status=1;, count:1, time:0.000.
2016:10:07 20:12:58 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.73] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'860871068'], u'timestamp': [u'1475842378'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'7c685ceae6275d2eb423914738a8121fa9bd523f']}>, args:()
2016:10:07 20:12:58 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 20:12:58 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1208560559'], u'timestamp': [u'1475842378'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'9547f6439078c168aa74e6192330685e1d973cb9']}>, args:()
2016:10:07 20:12:58 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:508
2016:10:07 20:12:59 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'0016q80C0rhcCa2sd60C04m70C06q80y']}>, args:()
2016:10:07 20:12:59 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: nrLr_aQVITZT2ZAjWPlIA2CGrg0H3Imx4iZoWGSLWnWBLFw3Xl9Dpq9dXvjLLFgxax0xWXkFR-QwWzKVQbYPaHASgVDEudnHE8TWnLSV3po 7200
2016:10:07 20:12:59 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: Bxly74LSYsq73xwpEBmkAR8pHUxGK3sBNN_C6TbE11V-WbvjAsgwsYcryFUr7xQyzX5DNEq1y2iRhTFD7UvJfwQJTRQp-FcLJ0jt2HdQndo 8640000
2016:10:07 20:13:00 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:13:00 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 20:13:00 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 20:13:00 22358 140139179955968 [INFO get_openid 1331] return openid. 0016q80C0rhcCa2sd60C04m70C06q80y -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:13:00 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 20:13:00 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 20:13:04 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:13:04 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 20:13:14 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:13:14 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 20:13:15 22358 140139179955968 [INFO wrapper 75] >>>activities_mycollections<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:13:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 20:13:15 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 20:13:21 22358 140139179955968 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:13:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 20:13:21 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 20:14:22 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:14:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:14:22 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:14:22 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:14:22 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:14:22 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:14:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 20:14:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 20:14:22 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:14:42 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:14:42 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:14:42 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:14:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:14:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 20:14:42 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:14:47 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 20:14:47 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:14:47 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:14:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:14:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.005.
2016:10:07 20:14:47 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:14:56 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:14:56 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:14:56 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:14:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:14:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 20:14:56 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:15:41 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:15:41 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 20:15:48 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1486541899'], u'timestamp': [u'1475842547'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'1cf7cab2839c5999d1cea6c9b1c06ee2a229ec9b']}>, args:()
2016:10:07 20:15:48 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 20:16:25 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'771464905'], u'timestamp': [u'1475842585'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'e25fc6561a7a5791c0a5c421634a8ee7718a7678']}>, args:()
2016:10:07 20:16:25 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 20:17:49 22358 140139097212672 [INFO _update_js_signature 1030] [TOKEN] update js_signature:kgt8ON7yVITDhtdwci0qedWxJyz1VVx-TqXRisJtz8djeiod1qQgO-ep0yVTDklEWxq77AdvBPu8HGEVF-v5VA 7200
2016:10:07 20:18:10 22358 140139179955968 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:18:10 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:18:10 22358 140139179955968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:18:10 22358 140139179955968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:18:10 22358 140139179955968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 20:18:10 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:18:10 22358 140139179955968 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:18:11 22358 140139179955968 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:18:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:18:41 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1260799593'], u'timestamp': [u'1475842721'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'2dfc9f39d82a24aec2881719ce13ea3e5ac1de73']}>, args:()
2016:10:07 20:18:41 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 20:19:37 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'188060093'], u'timestamp': [u'1475842777'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'551db350e87a63e2c394d0e3d1d6aaeb30e85961']}>, args:()
2016:10:07 20:19:37 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 20:19:57 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1416984596'], u'timestamp': [u'1475842797'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'd728fe93065ab6b9672b4ba6ed67e9574605ea6a']}>, args:()
2016:10:07 20:19:57 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_unsubscribe, bodylen:280
2016:10:07 20:19:57 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set status=-1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.011.
2016:10:07 20:20:11 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'001xDglh2NKtrN0I8Ljh23Kflh2xDglC']}>, args:()
2016:10:07 20:20:11 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: EXGUhBQgnAm_GCFkZU2aHIISnByG0WGCHL382vAED5ul-cMF0STGWV_q9N0Ai0U7X6eqTHjccrPVIw8QFAj3T-adxmM_P0Ak6iUq1Ivi5gw 7200
2016:10:07 20:20:11 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: lsdoyhHgsXGCsZcx_1HfrwhxTYGwbn9LnxIk_4kM7TLJZBlDObUTYcDosJgRHLPQLfLGZ-IbOn3TdWRSVPihUcztXZ-Vh_faUkJEFsG89Vk 8640000
2016:10:07 20:20:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:20:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 20:20:11 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.012.
2016:10:07 20:20:11 22358 140139179955968 [INFO get_openid 1331] return openid. 001xDglh2NKtrN0I8Ljh23Kflh2xDglC -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:20:12 22358 140139179955968 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 20:20:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 20:20:12 22358 140139179955968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 20:20:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=90 and a.status=1 and b.status=1;, count:3, time:0.001.
2016:10:07 20:20:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:20:12 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=90 and status=1;, count:1, time:0.001.
2016:10:07 20:20:12 22358 140139179955968 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90&code=001xDglh2NKtrN0I8Ljh23Kflh2xDglC&state=123']}>, args:()
2016:10:07 20:20:45 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [103.214.68.188] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:21:38 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 20:21:38 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 20:21:38 22358 140139097212672 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:xXQZorydOKK8qE76CpBnDW2MA2kvBctoq5OrnDpWvhvBoTojEpdT7dSW_gTA-KN4iSn_q3ngHK_RoTXgZAauZP66e9g5pT6qy1ZAGQYRs3I
2016:10:07 20:21:38 22358 140139097212672 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:sg1BVvuiteGW4eNyW4Y5Jy9HsBwlsh6HPNqZIC94Yux78ZMa8qbHeecpZP4cnzd81DbDZN84PaHDkkmLXy83wremaqYAoQrNz_NOTjIngc0
2016:10:07 20:21:39 22358 140139179955968 [INFO wrapper 75] >>>get_uploadtoken<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475842896371.jpg']}>, args:()
2016:10:07 20:21:39 22358 140139179955968 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475842896371.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:XF2-Jfwtfxx0KFlYm_u6FITD0cU=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODQyODk2MzcxLmpwZyIsImRlYWRsaW5lIjoxNDc1ODQ2NDk5fQ== 
2016:10:07 20:21:50 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1791057563'], u'timestamp': [u'1475842910'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'762844b03968291af66f811d0bbd105acf86a6bf']}>, args:()
2016:10:07 20:21:50 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_subscribe, bodylen:320
2016:10:07 20:21:50 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:21:50 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 20:21:50 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 20:21:50 22358 140139179955968 [WARNING save_user_info_wx 1128] update posid return 0. openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw {"subscribe":1,"openid":"oYgYJwcdR1mRcJ_3WLghpeTPJoKw","nickname":"翔宇","sex":1,"language":"zh_CN","city":"广州","province":"广东","country":"中国","headimgurl":"http:\/\/wx.qlogo.cn\/mmopen\/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP\/0","subscribe_time":1475842910,"remark":"","groupid":0,"tagid_list":[]}
2016:10:07 20:21:53 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1086803555'], u'timestamp': [u'1475842913'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'33cab5bc799948162356b085e85b0e19040a9b6e']}>, args:()
2016:10:07 20:21:53 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 20:22:00 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'795235460'], u'timestamp': [u'1475842920'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'7ca6bc5425d68badd9684c7329530fb061a5f8be']}>, args:()
2016:10:07 20:22:00 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:508
2016:10:07 20:22:01 22358 140139179955968 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'011W2DkJ181FMa036pjJ15pDkJ1W2Dk6']}>, args:()
2016:10:07 20:22:01 22358 140139179955968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: kHKI8cpRoMHHAaqI_oZ-9TdST4QxT0jwVZ-mQ2hmUoiB1tHcCmiOBnm2AGju_09dBPIK7C-APMQ7iYeUteB3RwR-lNn5xB2-TLUtrVreIvs 7200
2016:10:07 20:22:01 22358 140139179955968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: XYWajGKUXfXnCI6YaJo2HB8b4FcpYpqsb7rXY-yK_V5Wu9SFihvKdwNOXxEYSgmFaS7sIfocrFSCKJrRcXOYeQZE1QIjvNv52XZ54TmWo24 8640000
2016:10:07 20:22:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:22:01 22358 140139179955968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 20:22:01 22358 140139179955968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 20:22:01 22358 140139179955968 [INFO get_openid 1331] return openid. 011W2DkJ181FMa036pjJ15pDkJ1W2Dk6 -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:22:02 22358 140139179955968 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 20:22:02 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 20:22:03 22358 140139179955968 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:22:03 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 20:22:03 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 20:22:05 22358 140139179955968 [INFO wrapper 75] >>>activities_mycollections<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:22:05 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 20:22:05 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:22:07 22358 140139179955968 [INFO wrapper 75] >>>activities_mycollections<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:22:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 20:22:07 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 20:22:09 22358 140139179955968 [INFO wrapper 75] >>>activities_myunpay_list<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:22:09 22358 140139179955968 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 20:22:11 22358 140139179955968 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:22:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 20:22:11 22358 140139179955968 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 20:22:14 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1338108783'], u'timestamp': [u'1475842934'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'12cf658b6ca99f6b56ea104903ab5c4846415f70']}>, args:()
2016:10:07 20:22:14 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 20:22:15 22358 140139179955968 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'520392889'], u'timestamp': [u'1475842935'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'638ac539a5c56b0136efb767d3d3ee6b52cfdf4b']}>, args:()
2016:10:07 20:22:15 22358 140139179955968 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:511
2016:10:07 20:22:17 25375 139717147432704 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 20:22:17 25375 139717147432704 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 20:22:17 25375 139717147432704 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 20:22:17 25375 139717147432704 [INFO _get_user_status_map 235] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 20:22:17 25375 139717147432704 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 20:22:17 25375 139717147432704 [INFO <module> 1071] [TOKEN] start new thread.
2016:10:07 20:22:17 25375 139717147432704 [INFO wrapper 75] >>>get_wx_acttypes<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:22:17 25375 139717147432704 [INFO wrapper 75] >>>get_hot_activities<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:22:17 25375 139717147432704 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:22:17 25375 139717147432704 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'021cuOg10S76GA1BoSg10aZQg10cuOgo']}>, args:()
2016:10:07 20:22:17 25375 139717147432704 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: erapZXEXIyXyEpAthqT0JMepHHXv_sYNeYty2ti0RZq-DSKtwW4pFcHdLOyyvD60s9uLjnHfZZCqIDNVXW9FwkNlLBMZFqPrnJWX2muw1Ho 7200
2016:10:07 20:22:17 25375 139717147432704 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: hDziKNJSNlzHbPrkEVnENPje-HcAVn4-rZAw2NPJeYBiX9k4PAZo-VX49R9CmKMJBIAUN19Be7LcV4qa98z7dRHByC48axDnyR-uAsdMgRU 8640000
2016:10:07 20:22:18 25375 139717147432704 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:22:18 25375 139717147432704 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 20:22:18 25375 139717147432704 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 20:22:18 25375 139717147432704 [INFO get_openid 1331] return openid. 021cuOg10S76GA1BoSg10aZQg10cuOgo -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:22:18 25375 139717147432704 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:22:18 25375 139717147432704 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:22:18 25375 139717147432704 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:22:18 25375 139717147432704 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 20:22:18 25375 139717147432704 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 20:22:18 25375 139717147432704 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:23:02 25375 139717147432704 [INFO wrapper 75] >>>default_process<<< [115.28.122.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:23:38 25375 139717147432704 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 20:23:38 25375 139717147432704 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:23:38 25375 139717147432704 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:23:38 25375 139717147432704 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 20:23:38 25375 139717147432704 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.006.
2016:10:07 20:23:38 25375 139717147432704 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:24:57 25375 139717147432704 [INFO wrapper 75] >>>default_process<<< [101.226.99.196] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:27:34 25388 140472580192000 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 20:27:34 25388 140472580192000 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 20:27:34 25388 140472580192000 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 20:27:34 25388 140472580192000 [INFO _get_user_status_map 235] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 20:27:34 25388 140472580192000 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 20:27:34 25388 140472580192000 [INFO <module> 1071] [TOKEN] start new thread.
2016:10:07 20:27:35 25388 140472580192000 [INFO wrapper 75] >>>default_process<<< [58.247.206.155] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1904318685'], u'timestamp': [u'1475843254'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'c8e10439fea5c146f30495ec63f642fdec72cd61']}>, args:()
2016:10:07 20:27:35 25388 140472580192000 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:508
2016:10:07 20:27:35 25388 140472580192000 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'0416yPfS151ciU0agtiS1FCIfS16yPfm']}>, args:()
2016:10:07 20:27:35 25388 140472580192000 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: YMwCl75wLWtEZdpzvHLiVyySTf2BpUe3qd-U7cLAuRq1-JjomKgYm8pV16dm8k9vqtOXpEDiC9vT1-us5YGgEyze1dT_v1iDpiMIhVMXpl4 7200
2016:10:07 20:27:35 25388 140472580192000 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: CfdqNbqXPxNo_kRx9-HVRAL84d2L3jcRH6BJS4JY5jikkmGODtFJBTrCb_z3ECupg41R8Gmk7pjJ05mwjp0Xk-9ZzlIV_ay2L2PxJMcjWlc 8640000
2016:10:07 20:27:35 25388 140472580192000 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:27:35 25388 140472580192000 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 20:27:35 25388 140472580192000 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 20:27:35 25388 140472580192000 [INFO get_openid 1331] return openid. 0416yPfS151ciU0agtiS1FCIfS16yPfm -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:27:35 25388 140472580192000 [INFO wrapper 75] >>>activities_getprofile<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 20:27:35 25388 140472580192000 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 20:27:37 25388 140472580192000 [INFO wrapper 75] >>>activities_mycollections<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:27:37 25388 140472580192000 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:3, time:0.001.
2016:10:07 20:27:37 25388 140472580192000 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 20:27:42 25388 140472580192000 [INFO wrapper 75] >>>activities_my<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:27:42 25388 140472580192000 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:30, time:0.002.
2016:10:07 20:27:42 25388 140472580192000 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:27:45 25388 140472580192000 [INFO wrapper 75] >>>default_process<<< [120.198.202.48] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:27:46 25388 140472580192000 [INFO wrapper 75] >>>activities_myunpay_list<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:27:46 25388 140472580192000 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 20:27:48 25388 140472580192000 [INFO wrapper 75] >>>activities_mycollections<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:27:48 25388 140472580192000 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:3, time:0.001.
2016:10:07 20:27:48 25388 140472580192000 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:27:55 25388 140472580192000 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:27:55 25388 140472580192000 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:27:55 25388 140472580192000 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:27:55 25388 140472580192000 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:27:55 25388 140472580192000 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:27:55 25388 140472580192000 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.000.
2016:10:07 20:27:55 25388 140472580192000 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 20:27:55 25388 140472580192000 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:27:55 25388 140472580192000 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:28:11 25388 140472580192000 [INFO wrapper 75] >>>activities_my<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:28:11 25388 140472580192000 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:30, time:0.002.
2016:10:07 20:28:11 25388 140472580192000 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:28:53 25388 140472580192000 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:28:53 25388 140472580192000 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 20:28:53 25388 140472580192000 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:28:53 25388 140472580192000 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 20:28:53 25388 140472580192000 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:28:53 25388 140472580192000 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 20:29:27 25388 140472497448704 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:U2m687Fyeuqz6rfSSLjViKJidNkXSBL70dOQZ-nID32FfFJxx75JGXhem4gtzpg8wu2bbhvz7V-9hqlrFPUaTDh6pWBBu6fo8SbZN1LJxco
2016:10:07 20:29:27 25388 140472497448704 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:wNBAM1R5pLJl8rSFVoRAKf5ZrH0gjxyb4R6GXImqna6vuw0xL5ockbOYIr7uvclKlyelnRxYlTjopxcC8dhcMbnJZCnl8K3WBdsoVxBmup8
2016:10:07 20:29:28 25388 140472497448704 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:ertqKlhRmE9ef5rS_MaTFJSh9lAsCRohh3v9BCNCT4z-YOO6-UxNj6UGWiF0mkrAUI7JVYSEuyP6A_Vm5RE_9OdIZIJBj-fnrIWD9nniEkw
2016:10:07 20:29:28 25388 140472497448704 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:wk8PDgObq-EbXvdryeXKb88uEYNwKW1LYPONKK6GkK8k53jPodFJoWX39B8NpQuEZgpWa_9AuGe7f8XR121C0Nj1iC_DQcy35MbfQbWaaPY
2016:10:07 20:34:02 25492 140618990126848 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 20:34:02 25492 140618990126848 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 20:34:02 25492 140618990126848 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 20:34:02 25492 140618990126848 [INFO _get_user_status_map 235] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 20:34:02 25492 140618990126848 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 20:34:02 25492 140618990126848 [INFO <module> 1071] [TOKEN] start new thread.
2016:10:07 20:34:02 25492 140618990126848 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:34:02 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 20:34:02 25492 140618990126848 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:34:02 25492 140618990126848 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 20:34:02 25492 140618990126848 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:34:02 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 20:34:05 25492 140618990126848 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 20:34:05 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 20:34:05 25492 140618990126848 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 20:34:09 25492 140618990126848 [INFO wrapper 75] >>>activities_my<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:34:09 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:7, time:0.002.
2016:10:07 20:34:09 25492 140618990126848 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:34:16 25492 140618990126848 [INFO wrapper 75] >>>activities_reset<<< [58.62.53.246] POST:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signid': [u'94']}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:34:16 25492 140618990126848 [INFO db_exec 84] [sql_w] update 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id set c.quantities_remain=c.quantities_remain+1, a.status=0 where a.id=94 and b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:2, time:0.014.
2016:10:07 20:34:16 25492 140618990126848 [ERROR activities_reset 568] db fail.
2016:10:07 20:34:17 25492 140618990126848 [INFO wrapper 75] >>>activities_my<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:34:17 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 20:34:17 25492 140618990126848 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:34:18 25492 140618990126848 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:34:18 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 20:34:18 25492 140618990126848 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:34:18 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 20:34:18 25492 140618990126848 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:34:18 25492 140618990126848 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 20:34:21 25492 140618990126848 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 20:34:21 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 20:34:21 25492 140618990126848 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 20:34:25 25492 140618990126848 [INFO wrapper 75] >>>activities_my<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:34:25 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 20:34:25 25492 140618990126848 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 20:34:37 25492 140618990126848 [INFO wrapper 75] >>>activities_mycollections<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:34:37 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:3, time:0.001.
2016:10:07 20:34:37 25492 140618990126848 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 20:34:53 25492 140618990126848 [INFO wrapper 75] >>>activities_my<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:34:53 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.002.
2016:10:07 20:34:53 25492 140618990126848 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 20:35:04 25492 140618990126848 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:35:04 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 20:35:04 25492 140618990126848 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:35:04 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 20:35:04 25492 140618990126848 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:35:04 25492 140618990126848 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 20:35:07 25492 140618990126848 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 20:35:07 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 20:35:07 25492 140618990126848 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 20:35:36 25492 140618990126848 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:35:36 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 20:35:36 25492 140618990126848 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:35:36 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 20:35:36 25492 140618990126848 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:35:36 25492 140618990126848 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.001.
2016:10:07 20:35:40 25492 140618990126848 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 20:35:40 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 20:35:40 25492 140618990126848 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 20:37:48 25492 140618907383552 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:yA6zLX05U33VJfM5Fz8bBF6wOyYqHyPkYccSGsNhVHZb7GUNWW1ngYSa0G_v4h599BuFSDrPFeroPSNxDvfHWlu6SYaaMior71wBcMsyung
2016:10:07 20:37:48 25492 140618907383552 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:RX1oXF51FxzuhPccr2l3NoWqVisw4l23NyS4uaTgOvcnFwENPdkZuu71hL3D1ogXaVoAEw3qmj0pcjX3FkDOXuH5wMXgcfpX4-vgCuwvEWM
2016:10:07 20:38:13 25492 140618990126848 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:38:13 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 20:38:13 25492 140618990126848 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:38:13 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 20:38:13 25492 140618990126848 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:38:13 25492 140618990126848 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 20:38:16 25492 140618990126848 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 20:38:16 25492 140618990126848 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 20:38:16 25492 140618990126848 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 20:38:43 25598 140509556295424 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 20:38:43 25598 140509556295424 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 20:38:43 25598 140509556295424 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 20:38:43 25598 140509556295424 [INFO _get_user_status_map 235] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 20:38:43 25598 140509556295424 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 20:38:43 25598 140509556295424 [INFO <module> 1071] [TOKEN] start new thread.
2016:10:07 20:38:43 25598 140509556295424 [INFO wrapper 75] >>>activities_my<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:38:43 25598 140509556295424 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 20:38:43 25598 140509556295424 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:38:46 25598 140509556295424 [INFO wrapper 75] >>>activities_mycollections<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:38:46 25598 140509556295424 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:3, time:0.001.
2016:10:07 20:38:46 25598 140509556295424 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:38:47 25598 140509556295424 [INFO wrapper 75] >>>activities_myunpay_list<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:38:47 25598 140509556295424 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where b.price_child>0 and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and c.total_fee is null and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 20:38:50 25598 140509556295424 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:38:50 25598 140509556295424 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 20:38:50 25598 140509556295424 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:38:50 25598 140509556295424 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 20:38:50 25598 140509556295424 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:38:50 25598 140509556295424 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 20:39:06 25598 140509556295424 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:39:06 25598 140509556295424 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 20:39:07 25598 140509556295424 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:39:07 25598 140509556295424 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 20:39:07 25598 140509556295424 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:39:07 25598 140509556295424 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 20:39:18 25598 140509556295424 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:39:18 25598 140509556295424 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 20:39:18 25598 140509556295424 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 20:39:18 25598 140509556295424 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 20:39:18 25598 140509556295424 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:39:18 25598 140509556295424 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 20:41:33 25598 140509473552128 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:GDydBRgquN0WNmAxJcRsfcy_Rtx3T7AnuAUDB8rQvfDMWTKjYMLowxZ9a2fcJBWSfOsisuR94OinYt44Nv7dmWCpMzwnEmIZpWLUkgRHEiY
2016:10:07 20:41:33 25598 140509473552128 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:fMMNNiTzPN3MqGt35vTQ4a3TBIuLis11RUztHG_uSjXokHymbx6lyRi5JhUuRFnHdTb2zVJ9vU5nHqav360J6HTx0CfCrIl38KkU_M68i0k
2016:10:07 20:45:18 25598 140509473552128 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:CIrkZ8PMmITAkRvnBpz2FJ0I88lsZX8Y_EbNt72kDtrxr2mW9Lg8h0o1Vojj-whrD2K4FBaT-Gw6nIIpoHQGN-vJ0B1l0Ne0xxKjFT17RX0
2016:10:07 20:45:18 25598 140509473552128 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:Z8N9ak3Gzmb94O6w7trk6KO3l2RGNI8EWOazg30bEEqkQ_1v1KyvskbzBg4QZ44xYWEPcnnRfUY-678qnfSAozcmmdfIiPgK76hQeaejrPM
2016:10:07 20:46:58 25611 139652314109696 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 20:46:58 25611 139652314109696 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 20:46:58 25611 139652314109696 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 20:46:58 25611 139652314109696 [INFO _get_user_status_map 235] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 20:46:58 25611 139652314109696 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 20:46:58 25611 139652314109696 [INFO <module> 1071] [TOKEN] start new thread.
2016:10:07 20:46:58 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [120.198.202.48] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:46:58 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:46:58 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 20:46:58 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:46:58 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [14.17.37.146] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:47:00 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:47:00 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:3, time:0.001.
2016:10:07 20:47:00 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:47:01 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:47:01 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:3, time:0.001.
2016:10:07 20:47:06 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'912778772'], u'timestamp': [u'1475844426'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'de2e46e6c10d12bfafbd6734c6c547272b328012']}>, args:()
2016:10:07 20:47:06 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 20:47:06 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 20:47:06 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 20:47:07 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 20:47:07 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=90 and a.status=1 and b.status=1;, count:3, time:0.001.
2016:10:07 20:47:07 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:47:07 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=90 and status=1;, count:1, time:0.000.
2016:10:07 20:47:07 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 20:47:07 25611 139652314109696 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:47:07 25611 139652314109696 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:47:07 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:47:07 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'011CCHNC1upcfh0gzwMC1LuLNC1CCHNR']}>, args:()
2016:10:07 20:47:07 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: xxYXAl-3sXE3kUMWgPs6VBatTsC2Kf5DiSbIbeqdMAv6hppks_N61P11z_7IZFRUZMJyNrBHBnfZyi2yIbbK0D5wAb8BqKBHPmcc73jlbTI 7200
2016:10:07 20:47:07 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: 18nD6pgo_LA7YIF_4ew0vNB8AKkt-NyRiD7oRaoqNQAuqTzjfkSi-4qxuk9lI_iwMAKMFE1y-fdBnygpEBX9a_c1vni4dLtgohOTjwGm3W8 8640000
2016:10:07 20:47:08 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:47:08 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 20:47:08 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 20:47:08 25611 139652314109696 [INFO get_openid 1331] return openid. 011CCHNC1upcfh0gzwMC1LuLNC1CCHNR -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:47:08 25611 139652314109696 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:47:08 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:47:08 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:47:08 25611 139652314109696 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 20:47:08 25611 139652314109696 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.006.
2016:10:07 20:47:08 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:47:16 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1142980701'], u'timestamp': [u'1475844436'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'fdce55aaad899e490b66c07ef195a7cb788b437f']}>, args:()
2016:10:07 20:47:16 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 20:47:16 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1438431644'], u'timestamp': [u'1475844436'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'f792de3598b45ae71c5bde322238dc6c8525dfc4']}>, args:()
2016:10:07 20:47:16 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:508
2016:10:07 20:47:17 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'031pvZB607UHgv1y6OD60cOWB60pvZBf']}>, args:()
2016:10:07 20:47:17 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: eMQ2p6_BLmRnUBtzYxg24U2HUoZoLOv7FDT64ZLONz9c9WenI7nXUYbVsJJCPKG150BS8x3P6q1HIHDAsYhdSp9SWZs4nLywuetx7ELz-Ms 7200
2016:10:07 20:47:17 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: VahXjuQCPDugDX9_CKFUDZgsz4Tg4V8EeXYTqJik_mBVvNAqAs2QVgtT7Z0RsFAJXD9Vc1zl9l51Pcxqz1-OTII5n0MI1sm1gsI_Ho2_ZGE 8640000
2016:10:07 20:47:17 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:47:17 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 20:47:17 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 20:47:17 25611 139652314109696 [INFO get_openid 1331] return openid. 031pvZB607UHgv1y6OD60cOWB60pvZBf -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:47:17 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 20:47:17 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 20:47:19 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:47:19 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 20:47:19 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:47:21 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:47:21 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 20:47:21 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 20:47:25 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:47:25 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 20:47:25 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 20:47:27 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 20:47:27 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 20:47:27 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 20:47:27 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=90 and a.status=1 and b.status=1;, count:3, time:0.001.
2016:10:07 20:47:27 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:47:27 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=90 and status=1;, count:1, time:0.000.
2016:10:07 20:47:27 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 20:47:28 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 20:47:28 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 20:47:28 25611 139652314109696 [INFO wrapper 75] >>>get_uploadtoken<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475844446085.jpg']}>, args:()
2016:10:07 20:47:28 25611 139652314109696 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475844446085.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:maeANtf9ZiPZDGJ363sVlQL2bT8=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODQ0NDQ2MDg1LmpwZyIsImRlYWRsaW5lIjoxNDc1ODQ4MDQ4fQ== 
2016:10:07 20:48:35 25611 139652314109696 [INFO wrapper 75] >>>activities_sign<<< [117.136.49.43] POST:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'major': [u'\u821e\u8e48'], u'name': [u'\u7fd4\u5b87'], u'identity_card': [u'123456789123456789'], u'gender': [u'male'], u'age': [u'1'], u'teacher': [u'\u949f\u8001\u5e08'], u'phone': [u'13926010718'], u'program': [u'\u5443\u5443\u5443'], u'company_tel': [u'326589'], u'kids_name': [u'\u8bd5\u8bd5'], u'teacher_phone': [u'12345678963'], u'images': [u'http://img.6skills.com/custom-sign-1475844446085.jpg?1475844470072'], u'awards': [u''], u'company': [u'\u6765\u5427'], u'actid': [u'90'], u'match_class': [u'\u5e7c\u513f\u7ec4\uff08\u5b66\u9f84\u524d\uff09']}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:48:35 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数city不能为空.
2016:10:07 20:48:35 25611 139652314109696 [INFO db_exec 86] [sql_r] select position_details from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 20:48:35 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数birthdate不能为空.
2016:10:07 20:48:35 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:48:35 25611 139652314109696 [INFO db_exec 86] [sql_r] select quantities_remain,img_qrcode from 6s_activity where id=90 and status=1;, count:1, time:0.000.
2016:10:07 20:48:35 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 20:48:35 25611 139652314109696 [INFO db_exec 86] [sql_r] select id,wechat from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and status=1;, count:1, time:0.000.
2016:10:07 20:48:35 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_signup where user_id=1115 and act_id=90 and status=1;, count:1, time:0.000.
2016:10:07 20:48:35 25611 139652314109696 [ERROR activities_sign 482] 您已经对该活动报过名.  act:90,u:1115.
2016:10:07 20:48:42 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.73] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'297225846'], u'timestamp': [u'1475844522'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'619f31b80c089c04a792277e26ff2ea8e55380e7']}>, args:()
2016:10:07 20:48:42 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 20:48:42 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1013938442'], u'timestamp': [u'1475844522'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'a2ad3c51b178dc2bc631142355908b6f52430d4e']}>, args:()
2016:10:07 20:48:42 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:508
2016:10:07 20:48:43 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'011cwA0I160M6c0CbeXH1arB0I1cwA0c']}>, args:()
2016:10:07 20:48:43 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: 0_9p-p5p7vG8Tgyt6_8orLpNMwZxUPtFP3znDolMTe6WGoNxth_QjULlPh0A5dtDJM7q6su_j_1Fv36BYKhvekfx5wc4oqxs89KPhwMnW_Y 7200
2016:10:07 20:48:43 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: mcwEB0N3qfn-RTeHcU2QjpG_YXNjvrlImV6OApdnvJO5SrCPu_TyXpinxdblavEJ-uMQYR-fmooyl0-WpNT_a0WmCrXZYSOhXemj5ocPYEU 8640000
2016:10:07 20:48:43 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:48:43 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 20:48:43 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 20:48:43 25611 139652314109696 [INFO get_openid 1331] return openid. 011cwA0I160M6c0CbeXH1arB0I1cwA0c -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:48:43 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 20:48:43 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 20:48:45 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:48:45 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 20:48:45 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:48:47 25611 139652314109696 [INFO wrapper 75] >>>activities_reset<<< [117.136.49.43] POST:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signid': [u'106']}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:48:47 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id set c.quantities_remain=c.quantities_remain+1, a.status=0 where a.id=106 and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:2, time:0.015.
2016:10:07 20:48:47 25611 139652314109696 [ERROR activities_reset 568] db fail.
2016:10:07 20:48:48 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:48:48 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 20:48:48 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:48:51 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.73] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1767228276'], u'timestamp': [u'1475844531'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'fe3db43ded7ee2f9848510d61f14f5e36a13f25e']}>, args:()
2016:10:07 20:48:51 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 20:48:51 25611 139652231366400 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:ArrdENXQGILD0FzTenzNIVMAyjNg8Cx9YiNDVi0SIbZA6tgbWJHpVrvnzPBLyFVzMjQvLHW4orSurygxpGmbqUvJp9w3BWHP7FQJAHp-r08
2016:10:07 20:48:51 25611 139652231366400 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:ZH3X8Dvtyi9QV7ttWmbLzE3rJHjqW70sAZyR70N4cW6DtjDvag1FetUfWSbOu7iUZua_AXgCmJ6yuOEtPy4_qOM0o8c_y-lUvpjoxnqevrE
2016:10:07 20:48:52 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'140807536'], u'timestamp': [u'1475844532'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'd11ed74771ad1e5dd825143546bf6c7e929df2f7']}>, args:()
2016:10:07 20:48:52 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:511
2016:10:07 20:48:52 25611 139652314109696 [INFO wrapper 75] >>>get_wx_acttypes<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:48:52 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'021HwOBV1ZhRa91F77CV1ScJBV1HwOB7']}>, args:()
2016:10:07 20:48:52 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: 0hshyxg3YdlJE-WzSBlLYe2RHk1sTQynJfwPCqdLo2hZABjF0NHR-eXXXW7fgq8ucrbjqBie4GJKCRgKd-833YhgNSZZI5DyML-IWmQIbHc 7200
2016:10:07 20:48:52 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: cQrE7SbxUkHy0dtRYgfSbzYVbZyC-o0QW_uN5yg-OhmRbxefub7eXH0u93uCGDiGUJivayYMZq9lLKDQkPz9vZ4rapLTNhaLvoYAqtDfqRQ 8640000
2016:10:07 20:48:52 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:48:52 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 20:48:52 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 20:48:52 25611 139652314109696 [INFO get_openid 1331] return openid. 021HwOBV1ZhRa91F77CV1ScJBV1HwOB7 -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:48:52 25611 139652314109696 [INFO wrapper 75] >>>get_hot_activities<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:48:52 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.000.
2016:10:07 20:48:53 25611 139652314109696 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:48:53 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:48:53 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:48:53 25611 139652314109696 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 20:48:53 25611 139652314109696 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 20:48:53 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:48:55 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 20:48:55 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 20:48:55 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:48:55 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=90 and status=1;, count:1, time:0.000.
2016:10:07 20:48:55 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 20:48:55 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 20:48:55 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 20:49:00 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 20:49:00 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 20:49:01 25611 139652314109696 [INFO wrapper 75] >>>get_uploadtoken<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475844538372.jpg']}>, args:()
2016:10:07 20:49:01 25611 139652314109696 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475844538372.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:IqTA_1Zbym0W1SY2LMsxR_9_SIU=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODQ0NTM4MzcyLmpwZyIsImRlYWRsaW5lIjoxNDc1ODQ4MTQxfQ== 
2016:10:07 20:50:16 25611 139652314109696 [INFO wrapper 75] >>>activities_sign<<< [117.136.49.43] POST:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'major': [u'\u821e\u8e48'], u'name': [u'\u7fd4\u5b87'], u'identity_card': [u'123456789123456789'], u'gender': [u'male'], u'age': [u'1'], u'teacher': [u'\u949f\u8001\u5e08'], u'phone': [u'13926010718'], u'program': [u'\u597d\u4e45'], u'company_tel': [u'123456'], u'kids_name': [u'\u554a\u554a'], u'teacher_phone': [u'12356478912'], u'images': [u'http://img.6skills.com/custom-sign-1475844538372.jpg?1475844551208'], u'awards': [u''], u'company': [u'\u4e0d\u89c1'], u'actid': [u'90'], u'match_class': [u'\u5e7c\u513f\u7ec4\uff08\u5b66\u9f84\u524d\uff09']}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:50:16 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数city不能为空.
2016:10:07 20:50:16 25611 139652314109696 [INFO db_exec 86] [sql_r] select position_details from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 20:50:16 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数birthdate不能为空.
2016:10:07 20:50:16 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:50:16 25611 139652314109696 [INFO db_exec 86] [sql_r] select quantities_remain,img_qrcode from 6s_activity where id=90 and status=1;, count:1, time:0.000.
2016:10:07 20:50:16 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 20:50:16 25611 139652314109696 [INFO db_exec 86] [sql_r] select id,wechat from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and status=1;, count:1, time:0.000.
2016:10:07 20:50:16 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_signup where user_id=1115 and act_id=90 and status=1;, count:0, time:0.001.
2016:10:07 20:50:16 25611 139652314109696 [INFO db_exec 84] [sql_w] insert into 6s_signup(user_id,act_id,username_pa,age_ch,phone,gender,createtime,city,username_ch,birthdate,img,identity,program_name,organization,teacher,teacher_phone,part_group,part_profession,win_experience,company_phone) values(1115,90,'翔宇',1,'13926010718','male',now(),'宜春市','啊啊','','http://img.6skills.com/custom-sign-1475844538372.jpg?1475844551208','123456789123456789','好久','不见','钟老师','12356478912','幼儿组（学龄前）','舞蹈','','123456');, count:1, time:0.033.
2016:10:07 20:50:16 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_activity set quantities_remain=quantities_remain-1 where id=90;, count:1, time:0.013.
2016:10:07 20:50:16 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 20:50:16 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=90 and a.status=1 and b.status=1;, count:3, time:0.001.
2016:10:07 20:50:16 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:50:16 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=90 and status=1;, count:1, time:0.000.
2016:10:07 20:50:24 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1155022959'], u'timestamp': [u'1475844624'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'bdec7a51dc762b70ebfef110c6f3c13f1d8a0ffa']}>, args:()
2016:10:07 20:50:24 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 20:50:24 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1287417291'], u'timestamp': [u'1475844624'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'54fba05cca99accbd9b67c77a89c032c13a0eb6a']}>, args:()
2016:10:07 20:50:24 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:508
2016:10:07 20:50:25 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'011VUmGc1wogcp0qNbGc1g2jGc1VUmGB']}>, args:()
2016:10:07 20:50:26 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: cO3f2YB8BvE38Q7BMP1_FoS_0vvBgEK_o4Fd87HVoScxli7Y_PLy-l6zEmX09bwJ8RMD7ByYpynQqRFmwDDIkQ5Z9GRszVlw-xz162cC2CA 7200
2016:10:07 20:50:26 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: Zg4DBrmZvEYUoaY1TcGX-fSHld9Wh3zZ2So72hA-sGYlG6qaqia01-kKLxRkYmSY4kLL_4fWzWgb_8OkHnS1KNbxGuMJgJ-es11dsRUbhlE 8640000
2016:10:07 20:50:26 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:50:26 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 20:50:26 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 20:50:26 25611 139652314109696 [INFO get_openid 1331] return openid. 011VUmGc1wogcp0qNbGc1g2jGc1VUmGB -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:50:26 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 20:50:26 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 20:50:27 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:50:27 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 20:50:29 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:50:29 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 20:50:29 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:51:24 25611 139652314109696 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:51:24 25611 139652314109696 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:51:24 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:51:24 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'0213VciV01VNfR1K6PiV0aN7iV03VciL']}>, args:()
2016:10:07 20:51:24 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: Z7bQmCWF-kuC32vhhW4Lr7qQCFk64oJxBsGfyvYjv4zL1LVbCrnVGFR8Xc4I9daHUyJe3X2N2id2Zw-MIfRJifMreeezmv7zcdfP0Q0Qc6A 7200
2016:10:07 20:51:24 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: DcOS-50X8apbhYJhZEwP8YkFEo3VyzH023kEp4UZP7ZgsJ69BVA6io6Dxa0RM1RLjsBjF3n4sbegQJ8FwfUs8Nzl2gu59-9RsizHAI4TSdg 8640000
2016:10:07 20:51:25 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:51:25 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 20:51:25 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 20:51:25 25611 139652314109696 [INFO get_openid 1331] return openid. 0213VciV01VNfR1K6PiV0aN7iV03VciL -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:51:26 25611 139652314109696 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:51:26 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:51:26 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:51:26 25611 139652314109696 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 20:51:26 25611 139652314109696 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 20:51:26 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:51:29 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'38']}>, args:()
2016:10:07 20:51:29 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 20:51:29 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 20:51:29 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 20:51:29 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'38']}>, args:()
2016:10:07 20:51:29 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 20:51:30 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=38']}>, args:()
2016:10:07 20:51:31 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 20:51:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 20:51:36 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:51:36 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 20:51:36 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 20:51:39 25611 139652314109696 [INFO wrapper 75] >>>activities_reset<<< [117.136.49.43] POST:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signid': [u'107']}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:51:39 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id set c.quantities_remain=c.quantities_remain+1, a.status=0 where a.id=107 and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:2, time:0.020.
2016:10:07 20:51:39 25611 139652314109696 [ERROR activities_reset 568] db fail.
2016:10:07 20:51:39 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:51:39 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 20:51:39 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:51:41 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:51:41 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 20:51:42 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:51:42 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 20:51:42 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:51:45 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1759742618'], u'timestamp': [u'1475844705'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'35d8e530a6ce7f98b1243886587796cf2df9846a']}>, args:()
2016:10:07 20:51:45 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 20:53:33 25611 139652231366400 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:x72vYiwKiJdLbUstjgKvIsEIrYLQCP5I9GsTz8dUWOsvBAsiAbmRG-C13txys2t3uYn2uRgFJQj005_CBLbuJxahwUTBNR1SPpF5nSBeb60
2016:10:07 20:53:33 25611 139652231366400 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:1DQqBwPrkv_fiQJkeDLs0ooS6f4l4cO6LjGWx-kqGJ4KGjAY4TQiWj6Y6DCRWSXbV6di5BPlK0T4-_qy3TQ7Yv2_lJfB43WYqkSM9QHxZj8
2016:10:07 20:56:20 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.73] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'288514476'], u'timestamp': [u'1475844980'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'e5902349c23847b3cffe7f55fffa0e5c22d63e9e']}>, args:()
2016:10:07 20:56:20 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 20:56:20 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'763632232'], u'timestamp': [u'1475844980'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'5b22e2b6e36384d7160ef793f788339eba4421e0']}>, args:()
2016:10:07 20:56:20 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:508
2016:10:07 20:56:24 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'011Qf30m0xrrSf1R4c2m0Hq30m0Qf30K']}>, args:()
2016:10:07 20:56:24 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: -j17ItJ-5Mbq2n5W7WRuUSqMIhVuULfMN9tRzYE6kvFaAzw0GnKJDxIFMbU-7WvUXC5wUO7XzuaqLWhBfXHQ5NQGRGNSSWyjw5mzmdoXhK0 7200
2016:10:07 20:56:24 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: CKD10xd0kAOVDvXVKn87iNCo_FJJ2se_mbVz4hduvvQjagfbWFZ3DNJuQHXaOS_5tIf689XlRz31n0VUV92LqIvA0X9mf6v_BHiJ-WCAvxE 8640000
2016:10:07 20:56:24 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:56:24 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 20:56:24 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 20:56:24 25611 139652314109696 [INFO get_openid 1331] return openid. 011Qf30m0xrrSf1R4c2m0Hq30m0Qf30K -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:56:24 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 20:56:24 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 20:56:28 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:56:28 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 20:56:28 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:56:31 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:56:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 20:56:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:56:33 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:56:33 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 20:56:35 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'67809352'], u'timestamp': [u'1475844995'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'9c1226f17db2476e741a15c246e2038e2999c20c']}>, args:()
2016:10:07 20:56:35 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 20:56:35 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1456353057'], u'timestamp': [u'1475844995'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'd499d44f088119a1181a8659a9b05cc01024f79b']}>, args:()
2016:10:07 20:56:35 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:511
2016:10:07 20:56:36 25611 139652314109696 [INFO wrapper 75] >>>get_wx_acttypes<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:56:36 25611 139652314109696 [INFO wrapper 75] >>>get_hot_activities<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:56:36 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 20:56:36 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'031IMKRR11NEKU0fUWOR1RMHRR1IMKRp']}>, args:()
2016:10:07 20:56:37 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: upcbywX-COXzsY2ifh9BaApVPQqvZtpPtWYW8NgeQT5c2syi43y66YSYkWlbrwhFplgJATu5OMd5RIUkseboAHRXVs9NCuI1mp-vurFWJ78 7200
2016:10:07 20:56:37 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: WvctZqN21dinVJVcZKhU6n8gq4Ok0YGZbaO3nmMAiiVH_RdnfhzIey9zUwHc_GCadOJo4ISzDXq-mx6PJtF8R40s5xXSvPpOf2amSQWZatI 8640000
2016:10:07 20:56:37 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:56:37 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 20:56:37 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 20:56:37 25611 139652314109696 [INFO get_openid 1331] return openid. 031IMKRR11NEKU0fUWOR1RMHRR1IMKRp -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:56:37 25611 139652314109696 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 20:56:37 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 20:56:37 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 20:56:37 25611 139652314109696 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 20:56:37 25611 139652314109696 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.007.
2016:10:07 20:56:37 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 20:56:39 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 20:56:39 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 20:56:39 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 20:56:39 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 20:56:39 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:56:39 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=90 and status=1;, count:1, time:0.000.
2016:10:07 20:56:39 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 20:56:42 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 20:56:42 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 20:56:42 25611 139652314109696 [INFO wrapper 75] >>>get_uploadtoken<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'key': [u'custom-sign-1475844999854.jpg']}>, args:()
2016:10:07 20:56:42 25611 139652314109696 [INFO get_uploadtoken 973] get_uploadtoken key:custom-sign-1475844999854.jpg token:-YQ_Z6KbcOw1oGbhSM9au01otcr8UWvK5O4FfyiK:uPWfVzufCAI_u8W2D17PJbeuGBk=:eyJzY29wZSI6InNpeHNraWxsczpjdXN0b20tc2lnbi0xNDc1ODQ0OTk5ODU0LmpwZyIsImRlYWRsaW5lIjoxNDc1ODQ4NjAyfQ== 
2016:10:07 20:57:46 25611 139652314109696 [INFO wrapper 75] >>>activities_sign<<< [117.136.49.43] POST:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'major': [u'\u821e\u8e48'], u'name': [u'\u7fd4\u5b87'], u'identity_card': [u'123456789123456789'], u'gender': [u'male'], u'age': [u'1'], u'teacher': [u'\u949f\u8001\u5e08'], u'phone': [u'13926010718'], u'program': [u'\u65b0\u7586\u821e'], u'company_tel': [u'12345678'], u'kids_name': [u'\u4e3d\u4e3d'], u'teacher_phone': [u'12345678912'], u'images': [u'http://img.6skills.com/custom-sign-1475844999854.jpg?1475845015204'], u'awards': [u''], u'company': [u'\u5c11\u5e74\u5bab'], u'actid': [u'90'], u'match_class': [u'\u5e7c\u513f\u7ec4\uff08\u5b66\u9f84\u524d\uff09']}>, GET:<QueryDict: {}>, args:()
2016:10:07 20:57:46 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数city不能为空.
2016:10:07 20:57:46 25611 139652314109696 [INFO db_exec 86] [sql_r] select position_details from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 20:57:46 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数birthdate不能为空.
2016:10:07 20:57:46 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 20:57:46 25611 139652314109696 [INFO db_exec 86] [sql_r] select quantities_remain,img_qrcode from 6s_activity where id=90 and status=1;, count:1, time:0.000.
2016:10:07 20:57:46 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 20:57:46 25611 139652314109696 [INFO db_exec 86] [sql_r] select id,wechat from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and status=1;, count:1, time:0.000.
2016:10:07 20:57:46 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_signup where user_id=1115 and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 20:57:46 25611 139652314109696 [INFO db_exec 84] [sql_w] insert into 6s_signup(user_id,act_id,username_pa,age_ch,phone,gender,createtime,city,username_ch,birthdate,img,identity,program_name,organization,teacher,teacher_phone,part_group,part_profession,win_experience,company_phone) values(1115,90,'翔宇',1,'13926010718','male',now(),'宜春市','丽丽','','http://img.6skills.com/custom-sign-1475844999854.jpg?1475845015204','123456789123456789','新疆舞','少年宫','钟老师','12345678912','幼儿组（学龄前）','舞蹈','','12345678');, count:1, time:0.012.
2016:10:07 20:57:46 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_activity set quantities_remain=quantities_remain-1 where id=90;, count:1, time:0.012.
2016:10:07 20:57:46 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 20:57:46 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=90 and a.status=1 and b.status=1;, count:1, time:0.001.
2016:10:07 20:57:46 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=90 and status=1;, count:1, time:0.000.
2016:10:07 20:57:54 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.73] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'2114347502'], u'timestamp': [u'1475845074'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'9dc6884ca33c8a876f056699e29a04bfdb5161ac']}>, args:()
2016:10:07 20:57:54 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 20:57:55 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'767324180'], u'timestamp': [u'1475845075'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'8eb9fae6d31fa3048df4302622dcb3e1b159033f']}>, args:()
2016:10:07 20:57:55 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:508
2016:10:07 20:57:55 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041A1dPt1XhT7808Q8Ot1rUcPt1A1dPy']}>, args:()
2016:10:07 20:57:56 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: Z1_-qJ7OhlM8EuabBcUgQL2EX6I9OPbcg8s--NBVN7LFNeM5if9sGhQqYKrRo6k5Quci07ZAg3Xn6QGlD4Aa8KYFKzYxB1mqklTzGm8ZMo0 7200
2016:10:07 20:57:56 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: quwAm5eKdYuwF8O5zzrHhCF21An9v9cYAKPW6uVsEtUjX5I84fdrnnoLLgfNPfrqEp1i-itLuSTJ41elZXG8UPUoRPUeDm_6SqHt66loRrI 8640000
2016:10:07 20:57:56 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 20:57:56 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 20:57:56 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 20:57:56 25611 139652314109696 [INFO get_openid 1331] return openid. 041A1dPt1XhT7808Q8Ot1rUcPt1A1dPy -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 20:57:56 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 20:57:56 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 20:57:57 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:57:57 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 20:57:57 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:57:59 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:57:59 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 20:58:03 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:58:03 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 20:58:03 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 20:58:04 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:58:04 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 20:58:04 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 20:58:05 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:58:05 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 20:58:05 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 20:58:07 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:58:07 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 20:58:58 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:58:58 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 20:58:58 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 20:59:01 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 20:59:01 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 21:02:40 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [183.232.90.65] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:02:40 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [183.232.90.65] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:02:43 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 21:02:43 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 21:02:44 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 21:02:44 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=90 and a.status=1 and b.status=1;, count:1, time:0.001.
2016:10:07 21:02:44 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 21:02:45 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 21:02:54 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [58.247.206.150] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1392811179'], u'timestamp': [u'1475845374'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'd40fec149238e8e21c3dc608ed23a35a8a139740']}>, args:()
2016:10:07 21:02:54 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 21:02:54 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 21:02:54 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 21:02:54 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 21:02:54 25611 139652314109696 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 21:02:54 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'232288453'], u'timestamp': [u'1475845374'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'114b4839a15ccb97257f3132f88c6d423d040167']}>, args:()
2016:10:07 21:02:54 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:508
2016:10:07 21:02:55 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041hvaxc1VOslp0B0Zvc1lmcxc1hvaxw']}>, args:()
2016:10:07 21:02:55 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: B2Jnj07zfgUWUHZeKBGbAijysv5Q5wi7cikVQfFXAaet4WAQz92UVR5UI_-WxsVRV2wOf9dptmZ_O9fOe3fU2kyz9a3ED4kz6k3UGYOYtm0 7200
2016:10:07 21:02:55 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: skBrCwxkhtNY0sNxa6NvQrP4pKZrCT159yjZFdrE7QH4Per64kfX2Z6fXPut_QN3cvc9WRMMNxgCgh7yGhmBrThrLR6XEcK0benuhzMgqHU 8640000
2016:10:07 21:02:55 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 21:02:55 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 21:02:55 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 21:02:55 25611 139652314109696 [INFO get_openid 1331] return openid. 041hvaxc1VOslp0B0Zvc1lmcxc1hvaxw -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 21:02:56 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 21:02:56 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 21:02:56 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:02:56 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:03:09 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:03:09 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:03:56 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [208.110.84.69] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:05:42 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'021GvwWe0ReUaF1BtMUe09RuWe0GvwWV']}>, args:()
2016:10:07 21:05:43 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: xW8VanQqMb4OFhsAi7ho08EA_3hX3nzZAm4SZOkd0Mh8-JRfl4gpHMJWH1rfMmhTA42eQ8wAizMnbGpdqB3DSoI9ZjUsSvnCkvv5HYVT_3M 7200
2016:10:07 21:05:43 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: _qZyPVD9XsRtfM7BOQ2xNijUFKCq5Mjrpj2DtwlvZhaZiPymw6RHjKMuBaYhXtQr1p8_bxIrq0HJYeUW0HmvkIn742-JrmmgrumYZtYzwLc 8640000
2016:10:07 21:05:43 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 21:05:43 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 21:05:43 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 21:05:43 25611 139652314109696 [INFO get_openid 1331] return openid. 021GvwWe0ReUaF1BtMUe09RuWe0GvwWV -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 21:05:43 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 21:05:43 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 21:05:46 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.73] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1866851490'], u'timestamp': [u'1475845546'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'5c96ff5bebc1970904f9fa4f6f694d2ec9fac442']}>, args:()
2016:10:07 21:05:46 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 21:05:46 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1255677837'], u'timestamp': [u'1475845546'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'5c026bdfc705e3456b7267a7a0bad2eb6862788b']}>, args:()
2016:10:07 21:05:46 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:511
2016:10:07 21:05:47 25611 139652314109696 [INFO wrapper 75] >>>get_wx_acttypes<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:05:47 25611 139652314109696 [INFO wrapper 75] >>>get_hot_activities<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:05:47 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 21:05:47 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'031C45r61KbghY1EIDs61XX6r61C45r2']}>, args:()
2016:10:07 21:05:47 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: 9u3gcYchtbzQCDz4aFJF1RVWMtwgArVfelDkRAOvya7J91LQPGZXGNT8HWB5G0x55SNOPo-7pqZUeAQV0s5gPO4jXqybWTCqGII1Wn6cYPM 7200
2016:10:07 21:05:47 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: bx2dyTmQeE5DTgBnWHEN0bvqYRp9gRlftzaZRUN98jQ0JVsMQY7rxH-52tUFZl2x0pcM-T6VREojC1yPHpa_RAN8i16Ybk5RjQuLNPB7iYU 8640000
2016:10:07 21:05:47 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 21:05:47 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 21:05:47 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 21:05:47 25611 139652314109696 [INFO get_openid 1331] return openid. 031C45r61KbghY1EIDs61XX6r61C45r2 -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 21:05:47 25611 139652314109696 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 21:05:47 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 21:05:47 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 21:05:47 25611 139652314109696 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 21:05:47 25611 139652314109696 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.007.
2016:10:07 21:05:47 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 21:05:50 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'82']}>, args:()
2016:10:07 21:05:50 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=82 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 21:05:50 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=82;, count:1, time:0.000.
2016:10:07 21:05:50 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=82 and status=1;, count:0, time:0.000.
2016:10:07 21:05:50 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'82']}>, args:()
2016:10:07 21:05:50 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=82;, count:1, time:0.001.
2016:10:07 21:05:51 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=82']}>, args:()
2016:10:07 21:05:56 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'73']}>, args:()
2016:10:07 21:05:56 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=73;, count:1, time:0.001.
2016:10:07 21:05:56 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'73']}>, args:()
2016:10:07 21:05:56 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=73 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 21:05:56 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=73;, count:1, time:0.000.
2016:10:07 21:05:56 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=73 and status=1;, count:0, time:0.000.
2016:10:07 21:05:56 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=73']}>, args:()
2016:10:07 21:06:02 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'62']}>, args:()
2016:10:07 21:06:02 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=62;, count:1, time:0.001.
2016:10:07 21:06:02 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'62']}>, args:()
2016:10:07 21:06:02 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=62 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 21:06:02 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=62;, count:1, time:0.000.
2016:10:07 21:06:02 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=62 and status=1;, count:0, time:0.000.
2016:10:07 21:06:02 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=62']}>, args:()
2016:10:07 21:06:07 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'57']}>, args:()
2016:10:07 21:06:07 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=57;, count:1, time:0.001.
2016:10:07 21:06:07 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'57']}>, args:()
2016:10:07 21:06:07 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=57 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 21:06:07 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=57;, count:1, time:0.000.
2016:10:07 21:06:07 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=57 and status=1;, count:0, time:0.000.
2016:10:07 21:06:08 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=57']}>, args:()
2016:10:07 21:06:13 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'56']}>, args:()
2016:10:07 21:06:13 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=56 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 21:06:13 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=56;, count:1, time:0.000.
2016:10:07 21:06:13 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=56 and status=1;, count:0, time:0.001.
2016:10:07 21:06:13 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'56']}>, args:()
2016:10:07 21:06:13 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=56;, count:1, time:0.001.
2016:10:07 21:06:13 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=56']}>, args:()
2016:10:07 21:06:25 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'50']}>, args:()
2016:10:07 21:06:25 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=50;, count:1, time:0.001.
2016:10:07 21:06:25 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'50']}>, args:()
2016:10:07 21:06:25 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=50 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 21:06:25 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=50;, count:1, time:0.000.
2016:10:07 21:06:25 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=50 and status=1;, count:0, time:0.000.
2016:10:07 21:06:26 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=50']}>, args:()
2016:10:07 21:06:28 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 21:06:28 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 21:06:31 25611 139652314109696 [INFO wrapper 75] >>>activities_sign<<< [117.136.49.43] POST:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'name': [u'\u7fd4\u5b87'], u'gender': [u'male'], u'age': [u'1'], u'phone': [u'13926010718'], u'actid': [u'50']}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:06:31 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数city不能为空.
2016:10:07 21:06:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select position_details from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 21:06:31 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数kids_name不能为空.
2016:10:07 21:06:31 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数birthdate不能为空.
2016:10:07 21:06:31 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数images不能为空.
2016:10:07 21:06:31 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数identity_card不能为空.
2016:10:07 21:06:31 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数program不能为空.
2016:10:07 21:06:31 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数company不能为空.
2016:10:07 21:06:31 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数teacher不能为空.
2016:10:07 21:06:31 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数teacher_phone不能为空.
2016:10:07 21:06:31 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数match_class不能为空.
2016:10:07 21:06:31 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数major不能为空.
2016:10:07 21:06:31 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数awards不能为空.
2016:10:07 21:06:31 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数company_tel不能为空.
2016:10:07 21:06:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=50;, count:1, time:0.000.
2016:10:07 21:06:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select quantities_remain,img_qrcode from 6s_activity where id=50 and status=1;, count:1, time:0.000.
2016:10:07 21:06:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 21:06:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select id,wechat from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and status=1;, count:1, time:0.000.
2016:10:07 21:06:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_signup where user_id=1115 and act_id=50 and status=1;, count:0, time:0.000.
2016:10:07 21:06:31 25611 139652314109696 [INFO db_exec 84] [sql_w] insert into 6s_signup(user_id,act_id,username_pa,age_ch,phone,gender,createtime,city,username_ch,birthdate,img,identity,program_name,organization,teacher,teacher_phone,part_group,part_profession,win_experience,company_phone) values(1115,50,'翔宇',1,'13926010718','male',now(),'宜春市','','','','','','','','','','','','');, count:1, time:0.046.
2016:10:07 21:06:31 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_activity set quantities_remain=quantities_remain-1 where id=50;, count:1, time:0.018.
2016:10:07 21:06:31 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'50']}>, args:()
2016:10:07 21:06:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=50 and a.status=1 and b.status=1;, count:1, time:0.001.
2016:10:07 21:06:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=50 and status=1;, count:0, time:0.000.
2016:10:07 21:06:34 25611 139652314109696 [INFO wrapper 75] >>>get_wx_payinfo<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'price': [u'1800'], u'actid': [u'50']}>, args:()
2016:10:07 21:06:34 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.title,a.price_child,b.price_child from 6s_activity a left join 6s_preinfo b on a.preinfo_id=b.id where a.id=50;, count:1, time:0.001.
2016:10:07 21:06:35 25611 139652314109696 [INFO get_wx_payinfo 1466] wxpay: trade_no:1475845594, openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, ret:{'trade_type': 'JSAPI', 'prepay_id': 'wx2016100721063558c7be86de0579454168', 'nonce_str': 'B9HNseENOG1SuUvH', 'return_code': 'SUCCESS', 'return_msg': 'OK', 'sign': 'BC4E2578BDD36D2726F3C450EB3ED624', 'mch_id': '1395115702', 'appid': 'wxe6d40d1e6b8d010e', 'result_code': 'SUCCESS'}
2016:10:07 21:06:35 25611 139652314109696 [INFO db_exec 84] [sql_w] insert into 6s_prepay_info(act_id,out_trade_no,body,total_fee,trade_type,openid,prepay_id) values ('50','1475845594','父母教练第二期 | 如何教养出超强的孩子','1','JSAPI','oYgYJwcdR1mRcJ_3WLghpeTPJoKw','wx2016100721063558c7be86de0579454168'), count:1, time:0.027.
2016:10:07 21:06:35 25611 139652314109696 [ERROR get_wx_payinfo 1480] save prepay_info OK. oYgYJwcdR1mRcJ_3WLghpeTPJoKw
2016:10:07 21:06:52 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1855525630'], u'timestamp': [u'1475845612'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'76fa59f5d212fb79fbee3b19e2c1bd2067e91122']}>, args:()
2016:10:07 21:06:52 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 21:06:53 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'812416072'], u'timestamp': [u'1475845613'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'b265a4609430b43bdfe13cdc9385d2d7ee4d081d']}>, args:()
2016:10:07 21:06:53 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:508
2016:10:07 21:06:53 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'001ksHio0JcWzd130qio09CHio0ksHi0']}>, args:()
2016:10:07 21:06:53 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: iaRDmkwW6_zqsZTXscLQZrnarGO089_ZunkPr5wspvMgZRl_kfQN33aLmdmpzLGTFQmpsb6ZTeFQWSOlDxUTI87xI6wU3t7FgeJNcN3Qiiw 7200
2016:10:07 21:06:53 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: JfsL8WuQDdtc0U_G5MBmcOHFYMGJXbzM9r6bbyzqbZC3gV3k3EXU-KZ5sjP4GuY2EeyqYEGPyp2c_pPkaJLJdr9MRNBZot-C5Cyl5M0Uk04 8640000
2016:10:07 21:06:54 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 21:06:54 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 21:06:54 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 21:06:54 25611 139652314109696 [INFO get_openid 1331] return openid. 001ksHio0JcWzd130qio09CHio0ksHi0 -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 21:06:54 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 21:06:54 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 21:06:55 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:06:55 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 21:06:55 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 21:06:57 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:06:57 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:06:59 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:06:59 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:06:59 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 21:07:00 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:07:00 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:07:02 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1480875425'], u'timestamp': [u'1475845622'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'ed8663e57a46308f54ea7e4edcae8872f7aa0cd2']}>, args:()
2016:10:07 21:07:02 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 21:07:03 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1780565710'], u'timestamp': [u'1475845623'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'15655a504b029075b5a06834a9eaadad63a5d23a']}>, args:()
2016:10:07 21:07:03 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:511
2016:10:07 21:07:04 25611 139652314109696 [INFO wrapper 75] >>>get_hot_activities<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:07:04 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 21:07:04 25611 139652314109696 [INFO wrapper 75] >>>get_wx_acttypes<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:07:04 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041tGmkE18l4Nf0rnHhE1yFkkE1tGmkL']}>, args:()
2016:10:07 21:07:04 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: B69QCZ291eOSTgJz7JlDrnn35B2NFBgIKZxcyaEwCwYjSbO40eOKgLDtnMA5S9VBDcpt9TQX8Rcd6UJNgPZSS9oEaweMG7shllrSuaaaMYQ 7200
2016:10:07 21:07:04 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: tYLbUCeuGY9WwCz_awkNQWYu8rty1hBkWUoKYpXl_gpNVz0tHRYMuxNGuUirqIwo3vXv4P8vI7acr61unTcOTb8j82t5KA4Il--Mlob1Gxg 8640000
2016:10:07 21:07:04 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 21:07:04 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 21:07:04 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 21:07:04 25611 139652314109696 [INFO get_openid 1331] return openid. 041tGmkE18l4Nf0rnHhE1yFkkE1tGmkL -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 21:07:04 25611 139652314109696 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'20'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 21:07:04 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 21:07:04 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 21:07:04 25611 139652314109696 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 21:07:04 25611 139652314109696 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 20 offset 0;, count:20, time:0.005.
2016:10:07 21:07:04 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 21:14:04 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 21:14:04 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 21:14:07 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:14:07 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:15:17 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 21:15:17 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 21:15:20 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:15:20 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:17:35 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 21:17:35 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 21:17:38 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:17:38 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:18:02 25611 139652231366400 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:G6_rOddmEkzTBfD1rYGBChiz72-DPKcZ1Kl_NLJ2Wqx4DZhDCAzG2VDw3huHBnPrg3F8rcd7GSN27_hm3sdmEzBpUUkHTlmGXtIv1eAHJFw
2016:10:07 21:18:02 25611 139652231366400 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:fl1GS1tWjZLQdK3e8RW5s1y3v3duKcZ7fnwXeuB57sgdFU1_18gAUSUyT3_4HR1hoIWVqzcaGBzSA-unZ7osb7AkJE4aHB-DowRnLAJC5us
2016:10:07 21:19:53 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 21:19:53 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 21:19:58 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:19:58 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:23:31 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:23:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:23:36 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 21:23:36 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 21:23:38 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:23:38 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:24:17 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 21:24:17 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 21:24:18 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:24:18 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:26:25 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 21:26:25 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 21:26:27 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:26:27 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:28:32 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 21:28:32 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 21:28:35 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:28:35 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:29:49 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 21:29:49 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 21:29:51 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:29:51 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:3, time:0.001.
2016:10:07 21:29:51 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 21:29:54 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:29:54 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:31:11 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1553827862'], u'timestamp': [u'1475847070'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'2f1a3d335919e5ebc1bf16a948e2536696514ad4']}>, args:()
2016:10:07 21:31:11 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 21:31:11 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 21:31:11 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 21:31:11 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 21:31:11 25611 139652314109696 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 21:31:11 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1550860679'], u'timestamp': [u'1475847070'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'069da860802d48206d560157fa99e48233aab42b']}>, args:()
2016:10:07 21:31:11 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:508
2016:10:07 21:31:11 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [183.232.90.143] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:31:11 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [219.133.40.13] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:31:12 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'031Coelb1yhQBq05LCmb1XVclb1Coel3']}>, args:()
2016:10:07 21:31:12 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: W9snK5GNv6mf99gnzHrAMg09DRpeIFUWwnuFcaO8V3lLMd1TfMmbkjLH2Aciigx2p60gzblvpqdFxxPeasRmIVbyGBVLIJ9SaAzUe17qEDY 7200
2016:10:07 21:31:12 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: NP0u5240W_zSEEk58JRqdgSu0Nw5l3lZY_o5-BxESSn-OvcyHFAg8y8AOh4dVj5WH5wuPbuxkegTMCqtazAxftdC7BCp8oTkxh9qxTnqn0A 8640000
2016:10:07 21:31:12 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 21:31:12 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 21:31:12 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 21:31:12 25611 139652314109696 [INFO get_openid 1331] return openid. 031Coelb1yhQBq05LCmb1XVclb1Coel3 -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 21:31:12 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 21:31:12 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 21:31:13 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:31:13 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:3, time:0.001.
2016:10:07 21:31:13 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 21:31:16 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:31:16 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:31:23 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:31:23 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:3, time:0.001.
2016:10:07 21:31:23 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 21:31:26 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:31:26 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 21:31:26 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 21:31:31 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:31:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 21:31:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 21:32:41 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'2004347666'], u'timestamp': [u'1475847161'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'eddc84b5302c9044b28d025d41a43574d1ac1647']}>, args:()
2016:10:07 21:32:41 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 21:32:42 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 21:32:42 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 21:32:42 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 21:32:42 25611 139652314109696 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 21:32:42 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [58.247.206.144] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1202498604'], u'timestamp': [u'1475847162'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'09be1ebcb0bc0f49ad0e5f1bc77689a708acbc42']}>, args:()
2016:10:07 21:32:42 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 21:32:45 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'011egYyD1CVStg0aUMAD1RBZyD1egYyt']}>, args:()
2016:10:07 21:32:45 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: EoNw4EwbHNmKz40WNbWxA3a99F_DbXk89Q7YDUZYv0WHP5HaLSzpJvNub3wPENI-xU33u_TBCYvVn30eJTYN5y0lxeyt2v9A6igh5cHnVMY 7200
2016:10:07 21:32:45 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: FS40Ys67ymn6EwXY4tC7IZLAGl2-S8QEBcb4blFgslB2N3bT15vkPq9iaNl_-hQsFT4YznXc7MOnhKLcBE0oqFRMmKwN-uFtiBAZzobZOPM 8640000
2016:10:07 21:32:45 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 21:32:45 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 21:32:45 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 21:32:45 25611 139652314109696 [INFO get_openid 1331] return openid. 011egYyD1CVStg0aUMAD1RBZyD1egYyt -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 21:32:45 25611 139652314109696 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:32:45 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 21:32:45 25611 139652314109696 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:32:48 25611 139652314109696 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 21:32:48 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 21:32:48 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 21:32:48 25611 139652314109696 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 21:32:48 25611 139652314109696 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 21:32:48 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 21:33:08 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'82']}>, args:()
2016:10:07 21:33:08 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=82;, count:1, time:0.001.
2016:10:07 21:33:08 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'82']}>, args:()
2016:10:07 21:33:09 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=82 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 21:33:09 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=82;, count:1, time:0.000.
2016:10:07 21:33:09 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=82 and status=1;, count:0, time:0.000.
2016:10:07 21:33:09 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=82']}>, args:()
2016:10:07 21:33:18 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'74']}>, args:()
2016:10:07 21:33:18 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=74 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 21:33:18 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=74;, count:1, time:0.000.
2016:10:07 21:33:18 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=74 and status=1;, count:0, time:0.000.
2016:10:07 21:33:18 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'74']}>, args:()
2016:10:07 21:33:18 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=74;, count:1, time:0.001.
2016:10:07 21:33:18 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=74']}>, args:()
2016:10:07 21:33:21 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 21:33:21 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 21:33:23 25611 139652314109696 [INFO wrapper 75] >>>activities_sign<<< [58.62.53.246] POST:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'name': [u'Kavin.XPL'], u'gender': [u'male'], u'age': [u'1'], u'phone': [u'15099994152'], u'actid': [u'74']}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:33:23 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数city不能为空.
2016:10:07 21:33:23 25611 139652314109696 [INFO db_exec 86] [sql_r] select position_details from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 21:33:23 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数kids_name不能为空.
2016:10:07 21:33:23 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数birthdate不能为空.
2016:10:07 21:33:23 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数images不能为空.
2016:10:07 21:33:23 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数identity_card不能为空.
2016:10:07 21:33:23 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数program不能为空.
2016:10:07 21:33:23 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数company不能为空.
2016:10:07 21:33:23 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数teacher不能为空.
2016:10:07 21:33:23 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数teacher_phone不能为空.
2016:10:07 21:33:23 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数match_class不能为空.
2016:10:07 21:33:23 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数major不能为空.
2016:10:07 21:33:23 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数awards不能为空.
2016:10:07 21:33:23 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数company_tel不能为空.
2016:10:07 21:33:23 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=74;, count:1, time:0.000.
2016:10:07 21:33:23 25611 139652314109696 [INFO db_exec 86] [sql_r] select quantities_remain,img_qrcode from 6s_activity where id=74 and status=1;, count:1, time:0.000.
2016:10:07 21:33:23 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 21:33:23 25611 139652314109696 [INFO db_exec 86] [sql_r] select id,wechat from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and status=1;, count:1, time:0.000.
2016:10:07 21:33:23 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_signup where user_id=1114 and act_id=74 and status=1;, count:0, time:0.000.
2016:10:07 21:33:23 25611 139652314109696 [INFO db_exec 84] [sql_w] insert into 6s_signup(user_id,act_id,username_pa,age_ch,phone,gender,createtime,city,username_ch,birthdate,img,identity,program_name,organization,teacher,teacher_phone,part_group,part_profession,win_experience,company_phone) values(1114,74,'Kavin.XPL',1,'15099994152','male',now(),'广州市','','','','','','','','','','','','');, count:1, time:0.013.
2016:10:07 21:33:23 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_activity set quantities_remain=quantities_remain-1 where id=74;, count:1, time:0.011.
2016:10:07 21:33:24 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'74']}>, args:()
2016:10:07 21:33:24 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=74 and a.status=1 and b.status=1;, count:1, time:0.001.
2016:10:07 21:33:24 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=74 and status=1;, count:0, time:0.000.
2016:10:07 21:33:30 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [58.247.206.155] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1257485874'], u'timestamp': [u'1475847210'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'3c401205c2bca565182f362331843a881b6ce0aa']}>, args:()
2016:10:07 21:33:30 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 21:33:30 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [58.247.206.150] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'803443463'], u'timestamp': [u'1475847210'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'273e9799c44febd6fe42509e02d8833a749c9e56']}>, args:()
2016:10:07 21:33:30 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:508
2016:10:07 21:33:32 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'021cWrz40Godjx1wApB40ROtz40cWrzl']}>, args:()
2016:10:07 21:33:32 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: XSx4rWbjO5c4FbMYlsv2bNhIr4nanE7uTMh5OaTQXokWcD0HFAmNsUnhrVaN-fB198Dl1j89w334IjhB3q_09nKTzg-WtC43RiHGT0OV2MA 7200
2016:10:07 21:33:32 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: N8ePlXS9b721YOwyBc63NUyTaleZuusncIhU9wKjko-TDjxCMMGAgyJ1uIYIgVo6kDTQTRToNcm4dApi2H7fm9d04gVQfsNCgLf3g3RoMwU 8640000
2016:10:07 21:33:32 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 21:33:32 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 21:33:32 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 21:33:32 25611 139652314109696 [INFO get_openid 1331] return openid. 021cWrz40Godjx1wApB40ROtz40cWrzl -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 21:33:32 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 21:33:32 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 21:33:34 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:33:34 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 21:33:34 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 21:33:37 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:33:37 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:33:39 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:33:39 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:3, time:0.001.
2016:10:07 21:33:39 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 21:33:41 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:33:41 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:3, time:0.001.
2016:10:07 21:33:41 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 21:33:48 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1648203415'], u'timestamp': [u'1475847228'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'3612fe34486478fcb5c578d0332c0944d0f20192']}>, args:()
2016:10:07 21:33:48 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 21:33:48 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 21:33:48 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 21:33:48 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 21:33:48 25611 139652314109696 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 21:33:48 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'660473473'], u'timestamp': [u'1475847228'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'e72c8affd30e4ab0ba7758d4d7719b0ff20c8900']}>, args:()
2016:10:07 21:33:48 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:513
2016:10:07 21:33:49 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'021a0CAd0NSFwG13FJzd0YOBAd0a0CAS']}>, args:()
2016:10:07 21:33:49 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: T6dcbGUv1skb1y07haUp8zwHa7nyjaf6cWr90WSurCLyq7diV_vFOTjTnPjveDDjPd1sb5jCYSB8DIAxA2xDz98sLwMsVwSq1i2kZpNPhSQ 7200
2016:10:07 21:33:49 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: M4xFAWt9aO-s3zsuZv7lcPRjssAXYuGP-addYY24vD9DmwM3HB_wwcOrSQW0tb-yQ6y_9tIM8CDJjL_TqL7z2kJdQ7IpnYnyw3gqoJVefCc 8640000
2016:10:07 21:33:49 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 21:33:49 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 21:33:49 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 21:33:49 25611 139652314109696 [INFO get_openid 1331] return openid. 021a0CAd0NSFwG13FJzd0YOBAd0a0CAS -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 21:38:30 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [103.214.68.188] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:49:29 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [183.232.120.37] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:49:30 25611 139652314109696 [INFO wrapper 75] >>>get_hot_activities<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:49:30 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 21:49:30 25611 139652314109696 [INFO wrapper 75] >>>get_wx_acttypes<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:49:30 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'031ML3Ba2S2d1C0IOlza2t39Ba2ML3Bv']}>, args:()
2016:10:07 21:49:31 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: VeVTQ7zDu8TJN9py3ufe6yemJtpaEWxfoAX9Bq3Y5ywwvQsTLrWqi98pVM9ouacHNQV-zGEnFdSCG1sUGJq5B8SdG-hhYhizVhIK0UefSSw 7200
2016:10:07 21:49:31 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: zFfi0x3uaMKVEJ5K6PkWT4kPrFFRnDDAG8tJ4XbS8LUyZQeLnD1vVrgb-ly3nM4dQKdgv7AZS2otiU1VnQdQCw5g4EVdQ8kXR6LFkuhp4TE 8640000
2016:10:07 21:49:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 21:49:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 21:49:31 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 21:49:31 25611 139652314109696 [INFO get_openid 1331] return openid. 031ML3Ba2S2d1C0IOlza2t39Ba2ML3Bv -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 21:49:31 25611 139652314109696 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 21:49:31 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 21:49:31 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 21:49:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 21:49:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 21:49:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 21:49:35 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.73] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1765422724'], u'timestamp': [u'1475848175'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'28cc2b3cc22f1137149b685a36870407127278f3']}>, args:()
2016:10:07 21:49:35 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:508
2016:10:07 21:49:36 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'031FEB5c2g1DwA05um2c2XjD5c2FEB5b']}>, args:()
2016:10:07 21:49:36 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: U0N6ozA5vMXzMo6FfA-A84zXckcWvSXdggH8gXGVOrlWgQSDAV1zKJTw7nk1aF3aOaH8V8RwIR5GjgJNSxsEBxSqMKAs316TFk3i_sPgCdg 7200
2016:10:07 21:49:36 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: ZYgTEB3wKRUzo32mT003zPnuPoBd3ZvjvItPnH0P8MMiIWlWMQIOnBbJ5TXwPTqRhESK_iCOOQB6tWL9yucFky9tGvJtnPhwu9QyNUWnCk8 8640000
2016:10:07 21:49:36 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 21:49:36 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 21:49:36 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 21:49:36 25611 139652314109696 [INFO get_openid 1331] return openid. 031FEB5c2g1DwA05um2c2XjD5c2FEB5b -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 21:49:37 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 21:49:37 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 21:49:38 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:49:38 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 21:49:38 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 21:49:40 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:49:40 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:49:40 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 21:49:46 25611 139652314109696 [INFO wrapper 75] >>>activities_reset_collection<<< [117.136.49.43] POST:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'collid': [u'59']}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:49:46 25611 139652314109696 [INFO db_exec 84] [sql_w] delete from 6s_collection where id='59';, count:1, time:0.017.
2016:10:07 21:49:46 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:49:46 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 21:49:46 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 21:49:48 25611 139652314109696 [INFO wrapper 75] >>>activities_reset_collection<<< [117.136.49.43] POST:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'collid': [u'60']}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:49:48 25611 139652314109696 [INFO db_exec 84] [sql_w] delete from 6s_collection where id='60';, count:1, time:0.013.
2016:10:07 21:49:48 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:49:48 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 21:49:48 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 21:49:50 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:49:50 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:49:53 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'108']}>, args:()
2016:10:07 21:49:53 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=108 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 21:49:53 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=108;, count:0, time:0.000.
2016:10:07 21:49:53 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=108 and status=1;, count:0, time:0.000.
2016:10:07 21:49:53 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'108']}>, args:()
2016:10:07 21:49:53 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=108;, count:0, time:0.001.
2016:10:07 21:49:53 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=108']}>, args:()
2016:10:07 21:49:59 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'401']}>, args:()
2016:10:07 21:49:59 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=401;, count:0, time:0.001.
2016:10:07 21:49:59 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'401']}>, args:()
2016:10:07 21:49:59 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=401 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 21:49:59 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=401;, count:0, time:0.000.
2016:10:07 21:49:59 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=401 and status=1;, count:0, time:0.000.
2016:10:07 21:49:59 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=401']}>, args:()
2016:10:07 21:50:01 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'108']}>, args:()
2016:10:07 21:50:01 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=108;, count:0, time:0.001.
2016:10:07 21:50:01 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'108']}>, args:()
2016:10:07 21:50:01 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=108 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 21:50:01 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=108;, count:0, time:0.000.
2016:10:07 21:50:01 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=108 and status=1;, count:0, time:0.000.
2016:10:07 21:50:01 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=108']}>, args:()
2016:10:07 21:50:23 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:50:23 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 21:50:23 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 21:50:25 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:50:25 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 21:50:25 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 21:50:53 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:50:53 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:51:16 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'401']}>, args:()
2016:10:07 21:51:16 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=401;, count:0, time:0.001.
2016:10:07 21:51:16 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'401']}>, args:()
2016:10:07 21:51:16 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=401 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 21:51:16 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=401;, count:0, time:0.000.
2016:10:07 21:51:16 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=401 and status=1;, count:0, time:0.001.
2016:10:07 21:51:16 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=401']}>, args:()
2016:10:07 21:52:39 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'404121128'], u'timestamp': [u'1475848359'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'8374096058581f3a15a576eb05461287080e9c3c']}>, args:()
2016:10:07 21:52:39 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 21:52:39 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 21:52:39 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 21:52:39 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 21:52:39 25611 139652314109696 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 21:52:39 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1438405709'], u'timestamp': [u'1475848359'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'46e4790d503d01e3857a40702f167b67aa24fa89']}>, args:()
2016:10:07 21:52:39 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:508
2016:10:07 21:52:47 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'0418hPEi1Hpgij0TnaEi1NBIEi18hPEN']}>, args:()
2016:10:07 21:52:47 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: LymkE0HlXCph2zmYGix9p_-8l0-IOhAgXZSqdElDfoi73rAxD0GsTnFj7Y85pClOPRtVELrzjoI2ySM__SF4zBSPWZhRJJa2gB5dWJf7MEk 7200
2016:10:07 21:52:47 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: Z3x7iL8hp55AuMPUi-W9oc0wCUPlrJv04Wtpjj6dQWKIjEFQWb7EB_QUK9kkfHOD8LqT5mNlQ-TtzW6e5TbQfr5DA_4fDP0129XM7sDrLcM 8640000
2016:10:07 21:52:47 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 21:52:47 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 21:52:47 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 21:52:47 25611 139652314109696 [INFO get_openid 1331] return openid. 0418hPEi1Hpgij0TnaEi1NBIEi18hPEN -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 21:52:48 25611 139652314109696 [INFO wrapper 75] >>>activities_getprofile<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4']}>, args:()
2016:10:07 21:52:48 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 21:52:55 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:52:55 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:52:56 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'880834308'], u'timestamp': [u'1475848376'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'd57c1624e996618f955c3c13a8e9c9c526a50a89']}>, args:()
2016:10:07 21:52:56 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 21:52:58 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'108']}>, args:()
2016:10:07 21:52:58 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=108 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 21:52:58 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=108;, count:0, time:0.000.
2016:10:07 21:52:58 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=108 and status=1;, count:0, time:0.000.
2016:10:07 21:52:58 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'108']}>, args:()
2016:10:07 21:52:58 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=108;, count:0, time:0.001.
2016:10:07 21:52:59 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=108']}>, args:()
2016:10:07 21:53:06 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:53:06 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:54:27 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:54:27 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:3, time:0.001.
2016:10:07 21:54:27 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 21:54:29 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:54:29 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:3, time:0.001.
2016:10:07 21:54:29 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 21:54:31 25611 139652314109696 [INFO wrapper 75] >>>activities_mycollections<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:54:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:3, time:0.001.
2016:10:07 21:54:31 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.001.
2016:10:07 21:54:39 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'50']}>, args:()
2016:10:07 21:54:39 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=50 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 21:54:39 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=50;, count:1, time:0.000.
2016:10:07 21:54:39 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=50 and status=1;, count:1, time:0.000.
2016:10:07 21:54:39 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'50']}>, args:()
2016:10:07 21:54:39 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=50;, count:1, time:0.001.
2016:10:07 21:54:39 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=50']}>, args:()
2016:10:07 21:55:09 25611 139652314109696 [INFO wrapper 75] >>>activities_my<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:55:09 25611 139652314109696 [INFO db_exec 86] [sql_r] select distinct a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id left join 6s_prepay_info d on c.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no left join 6s_preinfo f on c.preinfo_id=f.id where ( (f.price_child=0) or (f.price_child>0 and not e.id is null) or (c.price_child=0) or (c.price_child>0 and not e.id is null) ) and b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:1, time:0.001.
2016:10:07 21:55:09 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id where b.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 21:55:11 25611 139652314109696 [INFO wrapper 75] >>>activities_myunpay_list<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 21:55:11 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.status=1 and b.status=1 order by a.createtime desc limit 100 offset 0;, count:2, time:0.001.
2016:10:07 21:55:14 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'704']}>, args:()
2016:10:07 21:55:14 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=704;, count:0, time:0.001.
2016:10:07 21:55:14 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'704']}>, args:()
2016:10:07 21:55:14 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=704 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 21:55:14 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=704;, count:0, time:0.000.
2016:10:07 21:55:14 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=704 and status=1;, count:0, time:0.000.
2016:10:07 21:55:14 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=704']}>, args:()
2016:10:07 21:55:19 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [58.247.206.150] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1340203240'], u'timestamp': [u'1475848519'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'1e32572e5e7228aa5fe8829a5fe9b5b10b0d9e90']}>, args:()
2016:10:07 21:55:19 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 21:55:19 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 21:55:19 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 21:55:19 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 21:55:19 25611 139652314109696 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 21:55:19 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [58.247.206.150] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'773778600'], u'timestamp': [u'1475848519'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'4ef5a88bbbddb2abe91ac289fdd2badbc72e638c']}>, args:()
2016:10:07 21:55:19 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 21:55:21 25611 139652314109696 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:55:21 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 21:55:21 25611 139652314109696 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:55:21 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041cBkZ52xoTCG0SmmW52vZmZ52cBkZY']}>, args:()
2016:10:07 21:55:21 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: B2Jnj07zfgUWUHZeKBGbAgZlDkur0FOy5YJS8JyShbpZ_Z2k5OxjfadkjVZSiqZFGVcsD4djQhEeTUipapSWAfXO4cM_IkOFWjXyE4mBMsg 7200
2016:10:07 21:55:21 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: d6vOCZHdimNlkK6RADjn77SlAkl1qFR-4fVIFIZa6GVlMT7nClJR4vZwUTJ5Q5_IoiL2L0BFAiV5Q2NIn6Qma-Oosyp2hjStrb5KvBhGLjM 8640000
2016:10:07 21:55:21 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 21:55:21 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 21:55:21 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 21:55:21 25611 139652314109696 [INFO get_openid 1331] return openid. 041cBkZ52xoTCG0SmmW52vZmZ52cBkZY -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 21:55:21 25611 139652314109696 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 21:55:21 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 21:55:21 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 21:55:21 25611 139652314109696 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 21:55:21 25611 139652314109696 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 21:55:21 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 21:56:20 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1993625908'], u'timestamp': [u'1475848580'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'31595afa2ad22732d454499876ecf4af81f77e9f']}>, args:()
2016:10:07 21:56:20 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:511
2016:10:07 21:56:22 25611 139652314109696 [INFO wrapper 75] >>>get_hot_activities<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:56:22 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 21:56:22 25611 139652314109696 [INFO wrapper 75] >>>get_wx_acttypes<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:56:22 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'021LZVjO0weoog200XlO0DDUjO0LZVjT']}>, args:()
2016:10:07 21:56:22 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: nkqCYwZi0Glh4cs-dsaGh3zNKnKB-uA74CtrR2CXTpGnRh_QwoQl5apccOSdIcbHpKNTn22rlwEoae4oN2qNpeuYrZ9fKqxZhjX5LrXVxrE 7200
2016:10:07 21:56:22 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: _Okd_rfOP88f95ex5Rd2U1ZQk436Nqc7viRzWuOpiiaGv9WWx_otsf1aJOpzLcDViAMHWsWHuN18Zd9gJcbuF534pwqh6kENZwXyMzo-3Z8 8640000
2016:10:07 21:56:22 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 21:56:22 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 21:56:22 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 21:56:22 25611 139652314109696 [INFO get_openid 1331] return openid. 021LZVjO0weoog200XlO0DDUjO0LZVjT -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 21:56:23 25611 139652314109696 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 21:56:23 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 21:56:23 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 21:56:23 25611 139652314109696 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 21:56:23 25611 139652314109696 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.006.
2016:10:07 21:56:23 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 21:56:32 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 21:56:32 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=90 and a.status=1 and b.status=1;, count:1, time:0.001.
2016:10:07 21:56:32 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 21:56:32 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 21:56:32 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 21:56:32 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 21:56:36 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [115.28.122.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:57:11 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1506706482'], u'timestamp': [u'1475848631'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'1a853f2ef2b752852ab05a4a661890042c75c7ae']}>, args:()
2016:10:07 21:57:11 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 21:57:51 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'52281451'], u'timestamp': [u'1475848671'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'e6cebacf084ba9f5adee2021bb10e3852d924d58']}>, args:()
2016:10:07 21:57:51 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 21:57:51 25611 139652314109696 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'553685513'], u'timestamp': [u'1475848671'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'7a2f9c28aa00bcd2d8dd101fc233649f7ea3a10b']}>, args:()
2016:10:07 21:57:51 25611 139652314109696 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:511
2016:10:07 21:57:53 25611 139652314109696 [INFO wrapper 75] >>>get_hot_activities<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:57:53 25611 139652314109696 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 21:57:53 25611 139652314109696 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'001t1CiI1b4MOb0RoehI1FAAiI1t1Cig']}>, args:()
2016:10:07 21:57:54 25611 139652314109696 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: qYcxO5NfO_EUrmBsWqWYII3aYFL4sNiX2WrnBnuh8koz9FUsIGuGdL73Usr22bv3pv8dH0oF1zgUHsokNrLE0NqYXhL7xvKXxEidDQWgAcg 7200
2016:10:07 21:57:54 25611 139652314109696 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: eoHkpammtpr0S10I0g6d9Y_hH-vAjKlHiodtvOIEMzdbdPvQTSZq9D_wgCK_go2xH-ADArisOo1PUuxAZwjnvxQ23Wnjx_elmS8HhqWFt1E 8640000
2016:10:07 21:57:54 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 21:57:54 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 21:57:54 25611 139652314109696 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 21:57:54 25611 139652314109696 [INFO get_openid 1331] return openid. 001t1CiI1b4MOb0RoehI1FAAiI1t1Cig -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 21:57:54 25611 139652314109696 [INFO wrapper 75] >>>get_wx_acttypes<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 21:57:54 25611 139652314109696 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 21:57:54 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 21:57:54 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 21:57:54 25611 139652314109696 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 21:57:54 25611 139652314109696 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 21:57:54 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 21:58:00 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'38']}>, args:()
2016:10:07 21:58:00 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=38;, count:1, time:0.001.
2016:10:07 21:58:00 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'38']}>, args:()
2016:10:07 21:58:00 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=38 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 21:58:00 25611 139652314109696 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=38;, count:1, time:0.000.
2016:10:07 21:58:00 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=38 and status=1;, count:0, time:0.000.
2016:10:07 21:58:01 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=38']}>, args:()
2016:10:07 21:58:16 25611 139652314109696 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 21:58:16 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 21:58:16 25611 139652314109696 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 21:58:16 25611 139652314109696 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 21:58:16 25611 139652314109696 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 21:58:16 25611 139652314109696 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 21:58:18 25611 139652314109696 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 21:58:18 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=90 and a.status=1 and b.status=1;, count:1, time:0.001.
2016:10:07 21:58:18 25611 139652314109696 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 21:58:18 25611 139652314109696 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 21:58:18 25611 139652314109696 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 21:58:19 25611 139652314109696 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 22:03:15 26845 140527873971968 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 22:03:15 26845 140527873971968 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 22:03:15 26845 140527873971968 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 22:03:15 26845 140527873971968 [INFO _get_user_status_map 235] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 22:03:15 26845 140527873971968 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 22:03:15 26845 140527873971968 [INFO <module> 1071] [TOKEN] start new thread.
2016:10:07 22:03:15 26845 140527873971968 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'82']}>, args:()
2016:10:07 22:03:15 26845 140527873971968 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=82 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:03:15 26845 140527873971968 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=82;, count:1, time:0.000.
2016:10:07 22:03:15 26845 140527873971968 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=82 and status=1;, count:0, time:0.000.
2016:10:07 22:03:15 26845 140527873971968 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'82']}>, args:()
2016:10:07 22:03:15 26845 140527873971968 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=82;, count:1, time:0.001.
2016:10:07 22:03:15 26845 140527873971968 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=82']}>, args:()
2016:10:07 22:03:22 26845 140527873971968 [INFO wrapper 75] >>>default_process<<< [58.247.206.155] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1050914829'], u'timestamp': [u'1475849002'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'cd121c14745a4e1d93413dfd9f16cd4affc20268']}>, args:()
2016:10:07 22:03:22 26845 140527873971968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 22:03:23 26845 140527873971968 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:03:23 26845 140527873971968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:03:23 26845 140527873971968 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:03:23 26845 140527873971968 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041844df1CIrFm0KBCdf1DR2df1844dx']}>, args:()
2016:10:07 22:03:23 26845 140527873971968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: xltOLCO45aEFZDeHVdXT_M7Z25DnnHiWIU9MQsjdkK1dyAqkzFpuDog19MNpZM7EWr4NkMSMUtQe5W2pz8Bh4igKooY0eK8sVQigeQ0tuYo 7200
2016:10:07 22:03:23 26845 140527873971968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: ZmCbl6JoVoGiiqAhXkR-WdojcNWjLdHWphTR1era-dq243ajldJ2h51WYaWqS-sOYl4nal3h3vA2RvzM8FsK_PZmvwLWDrnXHsSbAPF70JM 8640000
2016:10:07 22:03:23 26845 140527873971968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 22:03:23 26845 140527873971968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 22:03:23 26845 140527873971968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 22:03:23 26845 140527873971968 [INFO get_openid 1331] return openid. 041844df1CIrFm0KBCdf1DR2df1844dx -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 22:03:23 26845 140527873971968 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:03:23 26845 140527873971968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 22:03:23 26845 140527873971968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 22:03:23 26845 140527873971968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:03:23 26845 140527873971968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 22:03:23 26845 140527873971968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:03:32 26845 140527873971968 [INFO wrapper 75] >>>default_process<<< [58.247.206.151] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'870822168'], u'timestamp': [u'1475849012'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'bf7d442eb63b3f79a70e00dbe3cc8174381cbca6']}>, args:()
2016:10:07 22:03:32 26845 140527873971968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 22:03:32 26845 140527873971968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 22:03:32 26845 140527873971968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 22:03:32 26845 140527873971968 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 22:03:32 26845 140527873971968 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 22:03:33 26845 140527873971968 [INFO wrapper 75] >>>default_process<<< [58.247.206.150] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1748909381'], u'timestamp': [u'1475849013'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'8feeda930d405bc38175f4560cd49419dbf14ab3']}>, args:()
2016:10:07 22:03:33 26845 140527873971968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 22:03:33 26845 140527873971968 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:03:33 26845 140527873971968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:03:33 26845 140527873971968 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:03:34 26845 140527873971968 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'001fm2T60QzEZu1DqPT60c70T60fm2T8']}>, args:()
2016:10:07 22:03:34 26845 140527873971968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: UIv7urfLTtA0Y7NCrpAQ4H5yegMjxUG3a0h2WKe6HOARZgwikL-8TIJfIKjwuoor9fi6mxj1rfTqdlfBb8J8h9sOQlI7TmPb5LvGuQ8DzyM 7200
2016:10:07 22:03:34 26845 140527873971968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: ukkE8uW5ZPnVcR8X69L7243m1yqT9GNsdLdNmnz1HEVmvdK6VTqBW19OFLtNhya-gYsEW1r9EK4VToExfIfewcYJDmJduOU6SMhlNO602tI 8640000
2016:10:07 22:03:34 26845 140527873971968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 22:03:34 26845 140527873971968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 22:03:34 26845 140527873971968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 22:03:34 26845 140527873971968 [INFO get_openid 1331] return openid. 001fm2T60QzEZu1DqPT60c70T60fm2T8 -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 22:03:34 26845 140527873971968 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:03:34 26845 140527873971968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 22:03:34 26845 140527873971968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 22:03:34 26845 140527873971968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:03:34 26845 140527873971968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 22:03:34 26845 140527873971968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:03:52 26845 140527873971968 [INFO wrapper 75] >>>default_process<<< [58.247.206.155] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1851315342'], u'timestamp': [u'1475849032'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'745772b64a674a7051f683634d329c48c45f2a77']}>, args:()
2016:10:07 22:03:52 26845 140527873971968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 22:03:53 26845 140527873971968 [INFO wrapper 75] >>>default_process<<< [58.247.206.144] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'349476873'], u'timestamp': [u'1475849033'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'f455af88c7b4d7f2004e8372e239d33baf1424fb']}>, args:()
2016:10:07 22:03:53 26845 140527873971968 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 22:03:53 26845 140527873971968 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:03:53 26845 140527873971968 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:03:53 26845 140527873971968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:03:53 26845 140527873971968 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'001MDOGo0M9hgd1sApEo0e0MGo0MDOGG']}>, args:()
2016:10:07 22:03:54 26845 140527873971968 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: i9NKCWajnK8BVKnjBsEmMrXGk-OxzaMk8k-PgSTddITgZkQ3ZNWH87COSdycXQbBf2qGqtSyu9bWnXzwOxxUSg83RQl8AI2_mpE73oVW-yU 7200
2016:10:07 22:03:54 26845 140527873971968 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: AFPPk7gdQr2fpX8C5hAP9NNromKond1q_GxnJ6u7doBEMRM8onGcYx3g91k80WUF5vX835YpI6M26YBHWF8mQTT9uJxyjXztbjiSEACGrjE 8640000
2016:10:07 22:03:54 26845 140527873971968 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 22:03:54 26845 140527873971968 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 22:03:54 26845 140527873971968 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 22:03:54 26845 140527873971968 [INFO get_openid 1331] return openid. 001MDOGo0M9hgd1sApEo0e0MGo0MDOGG -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 22:03:54 26845 140527873971968 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:03:54 26845 140527873971968 [ERROR _check_mysql_arg_json 160] 参数type不能为空.
2016:10:07 22:03:54 26845 140527873971968 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.
2016:10:07 22:03:54 26845 140527873971968 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:03:54 26845 140527873971968 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:03:54 26845 140527873971968 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:04:11 26845 140527791228672 [INFO _update_base_access_token 982] [TOKEN] update base_access_token: PwxH47TvPRQAEDdL20oESeOcYJiYCjL4JtOsUrFycMcOrkVfR9wZllEuarBL0LjzklLLaBHbdFn3mbgRB29_BwNllMKICnOJt_WZGwW57wGGKA8gUO7Wo99xtL0rwtaYLXIeAJACOZ
2016:10:07 22:06:17 26845 140527873971968 [INFO wrapper 75] >>>activities_getprofile<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw']}>, args:()
2016:10:07 22:06:17 26845 140527873971968 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.001.
2016:10:07 22:06:21 26845 140527873971968 [INFO wrapper 75] >>>get_hot_activities<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:06:21 26845 140527873971968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:06:33 26845 140527873971968 [INFO wrapper 75] >>>get_hot_activities<<< [121.42.41.241] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:06:33 26845 140527873971968 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:08:01 26845 140527873971968 [INFO wrapper 75] >>>get_wx_acttypes<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:17:35 27019 139947177137920 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 22:17:35 27019 139947177137920 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 22:17:35 27019 139947177137920 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 22:17:35 27019 139947177137920 [INFO _get_user_status_map 235] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 22:17:35 27019 139947177137920 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 22:17:35 27019 139947177137920 [INFO <module> 1071] [TOKEN] start new thread.
2016:10:07 22:17:35 27019 139947177137920 [INFO wrapper 75] >>>default_process<<< [183.232.90.38] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:17:36 27019 139947094394624 [INFO _update_js_signature 1030] [TOKEN] update js_signature:kgt8ON7yVITDhtdwci0qedWxJyz1VVx-TqXRisJtz8d460o-J30tVSyfDY8kfOVxcrL9ZFf8n7_Np6RmQKcSeg 7200
2016:10:07 22:17:38 27019 139947177137920 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:17:38 27019 139947177137920 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:17:38 27019 139947177137920 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:17:38 27019 139947177137920 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'0219WYnZ1B1Io51XU6nZ1CaZnZ19WYnj']}>, args:()
2016:10:07 22:17:39 27019 139947177137920 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: 30o0JF6-EYK7zedE7TfZLfMWJh5VYFOr3YJ1Rj_ix18fKUGfm48afqXCWsWnB0nRDmjsooOMqIgoi6rOs6Fi4ndnSdLqNgNdnexYp5QRtBA 7200
2016:10:07 22:17:39 27019 139947177137920 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: 3Ew8-BKac8LTISem-yqd8KWLdCHs4SEIGeWisvkhsfKuDCLJUs0zIisCxWw7SyB4QgawmxWzuFSm8TYU1hjXsZy-pEDAY13EXlaDSHi0qdA 8640000
2016:10:07 22:17:39 27019 139947177137920 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 22:17:39 27019 139947177137920 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 22:17:39 27019 139947177137920 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 22:17:39 27019 139947177137920 [INFO get_openid 1331] return openid. 0219WYnZ1B1Io51XU6nZ1CaZnZ19WYnj -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 22:17:41 27019 139947177137920 [INFO wrapper 75] >>>default_process<<< [58.247.206.150] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'2021879094'], u'timestamp': [u'1475849861'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'a655aee01fef358b1b2352649dcf173b283843d2']}>, args:()
2016:10:07 22:17:41 27019 139947177137920 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 22:17:41 27019 139947177137920 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 22:17:41 27019 139947177137920 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 22:17:41 27019 139947177137920 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 22:17:41 27019 139947177137920 [WARNING save_pos_wx 902] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 22:17:41 27019 139947177137920 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:17:41 27019 139947177137920 [ERROR _check_mysql_arg_json 160] 参数type不能为空.<function print_stack at 0x7f47fdb8c6e0>
2016:10:07 22:17:41 27019 139947177137920 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.<function print_stack at 0x7f47fdb8c6e0>
2016:10:07 22:17:41 27019 139947177137920 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 22:17:41 27019 139947177137920 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:17:41 27019 139947177137920 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:17:41 27019 139947177137920 [INFO wrapper 75] >>>default_process<<< [58.247.206.155] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1346856121'], u'timestamp': [u'1475849861'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'2fd88a0e3c49323dbabeebb32877b7976bfd7c30']}>, args:()
2016:10:07 22:17:41 27019 139947177137920 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 22:17:44 27019 139947177137920 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:17:44 27019 139947177137920 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:17:44 27019 139947177137920 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:17:44 27019 139947177137920 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'031Q4sEq1WUwot0rvJEq13mtEq1Q4sEt']}>, args:()
2016:10:07 22:17:44 27019 139947177137920 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: Y14EozaT1HhzbNaVeRik20VMWm0pjj3y5T1lzUwl4b5drS61DBTB7OslR9yrK8qpjqumDf6GB_rEgInhMdKu2MtZhKYOnt18fqpmXff303U 7200
2016:10:07 22:17:44 27019 139947177137920 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: v-y4ZuQhvu5sl0o_o_R4ig91CnY20GXPfM2AYixRHH6vP1Yaw62oTMY90gjm3AS8Cx-r5Gu0zdjv29gGMROWjPHvEvcXnNe5CLtkHqefVSs 8640000
2016:10:07 22:17:44 27019 139947177137920 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 22:17:44 27019 139947177137920 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 22:17:44 27019 139947177137920 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 22:17:44 27019 139947177137920 [INFO get_openid 1331] return openid. 031Q4sEq1WUwot0rvJEq13mtEq1Q4sEt -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 22:17:44 27019 139947177137920 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:17:44 27019 139947177137920 [ERROR _check_mysql_arg_json 160] 参数type不能为空.<function print_stack at 0x7f47fdb8c6e0>
2016:10:07 22:17:44 27019 139947177137920 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.<function print_stack at 0x7f47fdb8c6e0>
2016:10:07 22:17:44 27019 139947177137920 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:17:44 27019 139947177137920 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:17:44 27019 139947177137920 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:18:38 27053 140022567806720 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 22:18:38 27053 140022567806720 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 22:18:38 27053 140022567806720 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 22:18:38 27053 140022567806720 [INFO _get_user_status_map 235] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 22:18:38 27053 140022567806720 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 22:18:38 27053 140022567806720 [INFO <module> 1071] [TOKEN] start new thread.
2016:10:07 22:18:38 27053 140022567806720 [INFO wrapper 75] >>>default_process<<< [58.247.206.150] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1241337910'], u'timestamp': [u'1475849918'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'ee156693034dfd471ba57dcc6fa722a5241af0db']}>, args:()
2016:10:07 22:18:38 27053 140022567806720 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 22:18:39 27053 140022567806720 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'993175447'], u'timestamp': [u'1475849919'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'4c61b46458d3987b3fcde67b46bfd2ab7fd63075']}>, args:()
2016:10:07 22:18:39 27053 140022567806720 [INFO default_process 1190] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 22:18:41 27053 140022567806720 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:18:41 27053 140022567806720 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:18:42 27053 140022567806720 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'011MrTpv0XLnHo15LBov0DhUpv0MrTpM']}>, args:()
2016:10:07 22:18:43 27053 140022567806720 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: LymkE0HlXCph2zmYGix9p3hicdotKE4uM5aR-7LO2DQjvXJy2aiC7qNG8rjkPHUjpnqSvNfzlOJuKALTk9CzRRE8Nhg11DSfbDzaq7v3BTQ 7200
2016:10:07 22:18:43 27053 140022567806720 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: PJkZbg2RVSscU0ZP2kGhU2-lyelHOWlvJ5Bc0UogpWJ59TbQvbYP7PNdAXPwMro8VvMR5PArzpcRUv_JK8pwzZM9FSMA3GDsuUc2U60mx4M 8640000
2016:10:07 22:18:43 27053 140022567806720 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 22:18:43 27053 140022567806720 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 22:18:43 27053 140022567806720 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 22:18:43 27053 140022567806720 [INFO get_openid 1331] return openid. 011MrTpv0XLnHo15LBov0DhUpv0MrTpM -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 22:18:43 27053 140022567806720 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:18:43 27053 140022567806720 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:18:43 27053 140022567806720 [ERROR _check_mysql_arg_json 160] 参数type不能为空.None
2016:10:07 22:18:43 27053 140022567806720 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.None
2016:10:07 22:18:43 27053 140022567806720 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:18:43 27053 140022567806720 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:18:43 27053 140022567806720 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:19:01 27053 140022567806720 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1977872738'], u'timestamp': [u'1475849941'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'43bad18ee5662cefe9a530fb65b0e4474b07aa82']}>, args:()
2016:10:07 22:19:01 27053 140022567806720 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_LOCATION, bodylen:342
2016:10:07 22:19:02 27053 140022567806720 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1491724927'], u'timestamp': [u'1475849942'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'signature': [u'7890a3656bce2a7252609c0dad020ac950511c28']}>, args:()
2016:10:07 22:19:02 27053 140022567806720 [INFO default_process 1190] openid:oYgYJwcdR1mRcJ_3WLghpeTPJoKw, msg:event_VIEW, bodylen:511
2016:10:07 22:19:05 27053 140022567806720 [INFO wrapper 75] >>>get_wx_acttypes<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:19:05 27053 140022567806720 [INFO wrapper 75] >>>get_hot_activities<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:19:05 27053 140022567806720 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:19:05 27053 140022567806720 [INFO wrapper 75] >>>get_openid<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'011KBNFE0VlaS72V6RFE0kGNFE0KBNFc']}>, args:()
2016:10:07 22:19:05 27053 140022567806720 [INFO get_openid 1285] [TOKEN] getopenid set web_access_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: cY_HUw1vpVTSOqBA5Y1NbPy7UhGagcb-xkNgGzpqsCuBZtiSrLezc0a6CKTNL9S_UFh3L0S1eWGKLPX-P58B_Le7bSU7sZsyrsWft3smSLg 7200
2016:10:07 22:19:05 27053 140022567806720 [INFO get_openid 1287] [TOKEN] getopenid set web_refresh_token_oYgYJwcdR1mRcJ_3WLghpeTPJoKw: wyALMuIJT-K-wpx4RLJwbIhCW-doCwEmdLlHjLwcmq4c1ZVmjloIVksUXivaUxx1EWXhR-Drd1k-JCPYGhD6c-m-GUWwQG2PITU0wVgiBi8 8640000
2016:10:07 22:19:05 27053 140022567806720 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 22:19:05 27053 140022567806720 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:1, time:0.000.
2016:10:07 22:19:05 27053 140022567806720 [INFO db_exec 84] [sql_w] update 6s_user set wechat='翔宇',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GaKgkGnsic3BkFf47kQCV6ibQzKiaQfb81awaZTbBj5nrNdjpgsFjAXFcL4MfFeDVbFb9TraGyMfAWP/0',status=1 where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw';, count:0, time:0.000.
2016:10:07 22:19:05 27053 140022567806720 [INFO get_openid 1331] return openid. 011KBNFE0VlaS72V6RFE0kGNFE0KBNFc -> {'openid': u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw', 'errcode': 0, 'errmsg': ''}
2016:10:07 22:19:05 27053 140022567806720 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:19:05 27053 140022567806720 [ERROR _check_mysql_arg_json 160] 参数type不能为空.None
2016:10:07 22:19:05 27053 140022567806720 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.None
2016:10:07 22:19:05 27053 140022567806720 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw', count:1, time:0.001.
2016:10:07 22:19:05 27053 140022567806720 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 22:19:05 27053 140022567806720 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:19:30 27053 140022567806720 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 22:19:30 27053 140022567806720 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and a.act_id=90 and a.status=1 and b.status=1;, count:1, time:0.001.
2016:10:07 22:19:30 27053 140022567806720 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwcdR1mRcJ_3WLghpeTPJoKw' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:19:30 27053 140022567806720 [INFO wrapper 75] >>>activities_details<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwcdR1mRcJ_3WLghpeTPJoKw'], u'actid': [u'90']}>, args:()
2016:10:07 22:19:30 27053 140022567806720 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:19:30 27053 140022567806720 [INFO wrapper 75] >>>get_js_signature<<< [117.136.49.43] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 22:21:29 27053 140022485063424 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:xXQZorydOKK8qE76CpBnDW2MA2kvBctoq5OrnDpWvhvBoTojEpdT7dSW_gTA-KN4iSn_q3ngHK_RoTXgZAauZP66e9g5pT6qy1ZAGQYRs3I
2016:10:07 22:21:29 27053 140022485063424 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:sg1BVvuiteGW4eNyW4Y5Jy9HsBwlsh6HPNqZIC94Yux78ZMa8qbHeecpZP4cnzd81DbDZN84PaHDkkmLXy83wremaqYAoQrNz_NOTjIngc0
2016:10:07 22:28:58 27053 140022485063424 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:U2m687Fyeuqz6rfSSLjViKJidNkXSBL70dOQZ-nID32FfFJxx75JGXhem4gtzpg8wu2bbhvz7V-9hqlrFPUaTDh6pWBBu6fo8SbZN1LJxco
2016:10:07 22:28:58 27053 140022485063424 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:wNBAM1R5pLJl8rSFVoRAKf5ZrH0gjxyb4R6GXImqna6vuw0xL5ockbOYIr7uvclKlyelnRxYlTjopxcC8dhcMbnJZCnl8K3WBdsoVxBmup8
2016:10:07 22:28:59 27053 140022485063424 [INFO _update_web_access_token 1009] [TOKEN] update web_ access_token:ertqKlhRmE9ef5rS_MaTFJSh9lAsCRohh3v9BCNCT4z-YOO6-UxNj6UGWiF0mkrAUI7JVYSEuyP6A_Vm5RE_9OdIZIJBj-fnrIWD9nniEkw
2016:10:07 22:28:59 27053 140022485063424 [INFO _update_web_access_token 1011] [TOKEN] upload web_ refresh_token:wk8PDgObq-EbXvdryeXKb88uEYNwKW1LYPONKK6GkK8k53jPodFJoWX39B8NpQuEZgpWa_9AuGe7f8XR121C0Nj1iC_DQcy35MbfQbWaaPY
2016:10:07 22:32:44 27085 140401622165248 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 22:32:44 27085 140401622165248 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 22:32:44 27085 140401622165248 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 22:32:44 27085 140401622165248 [INFO _get_user_status_map 235] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 22:32:44 27085 140401622165248 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 22:39:26 27085 140401622165248 [INFO <module> 1073] [TOKEN] start new thread.
2016:10:07 22:39:31 27085 140401622165248 [INFO wrapper 75] >>>default_process<<< [58.247.206.155] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'2114949880'], u'timestamp': [u'1475851171'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'c81ec5d04b2a568b93c0a5c3fd35a8e9b28bfe19']}>, args:()
2016:10:07 22:39:31 27085 140401622165248 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 22:39:31 27085 140401622165248 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 22:39:31 27085 140401622165248 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 22:39:31 27085 140401622165248 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 22:39:31 27085 140401622165248 [WARNING save_pos_wx 904] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 22:39:31 27085 140401622165248 [INFO wrapper 75] >>>default_process<<< [58.247.206.155] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1189506841'], u'timestamp': [u'1475851171'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'ab4a02f779448563d3606dc9d8d87c20f5b4cace']}>, args:()
2016:10:07 22:39:31 27085 140401622165248 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 22:39:35 27085 140401622165248 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:39:35 27085 140401622165248 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:39:35 27085 140401622165248 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:39:35 27085 140401622165248 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'001KkCr51leHgZ1glPr51K9Dr51KkCr5']}>, args:()
2016:10:07 22:39:35 27085 140401622165248 [INFO get_openid 1287] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: ziy3LHoTLxs7FvUw88Pe0IoBi95ZxdFgIrNTTHeRLEGf4jkMJjZaX60morU7QDnMS0anrtueRVGLX-0udVTZJ4ID6upcQ_kKj4NHiOqNoIs 7200
2016:10:07 22:39:35 27085 140401622165248 [INFO get_openid 1289] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: W9snK5GNv6mf99gnzHrAMjgQ2LphfTrOEC-zWQ5KrORhtCy7YQ12kqvWV_4gYV8zUBZ_Jlw-5_PkX9b2NhClVBM8XLiYTwZTnMzU4Cq9hdk 8640000
2016:10:07 22:39:35 27085 140401622165248 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 22:39:35 27085 140401622165248 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 22:39:35 27085 140401622165248 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 22:39:35 27085 140401622165248 [INFO get_openid 1333] return openid. 001KkCr51leHgZ1glPr51K9Dr51KkCr5 -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 22:39:36 27085 140401622165248 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:39:36 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数type不能为空.None
2016:10:07 22:39:36 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.None
2016:10:07 22:39:36 27085 140401622165248 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:39:36 27085 140401622165248 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:39:36 27085 140401622165248 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:39:48 27085 140401622165248 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 22:39:48 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数type不能为空.None
2016:10:07 22:39:48 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.None
2016:10:07 22:39:48 27085 140401622165248 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:39:48 27085 140401622165248 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.004.
2016:10:07 22:39:48 27085 140401622165248 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:39:49 27085 140401622165248 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'3']}>, args:()
2016:10:07 22:39:49 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数type不能为空.None
2016:10:07 22:39:49 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.None
2016:10:07 22:39:49 27085 140401622165248 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:39:49 27085 140401622165248 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 10;, count:5, time:0.004.
2016:10:07 22:39:49 27085 140401622165248 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:39:50 27085 140401622165248 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'4']}>, args:()
2016:10:07 22:39:50 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数type不能为空.None
2016:10:07 22:39:50 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.None
2016:10:07 22:39:50 27085 140401622165248 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:39:50 27085 140401622165248 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 15;, count:5, time:0.004.
2016:10:07 22:39:50 27085 140401622165248 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:39:51 27085 140401622165248 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'5']}>, args:()
2016:10:07 22:39:51 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数type不能为空.None
2016:10:07 22:39:51 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.None
2016:10:07 22:39:51 27085 140401622165248 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:39:51 27085 140401622165248 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 20;, count:5, time:0.004.
2016:10:07 22:39:51 27085 140401622165248 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:39:57 27085 140401622165248 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'6']}>, args:()
2016:10:07 22:39:57 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数type不能为空.None
2016:10:07 22:39:57 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.None
2016:10:07 22:39:57 27085 140401622165248 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:39:57 27085 140401622165248 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 25;, count:5, time:0.005.
2016:10:07 22:39:57 27085 140401622165248 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:40:23 27085 140401622165248 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:40:23 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数type不能为空.None
2016:10:07 22:40:23 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.None
2016:10:07 22:40:23 27085 140401622165248 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:40:23 27085 140401622165248 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:40:23 27085 140401622165248 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:40:34 27085 140401622165248 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'225784372'], u'timestamp': [u'1475851234'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'82953f0a846d4917dba6fa5773447247f6040605']}>, args:()
2016:10:07 22:40:34 27085 140401622165248 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 22:40:34 27085 140401622165248 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 22:40:34 27085 140401622165248 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.001.
2016:10:07 22:40:34 27085 140401622165248 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 22:40:34 27085 140401622165248 [WARNING save_pos_wx 904] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 22:41:20 27085 140401539421952 [INFO _update_web_access_token 1011] [TOKEN] update web_ access_token:GDydBRgquN0WNmAxJcRsfcy_Rtx3T7AnuAUDB8rQvfDMWTKjYMLowxZ9a2fcJBWSfOsisuR94OinYt44Nv7dmWCpMzwnEmIZpWLUkgRHEiY
2016:10:07 22:41:20 27085 140401539421952 [INFO _update_web_access_token 1013] [TOKEN] upload web_ refresh_token:fMMNNiTzPN3MqGt35vTQ4a3TBIuLis11RUztHG_uSjXokHymbx6lyRi5JhUuRFnHdTb2zVJ9vU5nHqav360J6HTx0CfCrIl38KkU_M68i0k
2016:10:07 22:43:27 27085 140401622165248 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:43:27 27085 140401622165248 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:43:27 27085 140401622165248 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:43:27 27085 140401622165248 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:43:27 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数type不能为空.None
2016:10:07 22:43:27 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.None
2016:10:07 22:43:27 27085 140401622165248 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 22:43:27 27085 140401622165248 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 22:43:27 27085 140401622165248 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:43:42 27085 140401622165248 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 22:43:42 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数type不能为空.None
2016:10:07 22:43:42 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.None
2016:10:07 22:43:42 27085 140401622165248 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 22:43:42 27085 140401622165248 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.004.
2016:10:07 22:43:42 27085 140401622165248 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:43:44 27085 140401622165248 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'3']}>, args:()
2016:10:07 22:43:44 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数type不能为空.None
2016:10:07 22:43:44 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.None
2016:10:07 22:43:44 27085 140401622165248 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 22:43:44 27085 140401622165248 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 10;, count:5, time:0.005.
2016:10:07 22:43:44 27085 140401622165248 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:43:45 27085 140401622165248 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'4']}>, args:()
2016:10:07 22:43:45 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数type不能为空.None
2016:10:07 22:43:45 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.None
2016:10:07 22:43:45 27085 140401622165248 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 22:43:45 27085 140401622165248 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 15;, count:5, time:0.004.
2016:10:07 22:43:45 27085 140401622165248 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:43:52 27085 140401622165248 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:43:52 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数type不能为空.None
2016:10:07 22:43:52 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.None
2016:10:07 22:43:52 27085 140401622165248 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 22:43:52 27085 140401622165248 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:43:52 27085 140401622165248 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:44:02 27085 140401622165248 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:44:02 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数type不能为空.None
2016:10:07 22:44:02 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.None
2016:10:07 22:44:02 27085 140401622165248 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 22:44:02 27085 140401622165248 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:44:02 27085 140401622165248 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:44:04 27085 140401622165248 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 22:44:04 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数type不能为空.None
2016:10:07 22:44:04 27085 140401622165248 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.None
2016:10:07 22:44:04 27085 140401622165248 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 22:44:04 27085 140401622165248 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.005.
2016:10:07 22:44:04 27085 140401622165248 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:44:12 27085 140401622165248 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:44:12 27085 140401622165248 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:44:12 27085 140401622165248 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:44:12 27085 140401622165248 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:44:12 27085 140401622165248 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:44:12 27085 140401622165248 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:44:40 27085 140401622165248 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:44:40 27085 140401622165248 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:44:40 27085 140401622165248 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:44:40 27085 140401622165248 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:44:40 27085 140401622165248 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:44:40 27085 140401622165248 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:44:53 27085 140401622165248 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:44:53 27085 140401622165248 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:44:53 27085 140401622165248 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:44:53 27085 140401622165248 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:44:53 27085 140401622165248 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:44:53 27085 140401622165248 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:45:04 27085 140401539421952 [INFO _update_web_access_token 1011] [TOKEN] update web_ access_token:CIrkZ8PMmITAkRvnBpz2FJ0I88lsZX8Y_EbNt72kDtrxr2mW9Lg8h0o1Vojj-whrD2K4FBaT-Gw6nIIpoHQGN-vJ0B1l0Ne0xxKjFT17RX0
2016:10:07 22:45:04 27085 140401539421952 [INFO _update_web_access_token 1013] [TOKEN] upload web_ refresh_token:Z8N9ak3Gzmb94O6w7trk6KO3l2RGNI8EWOazg30bEEqkQ_1v1KyvskbzBg4QZ44xYWEPcnnRfUY-678qnfSAozcmmdfIiPgK76hQeaejrPM
2016:10:07 22:45:26 27148 140709851993856 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 22:45:26 27148 140709851993856 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 22:45:26 27148 140709851993856 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 22:45:26 27148 140709851993856 [INFO _get_user_status_map 235] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 22:45:26 27148 140709851993856 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 22:45:26 27148 140709851993856 [INFO <module> 1073] [TOKEN] start new thread.
2016:10:07 22:45:26 27148 140709851993856 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:45:26 27148 140709851993856 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:45:26 27148 140709851993856 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:45:26 27148 140709851993856 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:45:26 27148 140709851993856 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:45:26 27148 140709851993856 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:45:30 27148 140709851993856 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:45:30 27148 140709851993856 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:45:30 27148 140709851993856 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:45:30 27148 140709851993856 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:45:30 27148 140709851993856 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.001.
2016:10:07 22:45:30 27148 140709851993856 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:46:02 27148 140709851993856 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:46:02 27148 140709851993856 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:46:02 27148 140709851993856 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:46:02 27148 140709851993856 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:46:02 27148 140709851993856 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:46:02 27148 140709851993856 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:46:10 27148 140709851993856 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1555789371'], u'timestamp': [u'1475851570'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'55e047c9a385eb41beaf88f3af40e8012a94244d']}>, args:()
2016:10:07 22:46:10 27148 140709851993856 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 22:46:10 27148 140709851993856 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 22:46:10 27148 140709851993856 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 22:46:10 27148 140709851993856 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 22:46:10 27148 140709851993856 [WARNING save_pos_wx 904] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 22:46:11 27148 140709851993856 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:46:11 27148 140709851993856 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.002.
2016:10:07 22:46:11 27148 140709851993856 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:46:11 27148 140709851993856 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:46:11 27148 140709851993856 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:46:11 27148 140709851993856 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:46:25 27148 140709851993856 [INFO wrapper 75] >>>get_hot_activities<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:46:25 27148 140709851993856 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:46:25 27148 140709851993856 [INFO wrapper 75] >>>get_wx_acttypes<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:46:25 27148 140709851993856 [INFO wrapper 75] >>>get_openid<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'001fYIPu180W2706mmPu1DJIPu1fYIP1']}>, args:()
2016:10:07 22:46:26 27148 140709851993856 [INFO get_openid 1287] [TOKEN] getopenid set web_access_token_oYgYJwa3Y-q-DuxjT9QfOwqwnYOI: 5KT6uQzYG9PLo89WsEW_SO58pfJKWhhuAhUCe55pYEODmGps4vO6fZ4j9tUqsYrYNgBDfPF5BuPjLVJfEnFbiUgKMsAN8dDC4-IoHUkzdLg 7200
2016:10:07 22:46:26 27148 140709851993856 [INFO get_openid 1289] [TOKEN] getopenid set web_refresh_token_oYgYJwa3Y-q-DuxjT9QfOwqwnYOI: 05OV050W2mrSz97Cwf4wHSVblQvH4pAhqIwG0i6Qd9tAaxamujdoGvnoOMhhioKoCbYy_rgDC06qNdVhqUlwFnT2_p0OLfWxOPmdSkkzLhM 8640000
2016:10:07 22:46:26 27148 140709851993856 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 22:46:26 27148 140709851993856 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI';, count:0, time:0.000.
2016:10:07 22:46:26 27148 140709851993856 [INFO db_exec 84] [sql_w] insert into 6s_user(wechat,gender,img,position_id,openid,createtime) values('yao','female','http://wx.qlogo.cn/mmopen/Hp9HAaP9GFA8DXiaJ98l0LwnZgEwLE1D3XhabEo8Qn9INKqImAw3cSPuNo6g2Ex7iaZAExQpzKtrtHdC2gmWdr9RhzO0g8rTOB/0','101010100','oYgYJwa3Y-q-DuxjT9QfOwqwnYOI',now());, count:1, time:0.016.
2016:10:07 22:46:26 27148 140709851993856 [INFO get_openid 1333] return openid. 001fYIPu180W2706mmPu1DJIPu1fYIP1 -> {'openid': u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI', 'errcode': 0, 'errmsg': ''}
2016:10:07 22:46:26 27148 140709851993856 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:46:26 27148 140709851993856 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:46:26 27148 140709851993856 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:46:26 27148 140709851993856 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI', count:1, time:0.001.
2016:10:07 22:46:26 27148 140709851993856 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:46:26 27148 140709851993856 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:46:29 27148 140709851993856 [INFO wrapper 75] >>>default_process<<< [45.79.95.64] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:46:41 27148 140709851993856 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:46:41 27148 140709851993856 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:46:41 27148 140709851993856 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:46:41 27148 140709851993856 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI', count:1, time:0.001.
2016:10:07 22:46:41 27148 140709851993856 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:46:41 27148 140709851993856 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:46:52 27158 140387380356864 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 22:46:52 27158 140387380356864 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 22:46:52 27158 140387380356864 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 22:46:52 27158 140387380356864 [INFO _get_user_status_map 235] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 22:46:52 27158 140387380356864 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 22:46:52 27158 140387380356864 [INFO <module> 1073] [TOKEN] start new thread.
2016:10:07 22:46:52 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:46:52 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:46:52 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:46:52 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:46:52 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:46:52 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:47:01 27158 140387380356864 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1332889027'], u'timestamp': [u'1475851621'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'a01ace659ace5ed257148d6047ee715e2113a002']}>, args:()
2016:10:07 22:47:01 27158 140387380356864 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 22:47:03 27158 140387380356864 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 22:47:03 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:47:03 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:47:03 27158 140387380356864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI', count:1, time:0.001.
2016:10:07 22:47:03 27158 140387380356864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.005.
2016:10:07 22:47:03 27158 140387380356864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:47:08 27158 140387380356864 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:47:08 27158 140387380356864 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:47:08 27158 140387380356864 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:47:09 27158 140387380356864 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'011Z4xGu1x88c70TI0Iu1wZwGu1Z4xG6']}>, args:()
2016:10:07 22:47:09 27158 140387380356864 [INFO get_openid 1287] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: olUEjs2yC4cxy5tw3ZFALHo07cayWqD3byW7Qsbtz4D733uhPZyueYrCkf3LTscWgFrylRPOyTNJguGWllijTrtRT1FAxZWJjJnOV3UvkvI 7200
2016:10:07 22:47:09 27158 140387380356864 [INFO get_openid 1289] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: xxYXAl-3sXE3kUMWgPs6VIQMxqMwy1tJXkiMQtk7KWsRKL22tljAY9V87PRgtxdiJvcMK4fuPGLM0j-qFp76GtE0_PHtTcXQr-bQXgrLbFA 8640000
2016:10:07 22:47:09 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 22:47:09 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 22:47:09 27158 140387380356864 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 22:47:09 27158 140387380356864 [INFO get_openid 1333] return openid. 011Z4xGu1x88c70TI0Iu1wZwGu1Z4xG6 -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 22:47:09 27158 140387380356864 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:47:09 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:47:09 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:47:09 27158 140387380356864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:47:09 27158 140387380356864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 22:47:09 27158 140387380356864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:47:23 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI'], u'actid': [u'57']}>, args:()
2016:10:07 22:47:23 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI' and a.act_id=57 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:47:23 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=57;, count:1, time:0.000.
2016:10:07 22:47:23 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI' and act_id=57 and status=1;, count:0, time:0.000.
2016:10:07 22:47:23 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI'], u'actid': [u'57']}>, args:()
2016:10:07 22:47:23 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=57;, count:1, time:0.001.
2016:10:07 22:47:23 27158 140387380356864 [INFO wrapper 75] >>>get_js_signature<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=57']}>, args:()
2016:10:07 22:47:34 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:47:34 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:47:34 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:47:34 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:47:34 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:47:34 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:47:58 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:47:58 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:47:58 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:47:58 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:47:58 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:47:58 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:48:21 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:48:21 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:48:21 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:48:21 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:48:21 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:48:21 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:48:45 27158 140387380356864 [INFO wrapper 75] >>>get_hot_activities<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:48:45 27158 140387380356864 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:48:45 27158 140387380356864 [INFO wrapper 75] >>>get_wx_acttypes<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:48:45 27158 140387380356864 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:48:45 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:48:45 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:48:45 27158 140387380356864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI', count:1, time:0.001.
2016:10:07 22:48:45 27158 140387380356864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:48:45 27158 140387380356864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:48:46 27158 140387297613568 [INFO _update_web_access_token 1011] [TOKEN] update web_ access_token:ArrdENXQGILD0FzTenzNIVMAyjNg8Cx9YiNDVi0SIbZA6tgbWJHpVrvnzPBLyFVzMjQvLHW4orSurygxpGmbqUvJp9w3BWHP7FQJAHp-r08
2016:10:07 22:48:46 27158 140387297613568 [INFO _update_web_access_token 1013] [TOKEN] upload web_ refresh_token:ZH3X8Dvtyi9QV7ttWmbLzE3rJHjqW70sAZyR70N4cW6DtjDvag1FetUfWSbOu7iUZua_AXgCmJ6yuOEtPy4_qOM0o8c_y-lUvpjoxnqevrE
2016:10:07 22:48:49 27158 140387380356864 [INFO wrapper 75] >>>get_hot_activities<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:48:49 27158 140387380356864 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:48:49 27158 140387380356864 [INFO wrapper 75] >>>get_wx_acttypes<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:48:49 27158 140387380356864 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:48:49 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:48:49 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:48:49 27158 140387380356864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI', count:1, time:0.001.
2016:10:07 22:48:49 27158 140387380356864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 22:48:49 27158 140387380356864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:48:59 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'82']}>, args:()
2016:10:07 22:48:59 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=82 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:48:59 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=82;, count:1, time:0.000.
2016:10:07 22:48:59 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=82 and status=1;, count:0, time:0.000.
2016:10:07 22:48:59 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'82']}>, args:()
2016:10:07 22:48:59 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=82;, count:1, time:0.001.
2016:10:07 22:48:59 27158 140387380356864 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=82']}>, args:()
2016:10:07 22:49:06 27158 140387380356864 [INFO wrapper 75] >>>get_hot_activities<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:49:06 27158 140387380356864 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:49:06 27158 140387380356864 [INFO wrapper 75] >>>get_openid<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041zM3gp0jtRGc1rLRep0Dx4gp0zM3g-']}>, args:()
2016:10:07 22:49:06 27158 140387380356864 [INFO get_openid 1287] [TOKEN] getopenid set web_access_token_oYgYJwa3Y-q-DuxjT9QfOwqwnYOI: cKgEiU-KCp1F1yUo-hURMmnViODI0e0138QbM4feP_hD64HtgvO7MWNYKUg0eD-4O6gS8zWmlQu2P3MQ4GsBP4Nu2i8vgOt-yRtxHL0PhDQ 7200
2016:10:07 22:49:06 27158 140387380356864 [INFO get_openid 1289] [TOKEN] getopenid set web_refresh_token_oYgYJwa3Y-q-DuxjT9QfOwqwnYOI: jL1usU39iskb-8tzXGzTy6FdQYMtEG6dmLNJDJcZIEoQAtWaPsJH2pITT7pMLCroQ79UwGhJfhbwZUcIemavzmr1Wm9PoGOS5_DNma04na8 8640000
2016:10:07 22:49:07 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 22:49:07 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI';, count:1, time:0.000.
2016:10:07 22:49:07 27158 140387380356864 [INFO db_exec 84] [sql_w] update 6s_user set wechat='yao',gender='female',img='http://wx.qlogo.cn/mmopen/Hp9HAaP9GFA8DXiaJ98l0LwnZgEwLE1D3XhabEo8Qn9INKqImAw3cSPuNo6g2Ex7iaZAExQpzKtrtHdC2gmWdr9RhzO0g8rTOB/0',status=1 where openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI';, count:0, time:0.000.
2016:10:07 22:49:07 27158 140387380356864 [INFO get_openid 1333] return openid. 041zM3gp0jtRGc1rLRep0Dx4gp0zM3g- -> {'openid': u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI', 'errcode': 0, 'errmsg': ''}
2016:10:07 22:49:07 27158 140387380356864 [INFO wrapper 75] >>>get_wx_acttypes<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:49:07 27158 140387380356864 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:49:07 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:49:07 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:49:07 27158 140387380356864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI', count:1, time:0.001.
2016:10:07 22:49:07 27158 140387380356864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:49:07 27158 140387380356864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:49:20 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:49:20 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:49:20 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:49:20 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:49:20 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:49:20 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:49:33 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:49:33 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:49:33 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:49:33 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:49:33 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:49:33 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:49:36 27158 140387380356864 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'2140230611'], u'timestamp': [u'1475851776'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'18f4bd3f6300547588c7195c7e85b560712ecec4']}>, args:()
2016:10:07 22:49:36 27158 140387380356864 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 22:49:36 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 22:49:36 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 22:49:36 27158 140387380356864 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 22:49:36 27158 140387380356864 [WARNING save_pos_wx 904] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 22:49:39 27158 140387380356864 [INFO wrapper 75] >>>default_process<<< [58.247.206.150] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1956608110'], u'timestamp': [u'1475851779'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'66591ba510d5e7496687390cde836d78c6fc73bb']}>, args:()
2016:10:07 22:49:39 27158 140387380356864 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 22:49:41 27158 140387380356864 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:49:41 27158 140387380356864 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:49:41 27158 140387380356864 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:49:42 27158 140387380356864 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'021jg0Dp1Ssfuu05z6Cp1Zy0Dp1jg0D3']}>, args:()
2016:10:07 22:49:42 27158 140387380356864 [INFO get_openid 1287] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: NGwEZrEm90XQCHQqxX5_ZQujLI3cJAseF075o3BEGHxIiWeA9R5NZ9Ygmu_M7JthXP8T0lavgJdUikDpKgP0_GZ7fHNfnK6Fn1Cc-eXjtW0 7200
2016:10:07 22:49:42 27158 140387380356864 [INFO get_openid 1289] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: EQnPus_BlgcoZHmtMBX98Mf5pqO9dML6uZf85CY3trxZzySxrt7pipmioGnEaiq_pUAR45IEv-apWsAv_NKQ_-ZlRqT1PYn2wEzx_-A7o9E 8640000
2016:10:07 22:49:42 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 22:49:42 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 22:49:42 27158 140387380356864 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 22:49:42 27158 140387380356864 [INFO get_openid 1333] return openid. 021jg0Dp1Ssfuu05z6Cp1Zy0Dp1jg0D3 -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 22:49:43 27158 140387380356864 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:49:43 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:49:43 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:49:43 27158 140387380356864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:49:43 27158 140387380356864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:49:43 27158 140387380356864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:49:54 27158 140387380356864 [INFO wrapper 75] >>>get_hot_activities<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:49:54 27158 140387380356864 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:49:54 27158 140387380356864 [INFO wrapper 75] >>>get_wx_acttypes<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:49:54 27158 140387380356864 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:49:54 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:49:54 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:49:54 27158 140387380356864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI', count:1, time:0.001.
2016:10:07 22:49:54 27158 140387380356864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:49:54 27158 140387380356864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:49:57 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI'], u'actid': [u'82']}>, args:()
2016:10:07 22:49:57 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=82;, count:1, time:0.001.
2016:10:07 22:49:57 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI'], u'actid': [u'82']}>, args:()
2016:10:07 22:49:57 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI' and a.act_id=82 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:49:57 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=82;, count:1, time:0.000.
2016:10:07 22:49:57 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI' and act_id=82 and status=1;, count:0, time:0.001.
2016:10:07 22:49:57 27158 140387380356864 [INFO wrapper 75] >>>get_js_signature<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=82']}>, args:()
2016:10:07 22:50:09 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'82']}>, args:()
2016:10:07 22:50:09 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=82;, count:1, time:0.001.
2016:10:07 22:50:09 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'82']}>, args:()
2016:10:07 22:50:09 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=82 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:50:09 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=82;, count:1, time:0.000.
2016:10:07 22:50:09 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=82 and status=1;, count:0, time:0.001.
2016:10:07 22:50:09 27158 140387380356864 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=82']}>, args:()
2016:10:07 22:50:22 27158 140387380356864 [INFO wrapper 75] >>>get_hot_activities<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:50:22 27158 140387380356864 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:50:22 27158 140387380356864 [INFO wrapper 75] >>>get_wx_acttypes<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:50:22 27158 140387380356864 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:50:22 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:50:22 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:50:22 27158 140387380356864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI', count:1, time:0.001.
2016:10:07 22:50:22 27158 140387380356864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.006.
2016:10:07 22:50:22 27158 140387380356864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:50:25 27158 140387380356864 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 22:50:25 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:50:25 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:50:25 27158 140387380356864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI', count:1, time:0.001.
2016:10:07 22:50:25 27158 140387380356864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.004.
2016:10:07 22:50:25 27158 140387380356864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:50:29 27158 140387380356864 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 22:50:29 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:50:29 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:50:29 27158 140387380356864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:50:29 27158 140387380356864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.004.
2016:10:07 22:50:29 27158 140387380356864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:50:30 27158 140387380356864 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:50:30 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:50:30 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:50:30 27158 140387380356864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:50:30 27158 140387380356864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:50:30 27158 140387380356864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:50:32 27158 140387380356864 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'3']}>, args:()
2016:10:07 22:50:32 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:50:32 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:50:32 27158 140387380356864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI', count:1, time:0.001.
2016:10:07 22:50:32 27158 140387380356864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 10;, count:5, time:0.005.
2016:10:07 22:50:32 27158 140387380356864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:50:36 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 22:50:36 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=90 and a.status=1 and b.status=1;, count:1, time:0.001.
2016:10:07 22:50:36 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:50:36 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'90']}>, args:()
2016:10:07 22:50:36 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:50:36 27158 140387380356864 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 22:50:41 27158 140387380356864 [INFO wrapper 75] >>>activities_special_offers<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:50:41 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:50:41 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:50:41 27158 140387380356864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI', count:1, time:0.001.
2016:10:07 22:50:41 27158 140387380356864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:50:41 27158 140387380356864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:50:45 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI'], u'actid': [u'90']}>, args:()
2016:10:07 22:50:45 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:50:45 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwa3Y-q-DuxjT9QfOwqwnYOI'], u'actid': [u'90']}>, args:()
2016:10:07 22:50:45 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:50:45 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:50:45 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwa3Y-q-DuxjT9QfOwqwnYOI' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:50:45 27158 140387380356864 [INFO wrapper 75] >>>get_js_signature<<< [119.129.114.196] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 22:51:07 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:51:07 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:51:07 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:51:07 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:51:07 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:51:07 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:52:59 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:52:59 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:53:00 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:53:00 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:53:00 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:53:00 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:53:07 27158 140387380356864 [INFO wrapper 75] >>>default_process<<< [58.247.206.145] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1303198744'], u'timestamp': [u'1475851987'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'4ea69c401aad8c431cc642f0f778b48103f9ab3d']}>, args:()
2016:10:07 22:53:07 27158 140387380356864 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 22:53:13 27158 140387380356864 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:53:13 27158 140387380356864 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:53:13 27158 140387380356864 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:53:14 27158 140387380356864 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'0116EyXd0WZG9G1mg7Vd0iuzXd06EyX5']}>, args:()
2016:10:07 22:53:15 27158 140387380356864 [INFO get_openid 1287] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: DcOS-50X8apbhYJhZEwP8Y6XaPN-tQtLNnCsHp0aPG9trxAZyJMCWXCkOKHLVUTBoN5K1npTvmTmrhIaWuG2TH-vP8ClGSsZdn_6v_J1hSw 7200
2016:10:07 22:53:15 27158 140387380356864 [INFO get_openid 1289] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: Hn5nraDsrE3-T0iGK1wsIIaOCl8Gcn4Lzl38Kx94sPYK--t6xB9DHMCrR4lfB0KOa85uuZT3X7iYC4x4VYdbdgPSxyFb46dTiir64wkbSzM 8640000
2016:10:07 22:53:15 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 22:53:15 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 22:53:15 27158 140387380356864 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 22:53:15 27158 140387380356864 [INFO get_openid 1333] return openid. 0116EyXd0WZG9G1mg7Vd0iuzXd06EyX5 -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 22:53:15 27158 140387380356864 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:53:15 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:53:15 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:53:15 27158 140387380356864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:53:15 27158 140387380356864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:53:15 27158 140387380356864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:53:21 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:53:21 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:53:21 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:53:21 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:53:21 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:53:21 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:53:27 27158 140387297613568 [INFO _update_web_access_token 1011] [TOKEN] update web_ access_token:x72vYiwKiJdLbUstjgKvIsEIrYLQCP5I9GsTz8dUWOsvBAsiAbmRG-C13txys2t3uYn2uRgFJQj005_CBLbuJxahwUTBNR1SPpF5nSBeb60
2016:10:07 22:53:27 27158 140387297613568 [INFO _update_web_access_token 1013] [TOKEN] upload web_ refresh_token:1DQqBwPrkv_fiQJkeDLs0ooS6f4l4cO6LjGWx-kqGJ4KGjAY4TQiWj6Y6DCRWSXbV6di5BPlK0T4-_qy3TQ7Yv2_lJfB43WYqkSM9QHxZj8
2016:10:07 22:53:55 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:53:55 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:53:55 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:53:55 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:53:55 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:53:55 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.001.
2016:10:07 22:54:00 27158 140387380356864 [INFO wrapper 75] >>>default_process<<< [58.247.206.153] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1487996717'], u'timestamp': [u'1475852040'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'c324662a790ef0bc77b2dbc4a20455a5dbbcb320']}>, args:()
2016:10:07 22:54:00 27158 140387380356864 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 22:54:01 27158 140387380356864 [INFO wrapper 75] >>>default_process<<< [183.232.90.65] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:54:02 27158 140387380356864 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:54:02 27158 140387380356864 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 22:54:02 27158 140387380356864 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 22:54:02 27158 140387380356864 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'001JRYr52BvZ5H0h7Dr52QC2s52JRYre']}>, args:()
2016:10:07 22:54:02 27158 140387380356864 [INFO get_openid 1287] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: mfI1ZfvN7ZnsmfNqHATBB52Q1vCr6WI1xoSiXPeap6AL4kVkz2GNjK1YpgeJuGaxznnbESJCzmZPu_y7dJV-WYkqJ4UpoxE-258UqlTUEtc 7200
2016:10:07 22:54:02 27158 140387380356864 [INFO get_openid 1289] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: j74dJ5aKXa-kHS5TYgvZnF-z353AxymwAcxO6FEv0mpnjlpvkfrHXRSAvaWy7Q6PJzKEPiKIsx2zj4n64wKUjlN2P1dTfxXB3OFtmnkfMcE 8640000
2016:10:07 22:54:02 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 22:54:02 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 22:54:02 27158 140387380356864 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 22:54:02 27158 140387380356864 [INFO get_openid 1333] return openid. 001JRYr52BvZ5H0h7Dr52QC2s52JRYre -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 22:54:03 27158 140387380356864 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 22:54:03 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:54:03 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:54:03 27158 140387380356864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:54:03 27158 140387380356864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 22:54:03 27158 140387380356864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:54:07 27158 140387380356864 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 22:54:07 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数type不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 48, 'activities_special_offers', 'ret,pagetype = check_mysql_arg_jsonobj("type", req.GET.get("type",None), "str")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:54:07 27158 140387380356864 [ERROR _check_mysql_arg_json 160] 参数acttype不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 49, 'activities_special_offers', 'ret,acttype = check_mysql_arg_jsonobj("acttype", req.GET.get("acttype",None), "str", "")'), ('./skills/common.py', 183, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type)'), ('./skills/common.py', 160, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 22:54:07 27158 140387380356864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 22:54:07 27158 140387380356864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.004.
2016:10:07 22:54:07 27158 140387380356864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 22:54:15 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:54:15 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:54:15 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:54:15 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:54:15 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:54:15 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:54:46 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:54:46 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:54:46 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:54:46 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:54:46 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:54:46 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:55:04 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:55:04 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:55:04 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:55:04 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:55:04 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:55:04 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.001.
2016:10:07 22:56:36 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:56:36 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:56:36 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:56:36 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:56:36 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:56:36 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:57:02 27158 140387380356864 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:57:02 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 22:57:02 27158 140387380356864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 22:57:02 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 22:57:02 27158 140387380356864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 22:57:02 27158 140387380356864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 22:57:08 27158 140387380356864 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 22:57:08 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 22:57:08 27158 140387380356864 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 22:57:38 27158 140387380356864 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 22:57:38 27158 140387380356864 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 22:57:38 27158 140387380356864 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 22:59:21 27209 140266920826624 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 22:59:21 27209 140266920826624 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 22:59:21 27209 140266920826624 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 22:59:21 27209 140266920826624 [INFO _get_user_status_map 235] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 22:59:21 27209 140266920826624 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 22:59:21 27209 140266920826624 [INFO <module> 1073] [TOKEN] start new thread.
2016:10:07 22:59:43 27209 140266920826624 [INFO wrapper 75] >>>default_process<<< [207.46.13.51] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:00:51 27209 140266920826624 [INFO wrapper 75] >>>default_process<<< [103.214.68.188] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:01:10 27219 140329329297152 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 23:01:10 27219 140329329297152 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 23:01:10 27219 140329329297152 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 23:01:10 27219 140329329297152 [INFO _get_user_status_map 239] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 23:01:10 27219 140329329297152 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 23:01:10 27219 140329329297152 [INFO <module> 1073] [TOKEN] start new thread.
2016:10:07 23:01:10 27219 140329329297152 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:01:10 27219 140329329297152 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:01:10 27219 140329329297152 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:01:20 27219 140329329297152 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1904280502'], u'timestamp': [u'1475852480'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'757f48a2694f34e0d3031286ff22f3579251ab0f']}>, args:()
2016:10:07 23:01:20 27219 140329329297152 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 23:01:20 27219 140329329297152 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:01:20 27219 140329329297152 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 23:01:21 27219 140329329297152 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:01:21 27219 140329329297152 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'011J2EWX0klJFO1cZlUX0m9AWX0J2EWW']}>, args:()
2016:10:07 23:01:21 27219 140329329297152 [INFO get_openid 1287] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: gB2nGPJY1fMM4Vhldt45Jf3lvMwePpuDjeuAH2jwalBsEv6Xqv3rQjoCb8jDcsAvaCZ05chF0i0dJBbyf7w1OarabW86Tqghl29wM92KiOo 7200
2016:10:07 23:01:21 27219 140329329297152 [INFO get_openid 1289] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: iH4ofZ_SmylzutmDjwc74VBeUWK_A2BWJ20CJHRqMdUO8RmomMwKb6F--_sWh-8pxtOKQd2d-yGseYS3swyloeCKStEpzP4hV0EyMm-_3rE 8640000
2016:10:07 23:01:21 27219 140329329297152 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 23:01:21 27219 140329329297152 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 23:01:21 27219 140329329297152 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.001.
2016:10:07 23:01:21 27219 140329329297152 [INFO get_openid 1333] return openid. 011J2EWX0klJFO1cZlUX0m9AWX0J2EWW -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 23:01:21 27219 140329329297152 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 23:01:21 27219 140329329297152 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 23:01:21 27219 140329329297152 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 23:01:21 27219 140329329297152 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 23:01:33 27219 140329329297152 [INFO wrapper 75] >>>activities_details<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 23:01:33 27219 140329329297152 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=53;, count:1, time:0.001.
2016:10:07 23:01:33 27219 140329329297152 [INFO wrapper 75] >>>activities_getsignupstatus<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'actid': [u'53']}>, args:()
2016:10:07 23:01:33 27219 140329329297152 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and a.act_id=53 and a.status=1 and b.status=1;, count:1, time:0.001.
2016:10:07 23:01:33 27219 140329329297152 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4' and act_id=53 and status=1;, count:0, time:0.000.
2016:10:07 23:01:33 27219 140329329297152 [INFO wrapper 75] >>>get_js_signature<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=53']}>, args:()
2016:10:07 23:04:42 27219 140329329297152 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:04:42 27219 140329329297152 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:04:42 27219 140329329297152 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:04:56 27219 140329329297152 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'2']}>, args:()
2016:10:07 23:04:56 27219 140329329297152 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=2;, count:1, time:0.001.
2016:10:07 23:04:56 27219 140329329297152 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'2']}>, args:()
2016:10:07 23:04:56 27219 140329329297152 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=2 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 23:04:56 27219 140329329297152 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=2;, count:1, time:0.000.
2016:10:07 23:04:56 27219 140329329297152 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=2 and status=1;, count:0, time:0.000.
2016:10:07 23:05:07 27219 140329329297152 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'2']}>, args:()
2016:10:07 23:05:07 27219 140329329297152 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=2;, count:1, time:0.001.
2016:10:07 23:05:07 27219 140329329297152 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'2']}>, args:()
2016:10:07 23:05:07 27219 140329329297152 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=2 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 23:05:07 27219 140329329297152 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=2;, count:1, time:0.000.
2016:10:07 23:05:07 27219 140329329297152 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=2 and status=1;, count:0, time:0.000.
2016:10:07 23:05:30 27219 140329329297152 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:05:30 27219 140329329297152 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:05:30 27219 140329329297152 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:05:37 27219 140329329297152 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'2']}>, args:()
2016:10:07 23:05:37 27219 140329329297152 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=2;, count:1, time:0.001.
2016:10:07 23:05:37 27219 140329329297152 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'2']}>, args:()
2016:10:07 23:05:37 27219 140329329297152 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=2 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 23:05:37 27219 140329329297152 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=2;, count:1, time:0.000.
2016:10:07 23:05:37 27219 140329329297152 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=2 and status=1;, count:0, time:0.000.
2016:10:07 23:06:56 27219 140329329297152 [INFO wrapper 75] >>>default_process<<< [140.207.54.74] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1619153574'], u'timestamp': [u'1475852816'], u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A'], u'signature': [u'8ee6d010046666e39fdaea1157400116ae90e37b']}>, args:()
2016:10:07 23:06:56 27219 140329329297152 [INFO default_process 1192] openid:oYgYJwXWP9vbAVtIGWYJ5TDGky5A, msg:event_VIEW, bodylen:511
2016:10:07 23:07:01 27219 140329329297152 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:07:01 27219 140329329297152 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:07:01 27219 140329329297152 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 23:07:01 27219 140329329297152 [INFO wrapper 75] >>>get_openid<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'001k8ofj2pMbxL0yGfgj21Fvfj2k8ofJ']}>, args:()
2016:10:07 23:07:01 27219 140329329297152 [INFO get_openid 1287] [TOKEN] getopenid set web_access_token_oYgYJwXWP9vbAVtIGWYJ5TDGky5A: JoXb8zJ3hDxRfGlTewDI9fTHBNxnKarLm2vWm-6pe6kdVIGJSdOku8TigiejJL72rkCDQ2CNtX3Q4i2KpGUAOpNSzT-1FDQBKAkts4RR310 7200
2016:10:07 23:07:01 27219 140329329297152 [INFO get_openid 1289] [TOKEN] getopenid set web_refresh_token_oYgYJwXWP9vbAVtIGWYJ5TDGky5A: D-0GEUgxeX_6t33quxX0oy4g8PlvWkkP-ywKqyyDdtfawNndkRgaA9RhoK0TZuy_LB5oOKkXJMerpe50PDrVaVWdnYnAEi-odDYNcIHaciI 8640000
2016:10:07 23:07:01 27219 140329329297152 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 23:07:01 27219 140329329297152 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A';, count:1, time:0.000.
2016:10:07 23:07:01 27219 140329329297152 [INFO db_exec 84] [sql_w] update 6s_user set wechat='pavilion',gender='male',img='http://wx.qlogo.cn/mmopen/Jreh0PUDb4317HTFS9A9s5fHagVMZXDec53xtVFqmEOJvxIFHuQVAJYBrsicicC8pJlfEBnZHiaIGJAuoHVS1mhh2Pvrs0TPHwG/0',status=1 where openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A';, count:0, time:0.000.
2016:10:07 23:07:01 27219 140329329297152 [INFO get_openid 1333] return openid. 001k8ofj2pMbxL0yGfgj21Fvfj2k8ofJ -> {'openid': u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A', 'errcode': 0, 'errmsg': ''}
2016:10:07 23:07:02 27219 140329329297152 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwXWP9vbAVtIGWYJ5TDGky5A'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 23:07:02 27219 140329329297152 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwXWP9vbAVtIGWYJ5TDGky5A', count:1, time:0.001.
2016:10:07 23:07:02 27219 140329329297152 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 23:07:02 27219 140329329297152 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 23:07:23 27219 140329329297152 [INFO wrapper 75] >>>get_wx_acttypes<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:07:23 27219 140329329297152 [INFO wrapper 75] >>>get_hot_activities<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:07:23 27219 140329329297152 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 23:07:23 27219 140329329297152 [INFO wrapper 75] >>>get_openid<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'001HSTdD19f6Pg0l3seD1LaNdD1HSTdm']}>, args:()
2016:10:07 23:07:23 27219 140329329297152 [INFO get_openid 1287] [TOKEN] getopenid set web_access_token_oYgYJwUgOccsAzd4vvnJ_LkBPRbk: tLOq4tj6GJpT3grN-LFuTUEArVfeUNTPplr6XCzLSsBU3FdVo5fFaMXmR_TnlZ1k_-RZtNib09TnkagKBlwOuiTXy_RekiTpft9T47q3TSA 7200
2016:10:07 23:07:23 27219 140329329297152 [INFO get_openid 1289] [TOKEN] getopenid set web_refresh_token_oYgYJwUgOccsAzd4vvnJ_LkBPRbk: uOkqRFSPkE5mwwa-V9d5U1wdoD7LBuP5lD9DSTIMhxSqb4m-rXF8bZ_ZrOydc2DT7-DSKTtkB5iPUSl73_BUvimgTC0BkiB6qPZ__MQ6d_s 8640000
2016:10:07 23:07:24 27219 140329329297152 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 23:07:24 27219 140329329297152 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUgOccsAzd4vvnJ_LkBPRbk';, count:0, time:0.000.
2016:10:07 23:07:24 27219 140329329297152 [INFO db_exec 84] [sql_w] insert into 6s_user(wechat,gender,img,position_id,openid,createtime) values('梁宾c','male','http://wx.qlogo.cn/mmopen/ic1p7p4l5OGF6eVJzDz9niaMcTzaqIC6Er1pbrpYicYRbSfQglIUoUee7ud54YeDXJuOrc4RGognEyTHRruD7RLtluGqkXMs9VY/0','101010100','oYgYJwUgOccsAzd4vvnJ_LkBPRbk',now());, count:1, time:0.017.
2016:10:07 23:07:24 27219 140329329297152 [INFO get_openid 1333] return openid. 001HSTdD19f6Pg0l3seD1LaNdD1HSTdm -> {'openid': u'oYgYJwUgOccsAzd4vvnJ_LkBPRbk', 'errcode': 0, 'errmsg': ''}
2016:10:07 23:07:24 27219 140329329297152 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUgOccsAzd4vvnJ_LkBPRbk'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 23:07:24 27219 140329329297152 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUgOccsAzd4vvnJ_LkBPRbk', count:1, time:0.001.
2016:10:07 23:07:24 27219 140329329297152 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 23:07:24 27219 140329329297152 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 23:07:34 27219 140329329297152 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUgOccsAzd4vvnJ_LkBPRbk'], u'actid': [u'90']}>, args:()
2016:10:07 23:07:34 27219 140329329297152 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUgOccsAzd4vvnJ_LkBPRbk' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 23:07:34 27219 140329329297152 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 23:07:34 27219 140329329297152 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUgOccsAzd4vvnJ_LkBPRbk' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 23:07:34 27219 140329329297152 [INFO wrapper 75] >>>activities_details<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUgOccsAzd4vvnJ_LkBPRbk'], u'actid': [u'90']}>, args:()
2016:10:07 23:07:34 27219 140329329297152 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 23:07:35 27219 140329329297152 [INFO wrapper 75] >>>get_js_signature<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=90']}>, args:()
2016:10:07 23:07:56 27219 140329329297152 [INFO wrapper 75] >>>activities_details<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUgOccsAzd4vvnJ_LkBPRbk'], u'actid': [u'74']}>, args:()
2016:10:07 23:07:56 27219 140329329297152 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=74;, count:1, time:0.001.
2016:10:07 23:07:56 27219 140329329297152 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUgOccsAzd4vvnJ_LkBPRbk'], u'actid': [u'74']}>, args:()
2016:10:07 23:07:56 27219 140329329297152 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUgOccsAzd4vvnJ_LkBPRbk' and a.act_id=74 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 23:07:56 27219 140329329297152 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=74;, count:1, time:0.000.
2016:10:07 23:07:56 27219 140329329297152 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUgOccsAzd4vvnJ_LkBPRbk' and act_id=74 and status=1;, count:0, time:0.000.
2016:10:07 23:07:56 27219 140329329297152 [INFO wrapper 75] >>>get_js_signature<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=74']}>, args:()
2016:10:07 23:08:12 27243 140092638283520 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 23:08:12 27243 140092638283520 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 23:08:12 27243 140092638283520 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 23:08:12 27243 140092638283520 [INFO _get_user_status_map 239] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 23:08:12 27243 140092638283520 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 23:08:13 27243 140092638283520 [INFO <module> 1073] [TOKEN] start new thread.
2016:10:07 23:08:13 27243 140092638283520 [INFO wrapper 75] >>>activities_details<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUgOccsAzd4vvnJ_LkBPRbk'], u'actid': [u'74']}>, args:()
2016:10:07 23:08:13 27243 140092638283520 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=74;, count:1, time:0.001.
2016:10:07 23:08:13 27243 140092638283520 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUgOccsAzd4vvnJ_LkBPRbk'], u'actid': [u'74']}>, args:()
2016:10:07 23:08:13 27243 140092638283520 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUgOccsAzd4vvnJ_LkBPRbk' and a.act_id=74 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 23:08:13 27243 140092638283520 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=74;, count:1, time:0.000.
2016:10:07 23:08:13 27243 140092638283520 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUgOccsAzd4vvnJ_LkBPRbk' and act_id=74 and status=1;, count:0, time:0.000.
2016:10:07 23:08:13 27243 140092638283520 [INFO wrapper 75] >>>get_js_signature<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=74']}>, args:()
2016:10:07 23:08:28 27253 139950576764672 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 23:08:28 27253 139950576764672 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 23:08:28 27253 139950576764672 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 23:08:28 27253 139950576764672 [INFO _get_user_status_map 239] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 23:08:28 27253 139950576764672 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 23:08:28 27253 139950576764672 [INFO <module> 1073] [TOKEN] start new thread.
2016:10:07 23:08:28 27253 139950576764672 [INFO wrapper 75] >>>activities_details<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUgOccsAzd4vvnJ_LkBPRbk'], u'actid': [u'73']}>, args:()
2016:10:07 23:08:28 27253 139950576764672 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=73;, count:1, time:0.001.
2016:10:07 23:08:28 27253 139950576764672 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUgOccsAzd4vvnJ_LkBPRbk'], u'actid': [u'73']}>, args:()
2016:10:07 23:08:28 27253 139950576764672 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUgOccsAzd4vvnJ_LkBPRbk' and a.act_id=73 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 23:08:28 27253 139950576764672 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=73;, count:1, time:0.000.
2016:10:07 23:08:28 27253 139950576764672 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUgOccsAzd4vvnJ_LkBPRbk' and act_id=73 and status=1;, count:0, time:0.000.
2016:10:07 23:08:29 27253 139950576764672 [INFO wrapper 75] >>>get_js_signature<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=73']}>, args:()
2016:10:07 23:08:32 27253 139950576764672 [INFO wrapper 75] >>>default_process<<< [58.247.206.155] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'328987583'], u'timestamp': [u'1475852912'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'7e65d8838651a86604fa7414591f7dd3f749796f']}>, args:()
2016:10:07 23:08:32 27253 139950576764672 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 23:08:32 27253 139950576764672 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'104960417'], u'timestamp': [u'1475852912'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'36c4783cad19737c8ba4713f10406b68082148a3']}>, args:()
2016:10:07 23:08:32 27253 139950576764672 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 23:08:32 27253 139950576764672 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 23:08:32 27253 139950576764672 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 23:08:32 27253 139950576764672 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 23:08:32 27253 139950576764672 [WARNING save_pos_wx 904] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 23:08:35 27253 139950576764672 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:08:35 27253 139950576764672 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:08:35 27253 139950576764672 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 23:08:35 27253 139950576764672 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'041iL5ka1oGdoU1MzWka1iI3ka1iL5kE']}>, args:()
2016:10:07 23:08:35 27253 139950576764672 [INFO get_openid 1287] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: gB2nGPJY1fMM4Vhldt45JbtYdOTUFHhmR9O0r8iIjr_Nw0q6H5hdblHrpbNJXZCpZAaMKlJBA4JFjpGwTTBlB5xM5UYRWL09khurY7ePo80 7200
2016:10:07 23:08:35 27253 139950576764672 [INFO get_openid 1289] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: NLHNK3fcuWXRRmwr5xERgH_UHInGciVAnGFl-MRZ0HIkiWuwwzZdpwQaMLwi6mw2Rx8pT2V9MZWKxOSfpDXLZ_ZkiE5piHNFcfPMkIx5_fk 8640000
2016:10:07 23:08:35 27253 139950576764672 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 23:08:35 27253 139950576764672 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 23:08:35 27253 139950576764672 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 23:08:35 27253 139950576764672 [INFO get_openid 1333] return openid. 041iL5ka1oGdoU1MzWka1iI3ka1iL5kE -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 23:08:35 27253 139950576764672 [INFO wrapper 75] >>>activities_getprofile<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUgOccsAzd4vvnJ_LkBPRbk']}>, args:()
2016:10:07 23:08:35 27253 139950576764672 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='oYgYJwUgOccsAzd4vvnJ_LkBPRbk';, count:1, time:0.000.
2016:10:07 23:08:39 27253 139950576764672 [INFO wrapper 75] >>>get_js_signature<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=73']}>, args:()
2016:10:07 23:08:40 27253 139950576764672 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 23:08:40 27253 139950576764672 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 23:08:40 27253 139950576764672 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 23:08:40 27253 139950576764672 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 23:08:46 27253 139950576764672 [INFO wrapper 75] >>>get_hot_activities<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:08:46 27253 139950576764672 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 23:08:46 27253 139950576764672 [INFO wrapper 75] >>>get_wx_acttypes<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:08:46 27253 139950576764672 [INFO wrapper 75] >>>get_openid<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'0010O3nv1Jo0A60EStlv1FTVmv10O3nB']}>, args:()
2016:10:07 23:08:46 27253 139950576764672 [INFO get_openid 1287] [TOKEN] getopenid set web_access_token_oYgYJwUgOccsAzd4vvnJ_LkBPRbk: pXUFN3YHHS2rynG4t8TboJJ_hnPvrU1XkExY6HXHqKqwI0UJzwBXGm8pxYkE5ocmoXoG9PPp4dXdgFZ1h7OwViEdYu-nAvVUvdXwaqliPjM 7200
2016:10:07 23:08:46 27253 139950576764672 [INFO get_openid 1289] [TOKEN] getopenid set web_refresh_token_oYgYJwUgOccsAzd4vvnJ_LkBPRbk: laMo7iwe9IsX42o6YQGEYSFea0DIcv2Y50QaWTdX4GmXr9T4aG9ycClWistSbmZCmkMrMF_NsItTE1Gvn0yJhYvFYpUB6_FtGYz0I9tvWOk 8640000
2016:10:07 23:08:46 27253 139950576764672 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 23:08:46 27253 139950576764672 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUgOccsAzd4vvnJ_LkBPRbk';, count:1, time:0.000.
2016:10:07 23:08:46 27253 139950576764672 [INFO db_exec 84] [sql_w] update 6s_user set wechat='梁宾c',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGF6eVJzDz9niaMcTzaqIC6Er1pbrpYicYRbSfQglIUoUee7ud54YeDXJuOrc4RGognEyTHRruD7RLtluGqkXMs9VY/0',status=1 where openid='oYgYJwUgOccsAzd4vvnJ_LkBPRbk';, count:0, time:0.001.
2016:10:07 23:08:46 27253 139950576764672 [INFO get_openid 1333] return openid. 0010O3nv1Jo0A60EStlv1FTVmv10O3nB -> {'openid': u'oYgYJwUgOccsAzd4vvnJ_LkBPRbk', 'errcode': 0, 'errmsg': ''}
2016:10:07 23:08:46 27253 139950576764672 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUgOccsAzd4vvnJ_LkBPRbk'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 23:08:46 27253 139950576764672 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUgOccsAzd4vvnJ_LkBPRbk', count:1, time:0.001.
2016:10:07 23:08:46 27253 139950576764672 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 23:08:46 27253 139950576764672 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 23:08:52 27253 139950576764672 [INFO wrapper 75] >>>activities_special_offers<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUgOccsAzd4vvnJ_LkBPRbk'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'2']}>, args:()
2016:10:07 23:08:52 27253 139950576764672 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUgOccsAzd4vvnJ_LkBPRbk', count:1, time:0.001.
2016:10:07 23:08:52 27253 139950576764672 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 5;, count:5, time:0.004.
2016:10:07 23:08:52 27253 139950576764672 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 23:08:53 27253 139950576764672 [INFO wrapper 75] >>>default_process<<< [58.247.206.150] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'520489648'], u'timestamp': [u'1475852933'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'70c25cc62d5cd63deed029fe0144b9f31a04f77a']}>, args:()
2016:10:07 23:08:53 27253 139950576764672 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 23:08:54 27253 139950576764672 [INFO wrapper 75] >>>default_process<<< [58.247.206.151] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'581318036'], u'timestamp': [u'1475852934'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'058ee73287b1b1a36f032e24c6e9973e60e48fbb']}>, args:()
2016:10:07 23:08:54 27253 139950576764672 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 23:08:57 27253 139950576764672 [INFO wrapper 75] >>>activities_details<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUgOccsAzd4vvnJ_LkBPRbk'], u'actid': [u'61']}>, args:()
2016:10:07 23:08:57 27253 139950576764672 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=61;, count:1, time:0.001.
2016:10:07 23:08:57 27253 139950576764672 [INFO wrapper 75] >>>activities_getsignupstatus<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'oYgYJwUgOccsAzd4vvnJ_LkBPRbk'], u'actid': [u'61']}>, args:()
2016:10:07 23:08:57 27253 139950576764672 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='oYgYJwUgOccsAzd4vvnJ_LkBPRbk' and a.act_id=61 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 23:08:57 27253 139950576764672 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=61;, count:1, time:0.000.
2016:10:07 23:08:57 27253 139950576764672 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='oYgYJwUgOccsAzd4vvnJ_LkBPRbk' and act_id=61 and status=1;, count:0, time:0.000.
2016:10:07 23:08:57 27253 139950576764672 [INFO wrapper 75] >>>get_js_signature<<< [117.136.79.17] POST:<QueryDict: {}>, GET:<QueryDict: {u'url': [u'http://www.6skills.com/template/activity_detail.html?actid=61']}>, args:()
2016:10:07 23:09:02 27253 139950576764672 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:09:02 27253 139950576764672 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:09:02 27253 139950576764672 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 23:09:02 27253 139950576764672 [INFO wrapper 75] >>>default_process<<< [183.232.90.80] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:09:02 27253 139950576764672 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'021qyws71oE2kX1Roks714BCs71qywsO']}>, args:()
2016:10:07 23:09:02 27253 139950576764672 [INFO get_openid 1287] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: wvbvXozjAXcA8YvJTS4qqt7f9xFIPWniPD8V2tF4dZqP3CYNIQMdEDo6AWBPKBrRHVmaHHJN-AEesMawTGEVpuFr9vULavS5yozAMdzI_Fk 7200
2016:10:07 23:09:02 27253 139950576764672 [INFO get_openid 1289] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: 18nD6pgo_LA7YIF_4ew0vE6jveL0xHvRksEkOLoyRAj6Ztd2tGX2XNBnhkoCaZGmfcPKMAJfnGuTS7Ehg-dVQzaX4qUehfvnJIri7gGqVl8 8640000
2016:10:07 23:09:03 27253 139950576764672 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 23:09:03 27253 139950576764672 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 23:09:03 27253 139950576764672 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 23:09:03 27253 139950576764672 [INFO get_openid 1333] return openid. 021qyws71oE2kX1Roks714BCs71qywsO -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 23:09:03 27253 139950576764672 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 23:09:03 27253 139950576764672 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 23:09:03 27253 139950576764672 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 23:09:03 27253 139950576764672 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 23:09:12 27253 139950576764672 [INFO wrapper 75] >>>default_process<<< [183.232.118.16] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:09:48 27263 140699755587328 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 23:09:48 27263 140699755587328 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 23:09:48 27263 140699755587328 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 23:09:48 27263 140699755587328 [INFO _get_user_status_map 239] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 23:09:48 27263 140699755587328 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 23:09:48 27263 140699755587328 [INFO <module> 1073] [TOKEN] start new thread.
2016:10:07 23:09:48 27263 140699755587328 [INFO wrapper 75] >>>default_process<<< [58.247.206.150] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1510297195'], u'timestamp': [u'1475852988'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'6f7a29f852209704894a4441f3100696970cb7af']}>, args:()
2016:10:07 23:09:48 27263 140699755587328 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 23:09:48 27263 140699755587328 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 23:09:48 27263 140699755587328 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 23:09:48 27263 140699755587328 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 23:09:48 27263 140699755587328 [WARNING save_pos_wx 904] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 23:09:48 27263 140699755587328 [INFO wrapper 75] >>>default_process<<< [58.247.206.155] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'728072183'], u'timestamp': [u'1475852988'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'070fa3b332f8b636b7c34836323b1e2f9635cf7f']}>, args:()
2016:10:07 23:09:48 27263 140699755587328 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 23:09:49 27263 140699755587328 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'0315WlDa1qUl9U1LxBCa10thDa15WlDo']}>, args:()
2016:10:07 23:09:49 27263 140699755587328 [INFO get_openid 1287] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: GruEeqMpkKpKO6NA_NaUsBf-yv2M9_6K3bUXU8g45qgoChu6_sETltsUcj3oRkHFnHeBiUX-id_9DEogM_mFyR8RbcjkAC7bG5ARTYp-Dbo 7200
2016:10:07 23:09:49 27263 140699755587328 [INFO get_openid 1289] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: AFPPk7gdQr2fpX8C5hAP9DZ-G39Zz-FoCXCOaomlJ4GKUbR0IXZgXbRSbHxYIlMz8DUK7ajcIdZjEIcz7jS-t43yBc7ylLUTA5CfRnUUwso 8640000
2016:10:07 23:09:49 27263 140699755587328 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 23:09:49 27263 140699755587328 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 23:09:49 27263 140699755587328 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.001.
2016:10:07 23:09:49 27263 140699755587328 [INFO get_openid 1333] return openid. 0315WlDa1qUl9U1LxBCa10thDa15WlDo -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 23:09:49 27263 140699755587328 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:09:49 27263 140699755587328 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 23:09:49 27263 140699755587328 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:09:49 27263 140699755587328 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 23:09:49 27263 140699755587328 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 23:09:49 27263 140699755587328 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 23:09:49 27263 140699755587328 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 23:12:30 27263 140699755587328 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:12:30 27263 140699755587328 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:12:30 27263 140699755587328 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:12:37 27263 140699755587328 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:12:37 27263 140699755587328 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:12:37 27263 140699755587328 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:12:48 27263 140699755587328 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:12:48 27263 140699755587328 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:12:48 27263 140699755587328 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:13:24 27263 140699755587328 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:13:24 27263 140699755587328 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:13:24 27263 140699755587328 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:13:30 27263 140699755587328 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:13:30 27263 140699755587328 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:13:30 27263 140699755587328 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:13:36 27263 140699755587328 [INFO wrapper 75] >>>activities_reset<<< [27.46.137.60] POST:<QueryDict: {u'openid': [u'']}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:13:36 27263 140699755587328 [ERROR _check_mysql_arg_json 161] 参数signid不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/views/decorators/csrf.py', 57, 'wrapped_view', 'return view_func(*args, **kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 548, 'activities_reset', 'ret,signid = check_mysql_arg_jsonobj("signid", args.get("signid",None), "int")'), ('./skills/common.py', 187, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type, defval)'), ('./skills/common.py', 161, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 23:14:03 27263 140699755587328 [INFO wrapper 75] >>>default_process<<< [58.247.206.140] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'537622299'], u'timestamp': [u'1475853243'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'20d3bd6dea91b15e9ab43799db5b948ae874dca4']}>, args:()
2016:10:07 23:14:03 27263 140699755587328 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_LOCATION, bodylen:341
2016:10:07 23:14:03 27263 140699755587328 [INFO db_exec 86] [sql_r] select id from 6s_position where name='天河区';, count:1, time:0.001.
2016:10:07 23:14:03 27263 140699755587328 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 23:14:03 27263 140699755587328 [INFO db_exec 84] [sql_w] update 6s_user set position_id=101010100,position_details='广州市 天河区 上社横街中山大道西215号' where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 23:14:03 27263 140699755587328 [WARNING save_pos_wx 904] save_pos_wx update posid return 0. openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4 101010100
2016:10:07 23:14:45 27263 140699755587328 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:14:45 27263 140699755587328 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:14:45 27263 140699755587328 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:14:48 27263 140699755587328 [INFO wrapper 75] >>>activities_reset<<< [27.46.137.60] POST:<QueryDict: {u'openid': [u'']}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:14:48 27263 140699755587328 [ERROR _check_mysql_arg_json 161] 参数signid不能为空.[('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/wsgi.py', 206, '__call__', 'response = self.get_response(request)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/core/handlers/base.py', 112, 'get_response', 'response = wrapped_callback(request, *callback_args, **callback_kwargs)'), ('/usr/local/lib/python2.7/dist-packages/Django-1.6.8-py2.7.egg/django/views/decorators/csrf.py', 57, 'wrapped_view', 'return view_func(*args, **kwargs)'), ('./skills/common.py', 78, 'wrapper', 'ret = func(req)'), ('./skills/wxapi.py', 548, 'activities_reset', 'ret,signid = check_mysql_arg_jsonobj("signid", args.get("signid",None), "int")'), ('./skills/common.py', 187, 'check_mysql_arg_jsonobj', 'ret,output = _check_mysql_arg_json(_name, _arg, _type, defval)'), ('./skills/common.py', 161, '_check_mysql_arg_json', 'mo.logger.error( "\xe5\x8f\x82\xe6\x95\xb0%s\xe4\xb8\x8d\xe8\x83\xbd\xe4\xb8\xba\xe7\xa9\xba."%_name+str(traceback.extract_stack()) )')]
2016:10:07 23:15:21 27263 140699755587328 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:15:21 27263 140699755587328 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:15:21 27263 140699755587328 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:15:44 27263 140699755587328 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:15:44 27263 140699755587328 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:15:44 27263 140699755587328 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:15:47 27263 140699755587328 [INFO wrapper 75] >>>activities_reset<<< [27.46.137.60] POST:<QueryDict: {u'openid': [u''], u'signid': [u'2']}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:15:47 27263 140699755587328 [INFO db_exec 84] [sql_w] update 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id set c.quantities_remain=c.quantities_remain+1, a.status=0 where a.id=2 and b.openid='';, count:0, time:0.001.
2016:10:07 23:15:47 27263 140699755587328 [WARNING activities_reset 564] Nothing update..
2016:10:07 23:16:24 27263 140699755587328 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:16:24 27263 140699755587328 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:16:24 27263 140699755587328 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:17:14 27263 140699755587328 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:17:14 27263 140699755587328 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:17:14 27263 140699755587328 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:17:21 27263 140699672844032 [INFO _update_web_access_token 1011] [TOKEN] update web_ access_token:G6_rOddmEkzTBfD1rYGBChiz72-DPKcZ1Kl_NLJ2Wqx4DZhDCAzG2VDw3huHBnPrg3F8rcd7GSN27_hm3sdmEzBpUUkHTlmGXtIv1eAHJFw
2016:10:07 23:17:21 27263 140699672844032 [INFO _update_web_access_token 1013] [TOKEN] upload web_ refresh_token:fl1GS1tWjZLQdK3e8RW5s1y3v3duKcZ7fnwXeuB57sgdFU1_18gAUSUyT3_4HR1hoIWVqzcaGBzSA-unZ7osb7AkJE4aHB-DowRnLAJC5us
2016:10:07 23:17:23 27263 140699755587328 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:17:23 27263 140699755587328 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:17:23 27263 140699755587328 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:17:28 27263 140699755587328 [INFO wrapper 75] >>>activities_mycollections<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 23:17:28 27263 140699755587328 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 23:17:28 27263 140699755587328 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 23:19:20 27390 140265025156864 [INFO db_init_w 18] [conn_w]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 23:19:20 27390 140265025156864 [INFO db_init_r 32] [conn_r]127.0.0.1_root_sixskillslinxuping_sixskillsdb 0.
2016:10:07 23:19:20 27390 140265025156864 [INFO db_exec 86] [sql_r] select id,name from 6s_actstatus;, count:5, time:0.001.
2016:10:07 23:19:20 27390 140265025156864 [INFO _get_user_status_map 239] select id,name from 6s_actstatus;. 5. ((0L, u'\u505c\u7528'), (1L, u'\u53ef\u7528'), (2L, u'\u5ba1\u6838\u4e2d'), (3L, u'\u62d2\u7edd'), (4L, u'\u7981\u6b62\u53d1\u5e16'))
2016:10:07 23:19:20 27390 140265025156864 [INFO db_exec 86] [sql_r] select name from 6s_position where pid=101000000;, count:2, time:0.000.
2016:10:07 23:19:20 27390 140265025156864 [INFO <module> 1073] [TOKEN] start new thread.
2016:10:07 23:19:20 27390 140265025156864 [INFO wrapper 75] >>>default_process<<< [58.247.206.155] POST:<QueryDict: {}>, GET:<QueryDict: {u'nonce': [u'1649731238'], u'timestamp': [u'1475853560'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'signature': [u'1ac50b9659b39168e1fe0caf5e654e6bdf4b0cc1']}>, args:()
2016:10:07 23:19:20 27390 140265025156864 [INFO default_process 1192] openid:oYgYJwUkw7GldFuggLCD-N1BVrJ4, msg:event_VIEW, bodylen:511
2016:10:07 23:19:24 27390 140265025156864 [INFO wrapper 75] >>>get_hot_activities<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:19:24 27390 140265025156864 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 23:19:24 27390 140265025156864 [INFO wrapper 75] >>>get_wx_acttypes<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:19:24 27390 140265025156864 [INFO wrapper 75] >>>get_openid<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'code': [u'0415gtOs15rVir00yuOs1S6xOs15gtOp']}>, args:()
2016:10:07 23:19:24 27390 140265025156864 [INFO get_openid 1287] [TOKEN] getopenid set web_access_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: Nrgjo70PTahZdQjpEeTkP0hI8sxOErbGfolqa3lVww3QVr5b5Toe7s85S68qz-tHufNpJIyCylSKS7rpIsO4OR77ha-xYYYn5QVuDUtY8SA 7200
2016:10:07 23:19:24 27390 140265025156864 [INFO get_openid 1289] [TOKEN] getopenid set web_refresh_token_oYgYJwUkw7GldFuggLCD-N1BVrJ4: PJkZbg2RVSscU0ZP2kGhU7UxaJSS2HY2IDeqMRKvutpeKLYQTjVOcuWYFb4ZFSkBP7MlxH_rFWr1O-MTSml16-X0_QL--ZpTKNbtS0ZqqcU 8640000
2016:10:07 23:19:24 27390 140265025156864 [INFO db_exec 86] [sql_r] select id from 6s_position where name='广州市';, count:1, time:0.001.
2016:10:07 23:19:24 27390 140265025156864 [INFO db_exec 86] [sql_r] select id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:1, time:0.000.
2016:10:07 23:19:24 27390 140265025156864 [INFO db_exec 84] [sql_w] update 6s_user set wechat='Kavin.XPL',gender='male',img='http://wx.qlogo.cn/mmopen/ic1p7p4l5OGGHtEekDFk2GSQtAKCtaOMqibicy3K36datsVjvgYsx2Nbia5gXXGkr7PfADz2lHLUCqQC34IN9L8we7XAJTT0eM8Q/0',status=1 where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4';, count:0, time:0.000.
2016:10:07 23:19:24 27390 140265025156864 [INFO get_openid 1333] return openid. 0415gtOs15rVir00yuOs1S6xOs15gtOp -> {'openid': u'oYgYJwUkw7GldFuggLCD-N1BVrJ4', 'errcode': 0, 'errmsg': ''}
2016:10:07 23:19:24 27390 140265025156864 [INFO wrapper 75] >>>activities_special_offers<<< [58.62.53.246] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u'oYgYJwUkw7GldFuggLCD-N1BVrJ4'], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 23:19:24 27390 140265025156864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='oYgYJwUkw7GldFuggLCD-N1BVrJ4', count:1, time:0.001.
2016:10:07 23:19:24 27390 140265025156864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.004.
2016:10:07 23:19:24 27390 140265025156864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 23:21:12 27390 140265025156864 [INFO wrapper 75] >>>activities_special_offers<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'city': [u''], u'pagesize': [u'5'], u'district': [u'*'], u'openid': [u''], u'age': [u'0-100'], u'area': [u'*'], u'page': [u'1']}>, args:()
2016:10:07 23:21:12 27390 140265025156864 [INFO db_exec 86] [sql_r] select position_id from 6s_user where openid='', count:0, time:0.001.
2016:10:07 23:21:12 27390 140265025156864 [INFO db_exec 86] [sql_r] select * from ((select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,DATE_ADD(a.createtime,INTERVAL 12 MONTH) as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid=101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)  union  (select a.id,imgs_act,title,b.name as type,c.name,age_from,age_to,a.price_child as pchild,a.price_adult as padult,a.quantities_remain as qremains,img_cover,a.createtime as sortdate,a2.price_child,a2.content from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  b.status=1 and c.pid<>101010100 and ((age_from between 0 and 100) or (age_to between 0 and 100) or (age_from<0 and age_to>100)) and a.status=1)) as tmptable order by sortdate desc limit 5 offset 0;, count:5, time:0.005.
2016:10:07 23:21:12 27390 140265025156864 [INFO db_exec 86] [sql_r] select count(a.id) from 6s_activity a left join 6s_acttype b on a.act_id=b.id left join 6s_acttype b2 on b.pid=b2.id left join 6s_position c on a.position_id=c.id left join 6s_position d on c.pid=d.id where  ((age_from between 0 and 100) or (age_to between 0 and 100)) and a.status=1; , count:1, time:0.001.
2016:10:07 23:21:12 27390 140265025156864 [INFO wrapper 75] >>>get_hot_activities<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:21:12 27390 140265025156864 [INFO db_exec 86] [sql_r] select b.id,b.img_cover,b.title from 6s_hot_activities a left join 6s_activity b on a.refid=b.id order by a.sequence;, count:3, time:0.001.
2016:10:07 23:21:12 27390 140265025156864 [INFO wrapper 75] >>>get_wx_acttypes<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:21:23 27390 140265025156864 [INFO wrapper 75] >>>activities_details<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 23:21:23 27390 140265025156864 [INFO db_exec 86] [sql_r] select a.id,imgs_act,title,a.content,b.name,c.name,age_from,age_to,a.price_child,a.price_adult,a.quantities_remain,img_cover,imgs_act,preinfo,DATE_FORMAT(a.time_from,'%Y-%m-%d'),DATE_FORMAT(a.time_to,'%Y-%m-%d'),a2.price_child,a2.price_adult,a2.content,a.position_details,a.sign_type from 6s_activity a left join 6s_preinfo a2 on a.preinfo_id=a2.id left join 6s_acttype b on a.act_id=b.id left join 6s_position c on a.position_id=c.id where a.id=90;, count:1, time:0.001.
2016:10:07 23:21:23 27390 140265025156864 [INFO wrapper 75] >>>activities_getsignupstatus<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'actid': [u'90']}>, args:()
2016:10:07 23:21:23 27390 140265025156864 [INFO db_exec 86] [sql_r] select a.id,b.img_qrcode,b.time_to>now(),e.id,a.part_profession,b.price_child,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_user c on a.user_id=c.id left join 6s_prepay_info d on b.id=d.act_id left join 6s_wxpay e on d.out_trade_no=e.out_trade_no where c.openid='' and a.act_id=90 and a.status=1 and b.status=1;, count:0, time:0.001.
2016:10:07 23:21:23 27390 140265025156864 [INFO db_exec 86] [sql_r] select time_to>now() from 6s_activity where id=90;, count:1, time:0.000.
2016:10:07 23:21:23 27390 140265025156864 [INFO db_exec 86] [sql_r] select id from 6s_collection where openid='' and act_id=90 and status=1;, count:0, time:0.000.
2016:10:07 23:23:44 27390 140265025156864 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:23:44 27390 140265025156864 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:23:44 27390 140265025156864 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:23:59 27390 140265025156864 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:23:59 27390 140265025156864 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:23:59 27390 140265025156864 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:25:00 27390 140265025156864 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:25:00 27390 140265025156864 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:25:00 27390 140265025156864 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:25:04 27390 140265025156864 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:25:04 27390 140265025156864 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:25:04 27390 140265025156864 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:25:22 27390 140265025156864 [INFO wrapper 75] >>>default_process<<< [115.28.122.43] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:27:18 27390 140265025156864 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:27:18 27390 140265025156864 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:27:18 27390 140265025156864 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:27:29 27390 140265025156864 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:27:29 27390 140265025156864 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:27:29 27390 140265025156864 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:27:52 27390 140265025156864 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:27:52 27390 140265025156864 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:27:52 27390 140265025156864 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:29:38 27390 140265025156864 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:29:38 27390 140265025156864 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:29:38 27390 140265025156864 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:29:56 27390 140265025156864 [INFO wrapper 75] >>>activities_mycollections<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 23:29:56 27390 140265025156864 [INFO db_exec 86] [sql_r] select a.act_id,c.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),c.position_details,a.id,DATE_FORMAT(c.time_from,'%Y-%m-%d'),a.id from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and a.status=1 and b.status=1 and c.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 23:29:56 27390 140265025156864 [INFO db_exec 86] [sql_r] select count(a.act_id) from 6s_collection a left join 6s_user b on a.openid=b.openid left join 6s_activity c on a.act_id=c.id where b.openid='' and b.status=1 and c.status=1;, count:1, time:0.000.
2016:10:07 23:30:06 27390 140265025156864 [INFO wrapper 75] >>>activities_reset<<< [27.46.137.60] POST:<QueryDict: {u'openid': [u''], u'signid': [u'2']}>, GET:<QueryDict: {}>, args:()
2016:10:07 23:30:06 27390 140265025156864 [INFO db_exec 84] [sql_w] update 6s_signup a left join 6s_user b on a.user_id=b.id left join 6s_activity c on a.act_id=c.id set c.quantities_remain=c.quantities_remain+1, a.status=0 where a.id=2 and b.openid='';, count:0, time:0.001.
2016:10:07 23:30:06 27390 140265025156864 [WARNING activities_reset 564] Nothing update..
2016:10:07 23:30:46 27390 140265025156864 [INFO wrapper 75] >>>activities_myunpay_list<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 23:30:46 27390 140265025156864 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='' and a.status=1 and b.status=1 and b2.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 23:30:46 27390 140265025156864 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:30:46 27390 140265025156864 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:30:46 27390 140265025156864 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:31:33 27390 140265025156864 [INFO wrapper 75] >>>activities_myunpay_list<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 23:31:33 27390 140265025156864 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='' and a.status=1 and b.status=1 and b2.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 23:31:33 27390 140265025156864 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:31:33 27390 140265025156864 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:31:33 27390 140265025156864 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:32:04 27390 140265025156864 [INFO wrapper 75] >>>activities_myunpay_list<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u''], u'page': [u'1'], u'pagesize': [u'100']}>, args:()
2016:10:07 23:32:04 27390 140265025156864 [INFO db_exec 86] [sql_r] select b.title,b.id,b.price_child,b.act_id,b.title,DATE_FORMAT(a.createtime,'%Y-%m-%d'),b.sign_type,a.part_group,a.part_profession,b2.price_child from 6s_signup a left join 6s_activity b on a.act_id=b.id left join 6s_preinfo b2 on b.preinfo_id=b2.id left join 6s_prepay_info c on b.id=c.act_id left join 6s_wxpay d on c.out_trade_no=d.out_trade_no left join 6s_user e on a.user_id=e.id where ( (b.price_child>0 and d.id is null) or (b2.price_child>0 and d.id is null) ) and e.openid='' and a.status=1 and b.status=1 and b2.status=1 order by a.createtime desc limit 100 offset 0;, count:0, time:0.001.
2016:10:07 23:32:04 27390 140265025156864 [INFO wrapper 75] >>>activities_getprofile<<< [27.46.137.60] POST:<QueryDict: {}>, GET:<QueryDict: {u'openid': [u'']}>, args:()
2016:10:07 23:32:04 27390 140265025156864 [INFO db_exec 86] [sql_r] select a.wechat,a.phone,a.img,a.position_details from 6s_user a where a.openid='';, count:0, time:0.001.
2016:10:07 23:32:04 27390 140265025156864 [ERROR activities_getprofile 680] cannot find user:. [openid: actid:null]
2016:10:07 23:32:11 27390 140265025156864 [INFO wrapper 75] >>>default_process<<< [45.79.103.178] POST:<QueryDict: {}>, GET:<QueryDict: {}>, args:()
